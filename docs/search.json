[
  {
    "objectID": "resources.html",
    "href": "resources.html",
    "title": "Resources",
    "section": "",
    "text": "Advanced data visualizations by Tanya Shapiro: Going above and beyond the basic capabilities of R visualizations\nData visualization with NFL data by Bradley J Congelio: Great example of using R to generate advanced data visualizations about the NFL.\nExploring college major and income: a live data analysis in R by David Robinson: Video example of a data analysis, in real time.",
    "crumbs": [
      "Course information",
      "Resources"
    ]
  },
  {
    "objectID": "resources.html#examples-of-data-analysesvisualizations",
    "href": "resources.html#examples-of-data-analysesvisualizations",
    "title": "Resources",
    "section": "",
    "text": "Advanced data visualizations by Tanya Shapiro: Going above and beyond the basic capabilities of R visualizations\nData visualization with NFL data by Bradley J Congelio: Great example of using R to generate advanced data visualizations about the NFL.\nExploring college major and income: a live data analysis in R by David Robinson: Video example of a data analysis, in real time.",
    "crumbs": [
      "Course information",
      "Resources"
    ]
  },
  {
    "objectID": "resources.html#datasets",
    "href": "resources.html#datasets",
    "title": "Resources",
    "section": "Datasets",
    "text": "Datasets\n\nCDC\nData.gov\nData is Plural\nFederal Reserve Economic Data\nGeneral Social Survey\nGoogle Dataset Search\nHarvard Dataverse\nInternational Monetary Fund\nIPUMS survey data from around the world\nOur World In Data\nPew Research\nPRISM Data Archive Project\nRoper Center\nSan Francisco Open Data\nSan Jose Open Data\nStanford Large Network Dataset Collection\nThe National Bureau of Economic Research\nTidyTuesday\nUCI Machine Learning Repository\nUNICEF Data\nUnited Nations Data\nUnited Nations Statistics Division\nUS Census Data\nUS Government Data\nWorld Bank Data\nYouth Risk Behavior Surveillance System (YRBSS)",
    "crumbs": [
      "Course information",
      "Resources"
    ]
  },
  {
    "objectID": "checkins/08_checkin.html",
    "href": "checkins/08_checkin.html",
    "title": "Check-in 8",
    "section": "",
    "text": "Remember, follow the instructions below and use R Markdown to create a pdf document with your code and answers to the following questions on Gradescope. You may find a template file by clicking “Code” in the top right corner of this page.\n\nDownload and read the documentation for the Childcare Costs data.\nUse visualization and regression to explore the following question: Is there a relationship between a county’s average childcare costs and its median household income? There will be more than one way to answer this question–the important thing is to explain the choices you make in your analysis."
  },
  {
    "objectID": "checkins/review-exercises.html",
    "href": "checkins/review-exercises.html",
    "title": "Review exercises",
    "section": "",
    "text": "Note that the following exercises are more involved than the kinds of questions you will see on the exam, but test the same types of probability and statistics concepts.\n\nYou want to gather data to determine which of two students is a better basketball shooter. You plan to have each student take N shots and then compare their shooting percentages. Roughly how large does N have to be for you to have a good chance of distinguishing a 30% shooter from a 40% shooter? (via Elden Griggs).\nLet \\(X\\sim N(0,1)\\) and for \\(i=1,\\ldots, n\\), let \\(Y_i\\sim N(X, 1)\\). Thus, \\(Y_1,\\ldots, Y_n\\) are all identically distributed, but dependent random variables. Show that in general, a typical large-sample 95% confidence interval for the mean \\(E(Y_i)\\) will not achieve the desired coverage rates.\nThe original Monty Hall problem is a famous probability puzzle: “Suppose you’re on a game show, and you’re given the choice of three doors: Behind one door is a car; behind the others, goats. You pick a door, say No. 1, and the host, who knows what’s behind the doors, opens another door, say No. 3, which has a goat. He then says to you,”Do you want to pick door No. 2?” Is it to your advantage to switch your choice?” Write code to simulate this situation and show that switching is advantageous.\nSuppose \\(X_1,\\ldots, X_n\\sim N(0, 1)\\) and \\(Y\\sim N(X, 1)\\). Use simulation to approximate the sampling distribution of \\(\\beta_1\\) when fitting the model \\(Y=\\beta_0+\\beta_1 x+\\epsilon\\) where \\(\\epsilon\\sim N(0, \\sigma^2)\\)."
  },
  {
    "objectID": "checkins/07_checkin.html",
    "href": "checkins/07_checkin.html",
    "title": "Check-in 7",
    "section": "",
    "text": "Remember, follow the instructions below and use R Markdown to create an html document with your code and answers to the following questions. You may find a template file by clicking “Code” in the top right corner of this page.\nLoad the flips data using the following code:\n\nlibrary(tidyverse)\nflips &lt;- read_csv(\"https://math167r-f24.github.io/static/flips.csv\")\nhead(flips)\n\n# A tibble: 6 × 5\n  A     B     C     D     E    \n  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;\n1 T     H     H     T     H    \n2 H     H     H     H     H    \n3 T     H     T     H     H    \n4 H     T     H     H     H    \n5 H     T     T     H     T    \n6 T     H     T     T     H    \n\n\n\nDesign your own hypothesis test to try to identify the sequence of real flips. Design your own test statistic and simulate the null distribution of your test statistic. Can you identify which sequence is the real one?"
  },
  {
    "objectID": "checkins/10_checkin.html",
    "href": "checkins/10_checkin.html",
    "title": "Check-in 10",
    "section": "",
    "text": "Remember, you must submit both your .Rmd and the compiled .html in order to receive full credit! In addition, to receive full credit, your code output and plots must be correctly formatted."
  },
  {
    "objectID": "checkins/10_checkin.html#part-1.-training-and-test-error-10-points",
    "href": "checkins/10_checkin.html#part-1.-training-and-test-error-10-points",
    "title": "Check-in 10",
    "section": "Part 1. Training and Test Error (10 points)",
    "text": "Part 1. Training and Test Error (10 points)\nUse the following code to generate data:\n\nlibrary(ggplot2)\n# generate data\nset.seed(302)\nn &lt;- 30\nx &lt;- sort(runif(n, -3, 3))\ny &lt;- 2*x + 2*rnorm(n)\nx_test &lt;- sort(runif(n, -3, 3))\ny_test &lt;- 2*x_test + 2*rnorm(n)\ndf_train &lt;- data.frame(\"x\" = x, \"y\" = y)\ndf_test &lt;- data.frame(\"x\" = x_test, \"y\" = y_test)\n\n# store a theme\nmy_theme &lt;- theme_bw(base_size = 16) + \n  theme(plot.title = element_text(hjust = 0.5, face = \"bold\"),\n        plot.subtitle = element_text(hjust = 0.5))\n\n# generate plots\ng_train &lt;- ggplot(df_train, aes(x = x, y = y)) + geom_point() +\n  xlim(-3, 3) + ylim(min(y, y_test), max(y, y_test)) + \n  labs(title = \"Training Data\") + my_theme\ng_test &lt;- ggplot(df_test, aes(x = x, y = y)) + geom_point() +\n  xlim(-3, 3) + ylim(min(y, y_test), max(y, y_test)) + \n  labs(title = \"Test Data\") + my_theme\ng_train\n\n\n\n\n\n\n\ng_test\n\n\n\n\n\n\n\n\n1a. For \\(k = 1\\) and \\(k = 5\\), fit a degree-k polynomial linear regression model with y as the response and x as the explanatory variable(s). (Hint: Use poly(), as in the lecture slides.)\n1b. For each model from (a), record the training error. Then predict y_test using x_test and also record the test error.\n1c. If you were going to choose a model based on training error, which would you choose? Plot the data, colored by split. Add a line to the plot representing your selection for model fit. Add a subtitle to this plot with the (rounded!) test error. (Hint: See Lecture Slides for example code.)\n1d. If you were going to choose a model based on test error, which would you choose? Plot the data, colored by split. Add a line to the plot representing your selection for model fit. Add a subtitle to this plot with the (rounded!) test error.\n1e. What do you notice about the shape of the curves from part (d) and (e)? Which model do you think has lower bias? Lower variance? Why?"
  },
  {
    "objectID": "checkins/06_checkin.html",
    "href": "checkins/06_checkin.html",
    "title": "Check-in 6",
    "section": "",
    "text": "Remember, follow the instructions below and use R Markdown to create an html document with your code and answers to the following questions. You may find a template file by clicking “Code” in the top right corner of this page.\n\nThe following code downloads two sequences of 256 digits. One of them was generated by asking ChatGPT to generate to “sample 1000 random digits from 0 to 9 with replacement” (I only got 256). The other was generated using the R command sample(0:9, 256, replace = T). Which is from R and which is from ChatGPT? Explain and justify your answer.\n\n\nA &lt;- read.csv(\"https://math167r-f24.github.io/static/digits-a.csv\")\nB &lt;- read.csv(\"https://math167r-f24.github.io/static/digits-b.csv\")"
  },
  {
    "objectID": "license.html",
    "href": "license.html",
    "title": "License",
    "section": "",
    "text": "These course materials are licensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License.\nThis is a brief summary of the license, which can be found here. Official translations of this license are available in other languages.\nYou are free to:\n\nShare — copy and redistribute the material in any medium or format\nAdapt — remix, transform, and build upon the material\n\nUnder the following terms:\n\nAttribution — You must give appropriate credit, provide a link to the license, and indicate if changes were made. You may do so in any reasonable manner, but not in any way that suggests the licensor endorses you or your use.\nNonCommercial — You may not use the material for commercial purposes.\nShareAlike — If you remix, transform, or build upon the material, you must distribute your contributions under the same license as the original.\nNo additional restrictions — You may not apply legal terms or technological measures that legally restrict others from doing anything the license permits.",
    "crumbs": [
      "Course information",
      "License"
    ]
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#overview-of-today",
    "href": "slides/15_data-analysis-functions.html#overview-of-today",
    "title": "MATH167R: Programming for data analysis",
    "section": "Overview of today",
    "text": "Overview of today\n\nProgramming for data science\nFunctional R programming with apply, lapply, mapply\nWorking with APIs\nLooping through many files"
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#programming-for-data-science",
    "href": "slides/15_data-analysis-functions.html#programming-for-data-science",
    "title": "MATH167R: Programming for data analysis",
    "section": "Programming for data science",
    "text": "Programming for data science\nIn the first half of the semester, we covered skills for exploratory data analysis: visualization and descriptive statistics.\nToday, we’ll combine those skills with programming concepts."
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#motivating-example",
    "href": "slides/15_data-analysis-functions.html#motivating-example",
    "title": "MATH167R: Programming for data analysis",
    "section": "Motivating example",
    "text": "Motivating example\nEach week, the New York Times publishes a list of the bestselling books in the US. Suppose we want to know:\n\nHow long has the current #1 book been #1?\nHow many different books have been on the bestseller list this month?\n\nAlternatively, suppose that we wish to create a visualization/analysis that we can easily update each week when the data is released."
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#motivating-example-1",
    "href": "slides/15_data-analysis-functions.html#motivating-example-1",
    "title": "MATH167R: Programming for data analysis",
    "section": "Motivating example",
    "text": "Motivating example\nIdeally, we can write functions that will allow us to produce results automatically each week for new data:\n\n## skeleton \nupdate_analysis &lt;- function() {\n  # load new data\n  results &lt;- load_data() |&gt;\n    clean_data() |&gt;\n    update_visualizations() \n  return(results)\n}\nload_data &lt;- function() {\n  # BODY OF FUNCTION\n}\nclean_data &lt;- function() {\n  # BODY OF FUNCTION\n}\nupdate_visualizations &lt;- function() {\n  # BODY OF FUNCTION\n}"
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#functional-programming",
    "href": "slides/15_data-analysis-functions.html#functional-programming",
    "title": "MATH167R: Programming for data analysis",
    "section": "Functional programming",
    "text": "Functional programming\nToday we’ll discuss some tools in R for running these kinds of automated analyses. In particular, we’ll focus on using R for functional programming.\nFunctional programming is a paradigm that focuses on writing and composing functions to perform tasks. Functional programming is an example of a declarative programming style which focuses on specifying what a program should accomplish, rather than how. On the other hand, imperative programming focuses on describing how a program operates."
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#functional-programming-1",
    "href": "slides/15_data-analysis-functions.html#functional-programming-1",
    "title": "MATH167R: Programming for data analysis",
    "section": "Functional programming",
    "text": "Functional programming\nThe benefits of functional programming include:\n\nTasks are broken up into modular functions that can be analyzed in isolation\nTasks may be easier to optimise or parallelize\nUnexpected side effects are avoided\n\nSome downsides include:\n\nFunctional programming may be less efficient than imperative programming\nLess transparency about how tasks are executed"
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#functional-programming-2",
    "href": "slides/15_data-analysis-functions.html#functional-programming-2",
    "title": "MATH167R: Programming for data analysis",
    "section": "Functional programming",
    "text": "Functional programming\nMany functional languages require functions to be pure, meaning that:\n\nThe output of a function depends only on the inputs, so if you call it with the same inputs, you get the same outputs.\nFunctions have no side effects like changing the values of variables in the global environment.\n\nR doesn’t require functions to be pure, but writing pure functions can help make your code understandable, at least in terms of clarifying what each function does."
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#imperative-vs.-declarative",
    "href": "slides/15_data-analysis-functions.html#imperative-vs.-declarative",
    "title": "MATH167R: Programming for data analysis",
    "section": "Imperative vs. declarative",
    "text": "Imperative vs. declarative\nImperative programming: for loop\n\nout &lt;- 0\nx &lt;- 1:10\nfor (i in x) {\n  out &lt;- out + i\n}\nout\n\n[1] 55\n\n\nDeclarative programming:\n\nsum(x)\n\n[1] 55"
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#example-a-complicated-for-loop",
    "href": "slides/15_data-analysis-functions.html#example-a-complicated-for-loop",
    "title": "MATH167R: Programming for data analysis",
    "section": "Example: a complicated for loop",
    "text": "Example: a complicated for loop\n\n# Not the most transparent code\nlibrary(palmerpenguins)\ndata(penguins)\npenguins$centered_mass &lt;- NA\nfor (i in unique(penguins$species)) {\n  current_data &lt;- penguins[penguins$species == i,]\n  species_mean_mass &lt;- mean(current_data$body_mass_g, na.rm = T)\n  penguins$centered_mass[penguins$species == i] &lt;- \n    current_data$body_mass_g - species_mean_mass\n}"
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#example-a-functional-programming-approach",
    "href": "slides/15_data-analysis-functions.html#example-a-functional-programming-approach",
    "title": "MATH167R: Programming for data analysis",
    "section": "Example: a functional programming approach",
    "text": "Example: a functional programming approach\n\nlibrary(tidyverse)\npenguins &lt;- penguins |&gt;\n  group_by(species) |&gt;\n  mutate(centered_mass = body_mass_g - mean(body_mass_g, na.rm = T)) |&gt;\n  ungroup()"
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#functionals",
    "href": "slides/15_data-analysis-functions.html#functionals",
    "title": "MATH167R: Programming for data analysis",
    "section": "Functionals",
    "text": "Functionals\nFunctionals are functions that takes a function (and potentially other parameters) as input and returns a vector as output. For example, here is a simple functional. What do you think the following code does?\n\nrandomize &lt;- function(f) f(runif(1000))\nrandomize(mean)\n\n\n\n\n[1] 0.4766611\n\n\n\n\nFunctionals are often used to replace for loops.\nThe main drawback of for loops is that they are not expressive, meaning that they do not clearly commmunicate a high level goal. Functionals can more clearly communicate their purpose."
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#lapply-apply-a-function-to-every-element-of-a-list",
    "href": "slides/15_data-analysis-functions.html#lapply-apply-a-function-to-every-element-of-a-list",
    "title": "MATH167R: Programming for data analysis",
    "section": "lapply(): Apply a function to every element of a list",
    "text": "lapply(): Apply a function to every element of a list\nThe base R lapply() function takes two arguments, X (an atomic vector or list), and a function FUN that can be applied to element of X. lapply() returns a list.\nRemember, we can think of every data frame as a list of columns.\n\nlapply(penguins, class)\n\n$species\n[1] \"factor\"\n\n$island\n[1] \"factor\"\n\n$bill_length_mm\n[1] \"numeric\"\n\n$bill_depth_mm\n[1] \"numeric\"\n\n$flipper_length_mm\n[1] \"integer\"\n\n$body_mass_g\n[1] \"integer\"\n\n$sex\n[1] \"factor\"\n\n$year\n[1] \"integer\"\n\n$centered_mass\n[1] \"numeric\""
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#lapply-apply-a-function-to-every-element-of-a-list-1",
    "href": "slides/15_data-analysis-functions.html#lapply-apply-a-function-to-every-element-of-a-list-1",
    "title": "MATH167R: Programming for data analysis",
    "section": "lapply(): Apply a function to every element of a list",
    "text": "lapply(): Apply a function to every element of a list\nNote that lapply() always returns a list. We can use the unlist() function to turn this into a vector (but be careful).\n\nunlist(lapply(penguins, class))\n\n          species            island    bill_length_mm     bill_depth_mm \n         \"factor\"          \"factor\"         \"numeric\"         \"numeric\" \nflipper_length_mm       body_mass_g               sex              year \n        \"integer\"         \"integer\"          \"factor\"         \"integer\" \n    centered_mass \n        \"numeric\""
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#lapply-apply-a-function-to-every-element-of-a-list-2",
    "href": "slides/15_data-analysis-functions.html#lapply-apply-a-function-to-every-element-of-a-list-2",
    "title": "MATH167R: Programming for data analysis",
    "section": "lapply(): Apply a function to every element of a list",
    "text": "lapply(): Apply a function to every element of a list\nlapply() is especially helpful when we have datasets of different sizes:\n\n# Create 20 random datasets\nl &lt;- replicate(20, runif(sample(1:10, 1)), simplify = FALSE)\nl\n\n[[1]]\n[1] 0.3305621 0.2670926 0.6152453 0.5396608\n\n[[2]]\n[1] 0.9978044 0.9050715 0.7041158 0.7148926 0.7982935 0.7335369 0.2094091\n[8] 0.4791875\n\n[[3]]\n[1] 0.2539327 0.5979371 0.9256172 0.3895152\n\n[[4]]\n[1] 0.9235456 0.2340918 0.4362295\n\n[[5]]\n[1] 0.96316246 0.02086623 0.92187280 0.80990139 0.77068107 0.28002196 0.23721731\n[8] 0.47497011 0.85514027\n\n[[6]]\n[1] 0.02655390 0.04511152\n\n[[7]]\n[1] 0.6047192 0.7497538\n\n[[8]]\n[1] 0.1910953\n\n[[9]]\n[1] 0.02955959\n\n[[10]]\n[1] 0.7734354 0.3006246 0.6558266 0.6491093 0.8682673 0.3312854 0.5222271\n[8] 0.5038784\n\n[[11]]\n[1] 0.43416371 0.79170744 0.82159926 0.93411854 0.02010129\n\n[[12]]\n[1] 0.4573767\n\n[[13]]\n[1] 0.1976809 0.6243952 0.6945516 0.6226985 0.6543602\n\n[[14]]\n[1] 0.3142201 0.2674255 0.9969890 0.3545257 0.5730288 0.8402575 0.2797046\n\n[[15]]\n[1] 0.6269639 0.2736623 0.7851649 0.3606309 0.5619757 0.2812185 0.3078005\n\n[[16]]\n[1] 0.2071315 0.4922355 0.5829149 0.1680860\n\n[[17]]\n[1] 0.3062066 0.5286978 0.6739947 0.6703219 0.7370340\n\n[[18]]\n[1] 0.5621642 0.5611104 0.7092991 0.9265052 0.9643832 0.6064968 0.4567516\n[8] 0.2328738 0.8434233\n\n[[19]]\n[1] 0.8869614 0.5386037 0.7441675\n\n[[20]]\n[1] 0.51594448 0.08021396 0.76413628 0.02912621 0.15291578 0.69909557 0.15275943\n[8] 0.94122614 0.50172300"
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#lapply-apply-a-function-to-every-element-of-a-list-3",
    "href": "slides/15_data-analysis-functions.html#lapply-apply-a-function-to-every-element-of-a-list-3",
    "title": "MATH167R: Programming for data analysis",
    "section": "lapply(): Apply a function to every element of a list",
    "text": "lapply(): Apply a function to every element of a list\nWe can use lapply() to summarize all of our datasets:\n\n# Print the length of each dataset\nunlist(lapply(l, length))\n\n [1] 4 8 4 3 9 2 2 1 1 8 5 1 5 7 7 4 5 9 3 9"
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#vapply",
    "href": "slides/15_data-analysis-functions.html#vapply",
    "title": "MATH167R: Programming for data analysis",
    "section": "vapply()",
    "text": "vapply()\nThere are many other variants of lapply(), including mapply(), sapply(), and vapply(). The only one we will cover today is vapply(), which returns a vector or matrix instead of a list. When we use vapply(), we specify an additional parameter, FUN.VALUE which specifies a template for the return value from FUN.\n\n# Print the length of each dataset\nvapply(l, length, FUN.VALUE = numeric(1))\n\n [1] 4 8 4 3 9 2 2 1 1 8 5 1 5 7 7 4 5 9 3 9"
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#map-apply-a-function-to-every-element-of-a-vector",
    "href": "slides/15_data-analysis-functions.html#map-apply-a-function-to-every-element-of-a-vector",
    "title": "MATH167R: Programming for data analysis",
    "section": "map(): Apply a function to every element of a vector",
    "text": "map(): Apply a function to every element of a vector\nThe tidyverse map() function takes two arguments, .x (an atomic vector or list), and a function .f that can be applied to element of .x. map() returns a list.\nRemember, we can think of every data frame as a list of columns.\n\nlibrary(tidyverse)\nmap(penguins, class)\n\n$species\n[1] \"factor\"\n\n$island\n[1] \"factor\"\n\n$bill_length_mm\n[1] \"numeric\"\n\n$bill_depth_mm\n[1] \"numeric\"\n\n$flipper_length_mm\n[1] \"integer\"\n\n$body_mass_g\n[1] \"integer\"\n\n$sex\n[1] \"factor\"\n\n$year\n[1] \"integer\"\n\n$centered_mass\n[1] \"numeric\""
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#map2-apply-a-function-to-every-element-of-a-vector",
    "href": "slides/15_data-analysis-functions.html#map2-apply-a-function-to-every-element-of-a-vector",
    "title": "MATH167R: Programming for data analysis",
    "section": "map2(): Apply a function to every element of a vector",
    "text": "map2(): Apply a function to every element of a vector\nThe tidyverse map2() function takes three arguments, .x and .y (a pair of vectors or list), and a function .f that can be applied to element of .x and .f.\n\ndat &lt;- \n  data.frame(\n    a = c(1, 2, 4),\n    b = c(6, 5, 3)\n  )\n\ndat |&gt;\n  mutate(min = map2(a, b, min))\n\n  a b min\n1 1 6   1\n2 2 5   2\n3 4 3   3"
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#back-to-our-motivating-example",
    "href": "slides/15_data-analysis-functions.html#back-to-our-motivating-example",
    "title": "MATH167R: Programming for data analysis",
    "section": "Back to our motivating example",
    "text": "Back to our motivating example\n\nFirst, let’s get the data for each week over the last three months. To do so, we need to access the New York Times API (application programming interface)\nAPIs allow programs to interact–one of the most common usages is for automatically downloading data using code."
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#apis-for-getting-data",
    "href": "slides/15_data-analysis-functions.html#apis-for-getting-data",
    "title": "MATH167R: Programming for data analysis",
    "section": "APIs for getting data",
    "text": "APIs for getting data\nTo use the New York Times API, we need to:\n\nMake an account and obtain an API key (an ID that will tell the New York Times who is downloading their data)\nReview the documentation to identify the relevant endpoints.\nReview any rules about usage/limits."
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#api-endpoints",
    "href": "slides/15_data-analysis-functions.html#api-endpoints",
    "title": "MATH167R: Programming for data analysis",
    "section": "API endpoints",
    "text": "API endpoints\nAPIs provide endpoints, which are addresses from which we can obtain the relevant data."
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#api-rate-limits",
    "href": "slides/15_data-analysis-functions.html#api-rate-limits",
    "title": "MATH167R: Programming for data analysis",
    "section": "API rate limits",
    "text": "API rate limits\nIn order to prevent users from abusing these services, many APIs have limits on how quickly a user can download data."
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#downloading-the-current-list",
    "href": "slides/15_data-analysis-functions.html#downloading-the-current-list",
    "title": "MATH167R: Programming for data analysis",
    "section": "Downloading the current list",
    "text": "Downloading the current list\n\nlibrary(tidyverse)\nlibrary(jsonlite)\napi_key &lt;- readLines(\"~/Dropbox/teaching/math167R-f24/internal/nyt-key.txt\")\ncurrent_list &lt;- jsonlite::fromJSON(\n  paste0(\n    \"https://api.nytimes.com/svc/books/v3/lists/2024-10-13/hardcover-fiction.json?api-key=\",\n    api_key\n  )\n)$results$books\n\n\n\n\n\n\n\ntitle\nauthor\npublisher\nrank\nrank_last_week\nweeks_on_list\n\n\n\n\nCOUNTING MIRACLES\nNicholas Sparks\nRandom House\n1\n0\n1\n\n\nINTERMEZZO\nSally Rooney\nFarrar, Straus and Giroux\n2\n0\n1\n\n\nTHE WOMEN\nKristin Hannah\nSt. Martin's\n3\n3\n34\n\n\nHERE ONE MOMENT\nLiane Moriarty\nCrown\n4\n4\n3\n\n\nPLAYGROUND\nRichard Powers\nNorton\n5\n0\n1\n\n\nIRON FLAME\nRebecca Yarros\nRed Tower\n6\n9\n47\n\n\nTHE LIFE IMPOSSIBLE\nMatt Haig\nViking\n7\n8\n4\n\n\nSOMEWHERE BEYOND THE SEA\nTJ Klune\nTor\n8\n5\n3\n\n\nTELL ME EVERYTHING\nElizabeth Strout\nRandom House\n9\n10\n3\n\n\nTHE NIGHT WE LOST HIM\nLaura Dave\nS&S/Marysue Rucci\n10\n7\n2\n\n\nTHE GAMES GODS PLAY\nAbigail Owen\nRed Tower\n11\n6\n4\n\n\nTHE GOD OF THE WOODS\nLiz Moore\nRiverhead\n12\n12\n13\n\n\nWE SOLVE MURDERS\nRichard Osman\nPamela Dorman\n13\n2\n2\n\n\nTHE BUTCHER GAME\nAlaina Urquhart\nZando\n14\n1\n2\n\n\nBY ANY OTHER NAME\nJodi Picoult\nBallantine\n15\n13\n6"
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#downloading-the-past-three-months-data",
    "href": "slides/15_data-analysis-functions.html#downloading-the-past-three-months-data",
    "title": "MATH167R: Programming for data analysis",
    "section": "Downloading the past three months’ data",
    "text": "Downloading the past three months’ data\n\ndates &lt;- seq(as.Date(\"2024-10-13\"), by = -7, length.out = 12)\nbestseller_lists &lt;- lapply(\n  dates,\n  function(x) {\n    # slow down execution by waiting 12 seconds\n    Sys.sleep(15)\n    jsonlite::fromJSON(\n      paste0(\n        \"https://api.nytimes.com/svc/books/v3/lists/\",\n        x,\n        \"/hardcover-fiction.json?api-key=\",\n        api_key\n      )\n    )$results$books\n  }\n)\nnames(bestseller_lists) &lt;- dates"
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#looping-through-many-data-files",
    "href": "slides/15_data-analysis-functions.html#looping-through-many-data-files",
    "title": "MATH167R: Programming for data analysis",
    "section": "Looping through many data files",
    "text": "Looping through many data files\nWhat if we want to get the #1 book for the last 12 weeks?\n\n\nvapply(bestseller_lists, function(x) x$title[1], character(1))\n\n\n\n\n\n                2024-10-13                 2024-10-06 \n       \"COUNTING MIRACLES\"         \"THE BUTCHER GAME\" \n                2024-09-29                 2024-09-22 \n\"SOMEWHERE BEYOND THE SEA\"      \"THE GAMES GODS PLAY\" \n                2024-09-15                 2024-09-08 \n               \"THE WOMEN\"        \"BY ANY OTHER NAME\" \n                2024-09-01                 2024-08-25 \n               \"THE WOMEN\"                \"THE WOMEN\" \n                2024-08-18                 2024-08-11 \n               \"THE WOMEN\"                \"THE WOMEN\" \n                2024-08-04                 2024-07-28 \n               \"THE WOMEN\"      \"A DEATH IN CORNWALL\""
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#looping-through-many-data-files-1",
    "href": "slides/15_data-analysis-functions.html#looping-through-many-data-files-1",
    "title": "MATH167R: Programming for data analysis",
    "section": "Looping through many data files",
    "text": "Looping through many data files\nSuppose we wish to see the performance of the books that have been number one at some point in the last three months\n\ntop_titles &lt;- \n  lapply(bestseller_lists, function(x) x$title[1]) |&gt;\n  unlist() |&gt;\n  unique()\ntop_book_data &lt;- \n  lapply(bestseller_lists, function(x) x[x$title %in% top_titles, ])"
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#looping-through-many-data-files-2",
    "href": "slides/15_data-analysis-functions.html#looping-through-many-data-files-2",
    "title": "MATH167R: Programming for data analysis",
    "section": "Looping through many data files",
    "text": "Looping through many data files\nWe can use the bind_rows() to create a data frame combining all the entries in this list. The .id argument creates a column from the list’s names. We can convert these names into a Date variable.\n\ntop_book_data &lt;- bind_rows(top_book_data, .id = \"date\")\ntop_book_data$date &lt;- as.Date(top_book_data$date)\n\n\n\n\n\n\n\ndate\ntitle\nauthor\nrank\nrank_last_week\nweeks_on_list\npublisher\n\n\n\n\n2024-10-13\nCOUNTING MIRACLES\nNicholas Sparks\n1\n0\n1\nRandom House\n\n\n2024-10-13\nTHE WOMEN\nKristin Hannah\n3\n3\n34\nSt. Martin's\n\n\n2024-10-13\nSOMEWHERE BEYOND THE SEA\nTJ Klune\n8\n5\n3\nTor\n\n\n2024-10-13\nTHE GAMES GODS PLAY\nAbigail Owen\n11\n6\n4\nRed Tower\n\n\n2024-10-13\nTHE BUTCHER GAME\nAlaina Urquhart\n14\n1\n2\nZando\n\n\n2024-10-13\nBY ANY OTHER NAME\nJodi Picoult\n15\n13\n6\nBallantine\n\n\n2024-10-06\nTHE BUTCHER GAME\nAlaina Urquhart\n1\n0\n1\nZando\n\n\n2024-10-06\nTHE WOMEN\nKristin Hannah\n3\n4\n33\nSt. Martin's\n\n\n2024-10-06\nSOMEWHERE BEYOND THE SEA\nTJ Klune\n5\n1\n2\nTor\n\n\n2024-10-06\nTHE GAMES GODS PLAY\nAbigail Owen\n6\n5\n3\nRed Tower\n\n\n2024-10-06\nBY ANY OTHER NAME\nJodi Picoult\n13\n7\n5\nBallantine\n\n\n2024-09-29\nSOMEWHERE BEYOND THE SEA\nTJ Klune\n1\n0\n1\nTor\n\n\n2024-09-29\nTHE WOMEN\nKristin Hannah\n4\n5\n32\nSt. Martin's\n\n\n2024-09-29\nTHE GAMES GODS PLAY\nAbigail Owen\n5\n1\n2\nRed Tower\n\n\n2024-09-29\nBY ANY OTHER NAME\nJodi Picoult\n7\n7\n4\nBallantine\n\n\n2024-09-22\nTHE GAMES GODS PLAY\nAbigail Owen\n1\n0\n1\nRed Tower\n\n\n2024-09-22\nTHE WOMEN\nKristin Hannah\n5\n1\n31\nSt. Martin's\n\n\n2024-09-22\nBY ANY OTHER NAME\nJodi Picoult\n7\n2\n3\nBallantine\n\n\n2024-09-15\nTHE WOMEN\nKristin Hannah\n1\n2\n30\nSt. Martin's\n\n\n2024-09-15\nBY ANY OTHER NAME\nJodi Picoult\n2\n1\n2\nBallantine\n\n\n2024-09-08\nBY ANY OTHER NAME\nJodi Picoult\n1\n0\n1\nBallantine\n\n\n2024-09-08\nTHE WOMEN\nKristin Hannah\n2\n1\n29\nSt. Martin's\n\n\n2024-09-01\nTHE WOMEN\nKristin Hannah\n1\n1\n28\nSt. Martin's\n\n\n2024-08-25\nTHE WOMEN\nKristin Hannah\n1\n1\n27\nSt. Martin's\n\n\n2024-08-18\nTHE WOMEN\nKristin Hannah\n1\n1\n26\nSt. Martin's\n\n\n2024-08-11\nTHE WOMEN\nKristin Hannah\n1\n1\n25\nSt. Martin's\n\n\n2024-08-11\nA DEATH IN CORNWALL\nDaniel Silva\n11\n7\n3\nHarper\n\n\n2024-08-04\nTHE WOMEN\nKristin Hannah\n1\n2\n24\nSt. Martin's\n\n\n2024-08-04\nA DEATH IN CORNWALL\nDaniel Silva\n7\n1\n2\nHarper\n\n\n2024-07-28\nA DEATH IN CORNWALL\nDaniel Silva\n1\n0\n1\nHarper\n\n\n2024-07-28\nTHE WOMEN\nKristin Hannah\n2\n1\n23\nSt. Martin's"
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#looping-through-many-data-files-3",
    "href": "slides/15_data-analysis-functions.html#looping-through-many-data-files-3",
    "title": "MATH167R: Programming for data analysis",
    "section": "Looping through many data files",
    "text": "Looping through many data files\n\nlibrary(ggplot2)\nggplot(top_book_data, aes(x = date, y = rank, color = title)) + \n  geom_line() + \n  scale_y_continuous(breaks = 1:20, trans = \"reverse\") +\n  xlab(\"Date\") +\n  ylab(\"Rank\") +\n  ggtitle(paste0(\"Recent NYT Best Seller Ranks\"))"
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#looping-through-many-data-files-4",
    "href": "slides/15_data-analysis-functions.html#looping-through-many-data-files-4",
    "title": "MATH167R: Programming for data analysis",
    "section": "Looping through many data files",
    "text": "Looping through many data files\nWe can also pull the top 5 books from each list:\n\ntop_5s &lt;- lapply(bestseller_lists, function(x) x[1:5, ])\ntop_5s\n\n$`2024-10-13`\n  rank rank_last_week weeks_on_list asterisk dagger primary_isbn10\n1    1              0             1        0      0     0593449592\n2    2              0             1        0      0     0374602638\n3    3              3            34        0      0     1250178630\n4    4              4             3        0      0     0593798600\n5    5              0             1        0      0     1324086033\n  primary_isbn13                 publisher\n1  9780593449592              Random House\n2  9780374602635 Farrar, Straus and Giroux\n3  9781250178633              St. Martin's\n4  9780593798607                     Crown\n5  9781324086031                    Norton\n                                                                                                                         description\n1 A man in search of the father he never knew encounters a single mom and rumors circulate of the nearby appearance of a white deer.\n2                     After the passing of their father, seemingly different brothers engage in relationships and seek ways to cope.\n3                   In 1965, a nursing student follows her brother to serve during the Vietnam War and returns to a divided America.\n4                                  Passengers on a short and seemingly unremarkable flight learn how and when they are going to die.\n5                     Residents of an island in French Polynesia must vote on whether to send floating cities out onto the open sea.\n  price             title          author        contributor contributor_note\n1  0.00 COUNTING MIRACLES Nicholas Sparks by Nicholas Sparks                 \n2  0.00        INTERMEZZO    Sally Rooney    by Sally Rooney                 \n3  0.00         THE WOMEN  Kristin Hannah  by Kristin Hannah                 \n4  0.00   HERE ONE MOMENT  Liane Moriarty  by Liane Moriarty                 \n5  0.00        PLAYGROUND  Richard Powers  by Richard Powers                 \n                                                            book_image\n1 https://storage.googleapis.com/du-prd/books/images/9780593449592.jpg\n2 https://storage.googleapis.com/du-prd/books/images/9780374602635.jpg\n3 https://storage.googleapis.com/du-prd/books/images/9781250178633.jpg\n4 https://storage.googleapis.com/du-prd/books/images/9780593798607.jpg\n5 https://storage.googleapis.com/du-prd/books/images/9781324086031.jpg\n  book_image_width book_image_height\n1              330               500\n2              326               500\n3              333               500\n4              329               500\n5              329               500\n                                         amazon_product_url age_group\n1 https://www.amazon.com/dp/0593449592?tag=thenewyorktim-20          \n2 https://www.amazon.com/dp/0374602638?tag=thenewyorktim-20          \n3 https://www.amazon.com/dp/1250178630?tag=thenewyorktim-20          \n4 https://www.amazon.com/dp/0593798600?tag=thenewyorktim-20          \n5 https://www.amazon.com/dp/1324086033?tag=thenewyorktim-20          \n  book_review_link first_chapter_link sunday_review_link article_chapter_link\n1                                                                            \n2                                                                            \n3                                                                            \n4                                                                            \n5                                                                            \n                                                                            isbns\n1                            0593449592, 0593449606, 9780593449592, 9780593449608\n2                            0374602638, 0374602646, 9780374602635, 9780374602642\n3                            1250178630, 1250178657, 9781250178633, 9781250178657\n4 0593798600, 0593798619, 0593948262, 9780593798607, 9780593798614, 9780593948262\n5                            1324086033, 1324086041, 9781324086031, 9781324086048\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       buy_links\n1 Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/0593449592?tag=thenewyorktim-20, https://goto.applebooks.apple/9780593449592?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9780593449592, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FCOUNTING%2BMIRACLES%2FNicholas%2BSparks%2F9780593449592, https://bookshop.org/a/3546/9780593449592\n2             Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/0374602638?tag=thenewyorktim-20, https://goto.applebooks.apple/9780374602635?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9780374602635, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FINTERMEZZO%2FSally%2BRooney%2F9780374602635, https://bookshop.org/a/3546/9780374602635\n3          Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1250178630?tag=thenewyorktim-20, https://goto.applebooks.apple/9781250178633?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781250178633, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FTHE%2BWOMEN%2FKristin%2BHannah%2F9781250178633, https://bookshop.org/a/3546/9781250178633\n4  Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/0593798600?tag=thenewyorktim-20, https://goto.applebooks.apple/9780593798607?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9780593798607, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FHERE%2BONE%2BMOMENT%2FLiane%2BMoriarty%2F9780593798607, https://bookshop.org/a/3546/9780593798607\n5           Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1324086033?tag=thenewyorktim-20, https://goto.applebooks.apple/9781324086031?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781324086031, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FPLAYGROUND%2FRichard%2BPowers%2F9781324086031, https://bookshop.org/a/3546/9781324086031\n                                         book_uri\n1 nyt://book/974caeee-6bf0-524c-809c-29bfdd99d65f\n2 nyt://book/a3bcdd05-312a-566b-90ec-df50e894bce6\n3 nyt://book/9ce735af-71cf-5ff3-a367-43ee07e3fdd7\n4 nyt://book/7e99e658-bd91-5488-a007-2bd74a8ef613\n5 nyt://book/793958d9-63c8-56d6-9612-29dbbc127699\n\n$`2024-10-06`\n  rank rank_last_week weeks_on_list asterisk dagger primary_isbn10\n1    1              0             1        0      0     1638931240\n2    2              0             1        0      0     059365322X\n3    3              4            33        0      0     1250178630\n4    4              2             2        0      0     0593798600\n5    5              1             2        0      0     125088120X\n  primary_isbn13     publisher\n1  9781638931249         Zando\n2  9780593653227 Pamela Dorman\n3  9781250178633  St. Martin's\n4  9780593798607         Crown\n5  9781250881205           Tor\n                                                                                                                                       description\n1                              The second book in the Dr. Wren Muller series. A serial killer wants to settle a score with a forensic pathologist.\n2        When a dead body and a bag of money turn up on a remote island, Amy Wheeler reaches out to her retired father-in-law to help investigate.\n3                                 In 1965, a nursing student follows her brother to serve during the Vietnam War and returns to a divided America.\n4                                                Passengers on a short and seemingly unremarkable flight learn how and when they are going to die.\n5 The second book in the Cerulean Chronicles series. The headmaster of a strange orphanage seeks to protect the magical children who reside there.\n  price                    title          author        contributor\n1  0.00         THE BUTCHER GAME Alaina Urquhart by Alaina Urquhart\n2  0.00         WE SOLVE MURDERS   Richard Osman   by Richard Osman\n3  0.00                THE WOMEN  Kristin Hannah  by Kristin Hannah\n4  0.00          HERE ONE MOMENT  Liane Moriarty  by Liane Moriarty\n5  0.00 SOMEWHERE BEYOND THE SEA        TJ Klune        by TJ Klune\n  contributor_note\n1                 \n2                 \n3                 \n4                 \n5                 \n                                                            book_image\n1 https://storage.googleapis.com/du-prd/books/images/9781638931249.jpg\n2 https://storage.googleapis.com/du-prd/books/images/9780593653227.jpg\n3 https://storage.googleapis.com/du-prd/books/images/9781250178633.jpg\n4 https://storage.googleapis.com/du-prd/books/images/9780593798607.jpg\n5 https://storage.googleapis.com/du-prd/books/images/9781250881205.jpg\n  book_image_width book_image_height\n1              331               500\n2              331               500\n3              333               500\n4              329               500\n5              295               500\n                                         amazon_product_url age_group\n1 https://www.amazon.com/dp/1638931240?tag=thenewyorktim-20          \n2 https://www.amazon.com/dp/059365322X?tag=thenewyorktim-20          \n3 https://www.amazon.com/dp/1250178630?tag=thenewyorktim-20          \n4 https://www.amazon.com/dp/0593798600?tag=thenewyorktim-20          \n5 https://www.amazon.com/dp/125088120X?tag=thenewyorktim-20          \n  book_review_link first_chapter_link sunday_review_link article_chapter_link\n1                                                                            \n2                                                                            \n3                                                                            \n4                                                                            \n5                                                                            \n                                                                            isbns\n1                                                       1638931240, 9781638931249\n2 059365322X, 0593653238, 0593912128, 9780593653227, 9780593653234, 9780593912126\n3                            1250178630, 1250178657, 9781250178633, 9781250178657\n4 0593798600, 0593798619, 0593948262, 9780593798607, 9780593798614, 9780593948262\n5                            125088120X, 1250881218, 9781250881205, 9781250881212\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           buy_links\n1    Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1638931240?tag=thenewyorktim-20, https://goto.applebooks.apple/9781638931249?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781638931249, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FTHE%2BBUTCHER%2BGAME%2FAlaina%2BUrquhart%2F9781638931249, https://bookshop.org/a/3546/9781638931249\n2      Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/059365322X?tag=thenewyorktim-20, https://goto.applebooks.apple/9780593653227?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9780593653227, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FWE%2BSOLVE%2BMURDERS%2FRichard%2BOsman%2F9780593653227, https://bookshop.org/a/3546/9780593653227\n3              Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1250178630?tag=thenewyorktim-20, https://goto.applebooks.apple/9781250178633?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781250178633, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FTHE%2BWOMEN%2FKristin%2BHannah%2F9781250178633, https://bookshop.org/a/3546/9781250178633\n4      Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/0593798600?tag=thenewyorktim-20, https://goto.applebooks.apple/9780593798607?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9780593798607, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FHERE%2BONE%2BMOMENT%2FLiane%2BMoriarty%2F9780593798607, https://bookshop.org/a/3546/9780593798607\n5 Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/125088120X?tag=thenewyorktim-20, https://goto.applebooks.apple/9781250881205?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781250881205, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FSOMEWHERE%2BBEYOND%2BTHE%2BSEA%2FTJ%2BKlune%2F9781250881205, https://bookshop.org/a/3546/9781250881205\n                                         book_uri\n1 nyt://book/30d32d24-e341-5f6a-a48f-bcf4f45fdb9d\n2 nyt://book/bb3ebdd1-46d3-5882-a4cd-4b898ab35293\n3 nyt://book/9ce735af-71cf-5ff3-a367-43ee07e3fdd7\n4 nyt://book/7e99e658-bd91-5488-a007-2bd74a8ef613\n5 nyt://book/4419017e-5c60-5509-9d19-3023bc60cb5d\n\n$`2024-09-29`\n  rank rank_last_week weeks_on_list asterisk dagger primary_isbn10\n1    1              0             1        0      0     125088120X\n2    2              0             1        0      0     0593798600\n3    3              0             1        0      0     0593446097\n4    4              5            32        0      0     1250178630\n5    5              1             2        0      0     1649376561\n  primary_isbn13    publisher\n1  9781250881205          Tor\n2  9780593798607        Crown\n3  9780593446096 Random House\n4  9781250178633 St. Martin's\n5  9781649376565    Red Tower\n                                                                                                                                       description\n1 The second book in the Cerulean Chronicles series. The headmaster of a strange orphanage seeks to protect the magical children who reside there.\n2                                                Passengers on a short and seemingly unremarkable flight learn how and when they are going to die.\n3                       As a murder casts a pall on a town in Maine, Lucy Barton, Olive Kitteridge and Bob Burgess share stories and seek meaning.\n4                                 In 1965, a nursing student follows her brother to serve during the Vietnam War and returns to a divided America.\n5                                                  Gods enlist mortals to fight in their stead to determine who will sit on the throne in Olympus.\n  price                    title           author         contributor\n1  0.00 SOMEWHERE BEYOND THE SEA         TJ Klune         by TJ Klune\n2  0.00          HERE ONE MOMENT   Liane Moriarty   by Liane Moriarty\n3  0.00       TELL ME EVERYTHING Elizabeth Strout by Elizabeth Strout\n4  0.00                THE WOMEN   Kristin Hannah   by Kristin Hannah\n5  0.00      THE GAMES GODS PLAY     Abigail Owen     by Abigail Owen\n  contributor_note\n1                 \n2                 \n3                 \n4                 \n5                 \n                                                            book_image\n1 https://storage.googleapis.com/du-prd/books/images/9781250881205.jpg\n2 https://storage.googleapis.com/du-prd/books/images/9780593798607.jpg\n3 https://storage.googleapis.com/du-prd/books/images/9780593446096.jpg\n4 https://storage.googleapis.com/du-prd/books/images/9781250178633.jpg\n5 https://storage.googleapis.com/du-prd/books/images/9781649376565.jpg\n  book_image_width book_image_height\n1              295               500\n2              329               500\n3              331               500\n4              333               500\n5              309               500\n                                         amazon_product_url age_group\n1 https://www.amazon.com/dp/125088120X?tag=thenewyorktim-20          \n2 https://www.amazon.com/dp/0593798600?tag=thenewyorktim-20          \n3 https://www.amazon.com/dp/0593446097?tag=thenewyorktim-20          \n4 https://www.amazon.com/dp/1250178630?tag=thenewyorktim-20          \n5 https://www.amazon.com/dp/1649376561?tag=thenewyorktim-20          \n  book_review_link first_chapter_link sunday_review_link article_chapter_link\n1                                                                            \n2                                                                            \n3                                                                            \n4                                                                            \n5                                                                            \n                                                                            isbns\n1                            125088120X, 1250881218, 9781250881205, 9781250881212\n2 0593798600, 0593798619, 0593948262, 9780593798607, 9780593798614, 9780593948262\n3                            0593446097, 0593446100, 9780593446096, 9780593446102\n4                            1250178630, 1250178657, 9781250178633, 9781250178657\n5 1649376561, 1649376413, 1649376588, 9781649376565, 9781649376411, 9781649376589\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           buy_links\n1 Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/125088120X?tag=thenewyorktim-20, https://goto.applebooks.apple/9781250881205?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781250881205, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FSOMEWHERE%2BBEYOND%2BTHE%2BSEA%2FTJ%2BKlune%2F9781250881205, https://bookshop.org/a/3546/9781250881205\n2      Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/0593798600?tag=thenewyorktim-20, https://goto.applebooks.apple/9780593798607?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9780593798607, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FHERE%2BONE%2BMOMENT%2FLiane%2BMoriarty%2F9780593798607, https://bookshop.org/a/3546/9780593798607\n3 Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/0593446097?tag=thenewyorktim-20, https://goto.applebooks.apple/9780593446096?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9780593446096, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FTELL%2BME%2BEVERYTHING%2FElizabeth%2BStrout%2F9780593446096, https://bookshop.org/a/3546/9780593446096\n4              Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1250178630?tag=thenewyorktim-20, https://goto.applebooks.apple/9781250178633?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781250178633, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FTHE%2BWOMEN%2FKristin%2BHannah%2F9781250178633, https://bookshop.org/a/3546/9781250178633\n5  Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1649376561?tag=thenewyorktim-20, https://goto.applebooks.apple/9781649376565?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781649376565, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FTHE%2BGAMES%2BGODS%2BPLAY%2FAbigail%2BOwen%2F9781649376565, https://bookshop.org/a/3546/9781649376565\n                                         book_uri\n1 nyt://book/4419017e-5c60-5509-9d19-3023bc60cb5d\n2 nyt://book/7e99e658-bd91-5488-a007-2bd74a8ef613\n3 nyt://book/3f5b9449-8053-58fe-b24d-67c77f14d384\n4 nyt://book/9ce735af-71cf-5ff3-a367-43ee07e3fdd7\n5 nyt://book/635891fb-0ec5-5966-b9f1-4b040fec2bfe\n\n$`2024-09-22`\n  rank rank_last_week weeks_on_list asterisk dagger primary_isbn10\n1    1              0             1        0      0     1649376561\n2    2              0             1        0      0     1668045834\n3    3              0             1        0      0     1250358949\n4    4              0             1        0      0     1250289564\n5    5              1            31        0      0     1250178630\n  primary_isbn13           publisher\n1  9781649376565           Red Tower\n2  9781668045831 Atria/Emily Bestler\n3  9781250358943             Bramble\n4  9781250289568        St. Martin's\n5  9781250178633        St. Martin's\n                                                                                                          description\n1                     Gods enlist mortals to fight in their stead to determine who will sit on the throne in Olympus.\n2 The 23rd book in the Mitch Rapp series. In 2011, operations take place to prevent a looming war in the Middle East.\n3    The second book in the Coven of Bones series. Feelings of betrayal and revenge put things in a precarious place.\n4                         The 59th book of the In Death series. Bad memories come up for Eve Dallas at a crime scene.\n5    In 1965, a nursing student follows her brother to serve during the Vietnam War and returns to a divided America.\n  price                        title          author        contributor\n1  0.00          THE GAMES GODS PLAY    Abigail Owen    by Abigail Owen\n2  0.00 VINCE FLYNN: CAPTURE OR KILL     Don Bentley     by Don Bentley\n3  0.00                   THE CURSED Harper L. Woods by Harper L. Woods\n4  0.00            PASSIONS IN DEATH       J.D. Robb       by J.D. Robb\n5  0.00                    THE WOMEN  Kristin Hannah  by Kristin Hannah\n  contributor_note\n1                 \n2                 \n3                 \n4                 \n5                 \n                                                            book_image\n1 https://storage.googleapis.com/du-prd/books/images/9781649376565.jpg\n2 https://storage.googleapis.com/du-prd/books/images/9781668045831.jpg\n3 https://storage.googleapis.com/du-prd/books/images/9781250358943.jpg\n4 https://storage.googleapis.com/du-prd/books/images/9781250289568.jpg\n5 https://storage.googleapis.com/du-prd/books/images/9781250178633.jpg\n  book_image_width book_image_height\n1              309               500\n2              329               500\n3              367               500\n4              329               500\n5              333               500\n                                         amazon_product_url age_group\n1 https://www.amazon.com/dp/1649376561?tag=thenewyorktim-20          \n2 https://www.amazon.com/dp/1668045834?tag=thenewyorktim-20          \n3 https://www.amazon.com/dp/1250358949?tag=thenewyorktim-20          \n4 https://www.amazon.com/dp/1250289564?tag=thenewyorktim-20          \n5 https://www.amazon.com/dp/1250178630?tag=thenewyorktim-20          \n  book_review_link first_chapter_link sunday_review_link article_chapter_link\n1                                                                            \n2                                                                            \n3                                                                            \n4                                                                            \n5                                                                            \n                                                                            isbns\n1 1649376561, 1649376413, 1649376588, 9781649376565, 9781649376411, 9781649376589\n2                            1668045834, 1668045869, 9781668045831, 9781668045862\n3                                                       1250358949, 9781250358943\n4 1250289564, 1250289572, 1250354188, 9781250289568, 9781250289575, 9781250354181\n5                            1250178630, 1250178657, 9781250178633, 9781250178657\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        buy_links\n1               Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1649376561?tag=thenewyorktim-20, https://goto.applebooks.apple/9781649376565?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781649376565, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FTHE%2BGAMES%2BGODS%2BPLAY%2FAbigail%2BOwen%2F9781649376565, https://bookshop.org/a/3546/9781649376565\n2 Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1668045834?tag=thenewyorktim-20, https://goto.applebooks.apple/9781668045831?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781668045831, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FVINCE%2BFLYNN%253A%2BCAPTURE%2BOR%2BKILL%2FDon%2BBentley%2F9781668045831, https://bookshop.org/a/3546/9781668045831\n3                       Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1250358949?tag=thenewyorktim-20, https://goto.applebooks.apple/9781250358943?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781250358943, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FTHE%2BCURSED%2FHarper%2BL.%2BWoods%2F9781250358943, https://bookshop.org/a/3546/9781250358943\n4                      Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1250289564?tag=thenewyorktim-20, https://goto.applebooks.apple/9781250289568?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781250289568, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FPASSIONS%2BIN%2BDEATH%2FJ.D.%2BRobb%2F9781250289568, https://bookshop.org/a/3546/9781250289568\n5                           Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1250178630?tag=thenewyorktim-20, https://goto.applebooks.apple/9781250178633?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781250178633, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FTHE%2BWOMEN%2FKristin%2BHannah%2F9781250178633, https://bookshop.org/a/3546/9781250178633\n                                         book_uri\n1 nyt://book/635891fb-0ec5-5966-b9f1-4b040fec2bfe\n2 nyt://book/77e49408-e59f-564d-8594-273da7a91247\n3 nyt://book/c44bd978-fdb3-5d15-a1fc-b965f9cf8fc2\n4 nyt://book/4404253f-5b03-5ddc-a47d-543d50cbced9\n5 nyt://book/9ce735af-71cf-5ff3-a367-43ee07e3fdd7\n\n$`2024-09-15`\n  rank rank_last_week weeks_on_list asterisk dagger primary_isbn10\n1    1              2            30        0      0     1250178630\n2    2              1             2        0      0     059349721X\n3    3              6             9        0      0     0593418913\n4    4              4            69        0      0     1649374046\n5    5              5            43        0      0     1649374178\n  primary_isbn13    publisher\n1  9781250178633 St. Martin's\n2  9780593497210   Ballantine\n3  9780593418918    Riverhead\n4  9781649374042    Red Tower\n5  9781649374172    Red Tower\n                                                                                                                                description\n1                          In 1965, a nursing student follows her brother to serve during the Vietnam War and returns to a divided America.\n2 A young woman’s play about her ancestor Emilia Bassano, who wrote Shakespeare’s works, is submitted to a festival under a male pseudonym.\n3                    When a 13-year-old girl disappears from an Adirondack summer camp in 1975, secrets kept by the Van Laar family emerge.\n4          Violet Sorrengail is urged by the commanding general, who also is her mother, to become a candidate for the elite dragon riders.\n5         The second book in the Empyrean series. Violet Sorrengail’s next round of training might require her to betray the man she loves.\n  price                title         author       contributor contributor_note\n1  0.00            THE WOMEN Kristin Hannah by Kristin Hannah                 \n2  0.00    BY ANY OTHER NAME   Jodi Picoult   by Jodi Picoult                 \n3  0.00 THE GOD OF THE WOODS      Liz Moore      by Liz Moore                 \n4  0.00          FOURTH WING Rebecca Yarros by Rebecca Yarros                 \n5  0.00           IRON FLAME Rebecca Yarros by Rebecca Yarros                 \n                                                            book_image\n1 https://storage.googleapis.com/du-prd/books/images/9781250178633.jpg\n2 https://storage.googleapis.com/du-prd/books/images/9780593497210.jpg\n3 https://storage.googleapis.com/du-prd/books/images/9780593418918.jpg\n4 https://storage.googleapis.com/du-prd/books/images/9781649374042.jpg\n5 https://storage.googleapis.com/du-prd/books/images/9781649374172.jpg\n  book_image_width book_image_height\n1              333               500\n2              333               500\n3              331               500\n4              309               500\n5              309               500\n                                         amazon_product_url age_group\n1 https://www.amazon.com/dp/1250178630?tag=thenewyorktim-20          \n2 https://www.amazon.com/dp/059349721X?tag=thenewyorktim-20          \n3 https://www.amazon.com/dp/0593418913?tag=thenewyorktim-20          \n4 https://www.amazon.com/dp/1649374046?tag=thenewyorktim-20          \n5 https://www.amazon.com/dp/1649374178?tag=thenewyorktim-20          \n  book_review_link first_chapter_link sunday_review_link article_chapter_link\n1                                                                            \n2                                                                            \n3                                                                            \n4                                                                            \n5                                                                            \n                                                                                                                                                             isbns\n1                                                                                                             1250178630, 1250178657, 9781250178633, 9781250178657\n2                                                                                                             059349721X, 0593497228, 9780593497210, 9780593497227\n3                                                                                  0593418913, 059341893X, 0593867793, 9780593418918, 9780593418932, 9780593867792\n4 1649374046, 1649374089, 1705085059, 1705085032, 1649376162, 1649377371, 9781649374042, 9781649374080, 9781705085059, 9781705085035, 9781649376169, 9781649377371\n5                                                                                                             1649374178, 1705085083, 9781649374172, 9781705085080\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          buy_links\n1             Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1250178630?tag=thenewyorktim-20, https://goto.applebooks.apple/9781250178633?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781250178633, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FTHE%2BWOMEN%2FKristin%2BHannah%2F9781250178633, https://bookshop.org/a/3546/9781250178633\n2   Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/059349721X?tag=thenewyorktim-20, https://goto.applebooks.apple/9780593497210?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9780593497210, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FBY%2BANY%2BOTHER%2BNAME%2FJodi%2BPicoult%2F9780593497210, https://bookshop.org/a/3546/9780593497210\n3 Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/0593418913?tag=thenewyorktim-20, https://goto.applebooks.apple/9780593418918?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9780593418918, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FTHE%2BGOD%2BOF%2BTHE%2BWOODS%2FLiz%2BMoore%2F9780593418918, https://bookshop.org/a/3546/9780593418918\n4           Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1649374046?tag=thenewyorktim-20, https://goto.applebooks.apple/9781649374042?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781649374042, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FFOURTH%2BWING%2FRebecca%2BYarros%2F9781649374042, https://bookshop.org/a/3546/9781649374042\n5            Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1649374178?tag=thenewyorktim-20, https://goto.applebooks.apple/9781649374172?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781649374172, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FIRON%2BFLAME%2FRebecca%2BYarros%2F9781649374172, https://bookshop.org/a/3546/9781649374172\n                                         book_uri\n1 nyt://book/9ce735af-71cf-5ff3-a367-43ee07e3fdd7\n2 nyt://book/8b4e805b-9680-5be5-8f36-0726824962a8\n3 nyt://book/76d129f6-ab9c-591c-b25e-9a2758250c07\n4 nyt://book/106c2cf0-7d20-51b1-bad4-91c3ebcd131a\n5 nyt://book/d3c570c9-3c3a-5c8b-a740-85ea5e92bfc9\n\n$`2024-09-08`\n  rank rank_last_week weeks_on_list asterisk dagger primary_isbn10\n1    1              0             1        0      0     059349721X\n2    2              1            29        0      0     1250178630\n3    3              0             1        0      0     1982179244\n4    4              6            68        0      0     1649374046\n5    5              7            42        0      0     1649374178\n  primary_isbn13    publisher\n1  9780593497210   Ballantine\n2  9781250178633 St. Martin's\n3  9781982179243        Atria\n4  9781649374042    Red Tower\n5  9781649374172    Red Tower\n                                                                                                                                                         description\n1                          A young woman’s play about her ancestor Emilia Bassano, who wrote Shakespeare’s works, is submitted to a festival under a male pseudonym.\n2                                                   In 1965, a nursing student follows her brother to serve during the Vietnam War and returns to a divided America.\n3 The 20th book in the Cork O’Connor mystery series. A local politician’s teenage daughter goes missing and the shallow grave of a young Ojibwe woman is discovered.\n4                                   Violet Sorrengail is urged by the commanding general, who also is her mother, to become a candidate for the elite dragon riders.\n5                                  The second book in the Empyrean series. Violet Sorrengail’s next round of training might require her to betray the man she loves.\n  price             title               author             contributor\n1  0.00 BY ANY OTHER NAME         Jodi Picoult         by Jodi Picoult\n2  0.00         THE WOMEN       Kristin Hannah       by Kristin Hannah\n3  0.00   SPIRIT CROSSING William Kent Krueger by William Kent Krueger\n4  0.00       FOURTH WING       Rebecca Yarros       by Rebecca Yarros\n5  0.00        IRON FLAME       Rebecca Yarros       by Rebecca Yarros\n  contributor_note\n1                 \n2                 \n3                 \n4                 \n5                 \n                                                            book_image\n1 https://storage.googleapis.com/du-prd/books/images/9780593497210.jpg\n2 https://storage.googleapis.com/du-prd/books/images/9781250178633.jpg\n3 https://storage.googleapis.com/du-prd/books/images/9781982179267.jpg\n4 https://storage.googleapis.com/du-prd/books/images/9781649374042.jpg\n5 https://storage.googleapis.com/du-prd/books/images/9781649374172.jpg\n  book_image_width book_image_height\n1              333               500\n2              333               500\n3              331               500\n4              309               500\n5              309               500\n                                         amazon_product_url age_group\n1 https://www.amazon.com/dp/059349721X?tag=thenewyorktim-20          \n2 https://www.amazon.com/dp/1250178630?tag=thenewyorktim-20          \n3 https://www.amazon.com/dp/1982179244?tag=thenewyorktim-20          \n4 https://www.amazon.com/dp/1649374046?tag=thenewyorktim-20          \n5 https://www.amazon.com/dp/1649374178?tag=thenewyorktim-20          \n  book_review_link first_chapter_link sunday_review_link article_chapter_link\n1                                                                            \n2                                                                            \n3                                                                            \n4                                                                            \n5                                                                            \n                                                                                                                                                             isbns\n1                                                                                                             059349721X, 0593497228, 9780593497210, 9780593497227\n2                                                                                                             1250178630, 1250178657, 9781250178633, 9781250178657\n3                                                                                                             1982179244, 1982179260, 9781982179243, 9781982179267\n4 1649374046, 1649374089, 1705085059, 1705085032, 1649376162, 1649377371, 9781649374042, 9781649374080, 9781705085059, 9781705085035, 9781649376169, 9781649377371\n5                                                                                                             1649374178, 1705085083, 9781649374172, 9781705085080\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            buy_links\n1     Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/059349721X?tag=thenewyorktim-20, https://goto.applebooks.apple/9780593497210?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9780593497210, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FBY%2BANY%2BOTHER%2BNAME%2FJodi%2BPicoult%2F9780593497210, https://bookshop.org/a/3546/9780593497210\n2               Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1250178630?tag=thenewyorktim-20, https://goto.applebooks.apple/9781250178633?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781250178633, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FTHE%2BWOMEN%2FKristin%2BHannah%2F9781250178633, https://bookshop.org/a/3546/9781250178633\n3 Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1982179244?tag=thenewyorktim-20, https://goto.applebooks.apple/9781982179243?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781982179243, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FSPIRIT%2BCROSSING%2FWilliam%2BKent%2BKrueger%2F9781982179243, https://bookshop.org/a/3546/9781982179243\n4             Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1649374046?tag=thenewyorktim-20, https://goto.applebooks.apple/9781649374042?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781649374042, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FFOURTH%2BWING%2FRebecca%2BYarros%2F9781649374042, https://bookshop.org/a/3546/9781649374042\n5              Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1649374178?tag=thenewyorktim-20, https://goto.applebooks.apple/9781649374172?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781649374172, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FIRON%2BFLAME%2FRebecca%2BYarros%2F9781649374172, https://bookshop.org/a/3546/9781649374172\n                                         book_uri\n1 nyt://book/8b4e805b-9680-5be5-8f36-0726824962a8\n2 nyt://book/9ce735af-71cf-5ff3-a367-43ee07e3fdd7\n3 nyt://book/518526dc-866c-5ae1-b97e-eaebba931133\n4 nyt://book/106c2cf0-7d20-51b1-bad4-91c3ebcd131a\n5 nyt://book/d3c570c9-3c3a-5c8b-a740-85ea5e92bfc9\n\n$`2024-09-01`\n  rank rank_last_week weeks_on_list asterisk dagger primary_isbn10\n1    1              1            28        0      0     1250178630\n2    2              0             1        0      0     195756878X\n3    3              0             1        0      0     1538765705\n4    4              0             1        0      0     0593498615\n5    5              6             3        0      0     1250899575\n  primary_isbn13     publisher\n1  9781250178633  St. Martin's\n2  9781957568782      Blue Box\n3  9781538765708 Grand Central\n4  9780593498613     Delacorte\n5  9781250899576          Holt\n                                                                                                                          description\n1                    In 1965, a nursing student follows her brother to serve during the Vietnam War and returns to a divided America.\n2                        The fourth book in the Flesh and Fire series. Sera and Nyktos must prevent Kolis from destroying the realms.\n3       The 22nd book in the Agent Pendergast series. A serial killer in Manhattan seems poised to outmaneuver Pendergast and Greene.\n4 A book editor recognizes the trauma incurred by her partner during his military deployments and seeks to restore her sense of self.\n5                               A woman who is down on her luck forms an unexpected bond with the bride at a wedding in Rhode Island.\n  price                 title                            author\n1  0.00             THE WOMEN                    Kristin Hannah\n2  0.00 BORN OF BLOOD AND ASH            Jennifer L. Armentrout\n3  0.00    ANGEL OF VENGEANCE Douglas Preston and Lincoln Child\n4  0.00                   JOY                    Danielle Steel\n5  0.00    THE WEDDING PEOPLE                     Alison Espach\n                           contributor contributor_note\n1                    by Kristin Hannah                 \n2            by Jennifer L. Armentrout                 \n3 by Douglas Preston and Lincoln Child                 \n4                    by Danielle Steel                 \n5                     by Alison Espach                 \n                                                            book_image\n1 https://storage.googleapis.com/du-prd/books/images/9781250178633.jpg\n2 https://storage.googleapis.com/du-prd/books/images/9781957568782.jpg\n3 https://storage.googleapis.com/du-prd/books/images/9781538765708.jpg\n4 https://storage.googleapis.com/du-prd/books/images/9780593498613.jpg\n5 https://storage.googleapis.com/du-prd/books/images/9781250899576.jpg\n  book_image_width book_image_height\n1              333               500\n2              333               500\n3              330               500\n4              327               500\n5              329               500\n                                         amazon_product_url age_group\n1 https://www.amazon.com/dp/1250178630?tag=thenewyorktim-20          \n2 https://www.amazon.com/dp/195756878X?tag=thenewyorktim-20          \n3 https://www.amazon.com/dp/1538765705?tag=thenewyorktim-20          \n4 https://www.amazon.com/dp/0593498615?tag=thenewyorktim-20          \n5 https://www.amazon.com/dp/1250899575?tag=thenewyorktim-20          \n  book_review_link first_chapter_link sunday_review_link article_chapter_link\n1                                                                            \n2                                                                            \n3                                                                            \n4                                                                            \n5                                                                            \n                                                                                                                                                                                        isbns\n1                                                                                                                                        1250178630, 1250178657, 9781250178633, 9781250178657\n2 195756878X, 195756881X, 1957568925, 1957568828, 1957568763, 1957568771, 1963135342, 9781957568782, 9781957568812, 9781957568928, 9781957568829, 9781957568768, 9781957568775, 9781963135343\n3                                                                                                                                        1538765705, 153876573X, 9781538765708, 9781538765739\n4                                                                                                                                        0593498615, 0593498623, 9780593498613, 9780593498620\n5                                                                                                             1250899575, 1250899567, 1420514725, 9781250899576, 9781250899569, 9781420514728\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  buy_links\n1                                     Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1250178630?tag=thenewyorktim-20, https://goto.applebooks.apple/9781250178633?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781250178633, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FTHE%2BWOMEN%2FKristin%2BHannah%2F9781250178633, https://bookshop.org/a/3546/9781250178633\n2         Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/195756878X?tag=thenewyorktim-20, https://goto.applebooks.apple/9781957568782?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781957568782, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FBORN%2BOF%2BBLOOD%2BAND%2BASH%2FJennifer%2BL.%2BArmentrout%2F9781957568782, https://bookshop.org/a/3546/9781957568782\n3 Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1538765705?tag=thenewyorktim-20, https://goto.applebooks.apple/9781538765708?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781538765708, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FANGEL%2BOF%2BVENGEANCE%2FDouglas%2BPreston%2Band%2BLincoln%2BChild%2F9781538765708, https://bookshop.org/a/3546/9781538765708\n4                                             Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/0593498615?tag=thenewyorktim-20, https://goto.applebooks.apple/9780593498613?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9780593498613, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FJOY%2FDanielle%2BSteel%2F9780593498613, https://bookshop.org/a/3546/9780593498613\n5                           Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1250899575?tag=thenewyorktim-20, https://goto.applebooks.apple/9781250899576?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781250899576, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FTHE%2BWEDDING%2BPEOPLE%2FAlison%2BEspach%2F9781250899576, https://bookshop.org/a/3546/9781250899576\n                                         book_uri\n1 nyt://book/9ce735af-71cf-5ff3-a367-43ee07e3fdd7\n2 nyt://book/c30bdb32-88d8-5412-a755-9b38e9a80f43\n3 nyt://book/0839f7da-b098-5398-8015-1fe41cc5cba3\n4 nyt://book/994c5bdf-00f7-5ec8-a544-5d41a9136792\n5 nyt://book/0935eb9b-9320-5ed9-93e8-32cef229779e\n\n$`2024-08-25`\n  rank rank_last_week weeks_on_list asterisk dagger primary_isbn10\n1    1              1            27        0      0     1250178630\n2    2              0             1        0      0     1250346746\n3    3              0             1        0      0     1982182237\n4    4              5            66        0      0     1649374046\n5    5              3             2        0      0     0316569917\n  primary_isbn13           publisher\n1  9781250178633        St. Martin's\n2  9781250346742             Bramble\n3  9781982182236 Atria/Emily Bestler\n4  9781649374042           Red Tower\n5  9780316569910       Little, Brown\n                                                                                                                                                                                                    description\n1                                                                                              In 1965, a nursing student follows her brother to serve during the Vietnam War and returns to a divided America.\n2                                                      At Hollow’s Grove University, a school for magic that suffered a bloody massacre decades ago, 13 gifted students confront ghosts from the school’s past.\n3 The 23rd book in the Scot Harvath series. A mess of trouble involving double agents, international intrigue and a potential global firestorm forces Harvath to choose between his country and his conscience.\n4                                                                              Violet Sorrengail is urged by the commanding general, who also is her mother, to become a candidate for the elite dragon riders.\n5                                                                                                             The second book in the Jane Smith series. A double triple homicide complicates matters for Smith.\n  price           title                          author\n1  0.00       THE WOMEN                  Kristin Hannah\n2  0.00       THE COVEN                 Harper L. Woods\n3  0.00 SHADOW OF DOUBT                       Brad Thor\n4  0.00     FOURTH WING                  Rebecca Yarros\n5  0.00    HARD TO KILL James Patterson and Mike Lupica\n                         contributor contributor_note\n1                  by Kristin Hannah                 \n2                 by Harper L. Woods                 \n3                       by Brad Thor                 \n4                  by Rebecca Yarros                 \n5 by James Patterson and Mike Lupica                 \n                                                            book_image\n1 https://storage.googleapis.com/du-prd/books/images/9781250178633.jpg\n2 https://storage.googleapis.com/du-prd/books/images/9781250346742.jpg\n3 https://storage.googleapis.com/du-prd/books/images/9781982182236.jpg\n4 https://storage.googleapis.com/du-prd/books/images/9781649374042.jpg\n5 https://storage.googleapis.com/du-prd/books/images/9780316569910.jpg\n  book_image_width book_image_height\n1              333               500\n2              335               500\n3              327               500\n4              309               500\n5              323               500\n                                         amazon_product_url age_group\n1 https://www.amazon.com/dp/1250178630?tag=thenewyorktim-20          \n2 https://www.amazon.com/dp/1250346746?tag=thenewyorktim-20          \n3 https://www.amazon.com/dp/1982182237?tag=thenewyorktim-20          \n4 https://www.amazon.com/dp/1649374046?tag=thenewyorktim-20          \n5 https://www.amazon.com/dp/0316569917?tag=thenewyorktim-20          \n  book_review_link first_chapter_link sunday_review_link article_chapter_link\n1                                                                            \n2                                                                            \n3                                                                            \n4                                                                            \n5                                                                            \n                                                                                                                                                             isbns\n1                                                                                                             1250178630, 1250178657, 9781250178633, 9781250178657\n2                                                                                  1250346746, 1250358930, 1250344271, 9781250346742, 9781250358936, 9781250344274\n3                                                                                                             1982182237, 1982182261, 9781982182236, 9781982182267\n4 1649374046, 1649374089, 1705085059, 1705085032, 1649376162, 1649377371, 9781649374042, 9781649374080, 9781705085059, 9781705085035, 9781649376169, 9781649377371\n5                                                                                                             0316569917, 0316569909, 9780316569910, 9780316569903\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          buy_links\n1                             Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1250178630?tag=thenewyorktim-20, https://goto.applebooks.apple/9781250178633?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781250178633, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FTHE%2BWOMEN%2FKristin%2BHannah%2F9781250178633, https://bookshop.org/a/3546/9781250178633\n2                          Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1250346746?tag=thenewyorktim-20, https://goto.applebooks.apple/9781250346742?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781250346742, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FTHE%2BCOVEN%2FHarper%2BL.%2BWoods%2F9781250346742, https://bookshop.org/a/3546/9781250346742\n3                          Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1982182237?tag=thenewyorktim-20, https://goto.applebooks.apple/9781982182236?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781982182236, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FSHADOW%2BOF%2BDOUBT%2FBrad%2BThor%2F9781982182236, https://bookshop.org/a/3546/9781982182236\n4                           Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1649374046?tag=thenewyorktim-20, https://goto.applebooks.apple/9781649374042?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781649374042, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FFOURTH%2BWING%2FRebecca%2BYarros%2F9781649374042, https://bookshop.org/a/3546/9781649374042\n5 Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/0316569917?tag=thenewyorktim-20, https://goto.applebooks.apple/9780316569910?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9780316569910, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FHARD%2BTO%2BKILL%2FJames%2BPatterson%2Band%2BMike%2BLupica%2F9780316569910, https://bookshop.org/a/3546/9780316569910\n                                         book_uri\n1 nyt://book/9ce735af-71cf-5ff3-a367-43ee07e3fdd7\n2 nyt://book/63de3eaa-4712-5cd6-9d08-751df2208307\n3 nyt://book/706b16ed-d169-5ab5-93cb-20b551a387f4\n4 nyt://book/106c2cf0-7d20-51b1-bad4-91c3ebcd131a\n5 nyt://book/8f477d34-b35b-5cc1-b330-d84dfe67c1d5\n\n$`2024-08-18`\n  rank rank_last_week weeks_on_list asterisk dagger primary_isbn10\n1    1              1            26        0      0     1250178630\n2    2              0             1        0      0     1250899575\n3    3              0             1        0      0     0316569917\n4    4             10             5        0      0     0593418913\n5    5              4            65        0      0     1649374046\n  primary_isbn13     publisher\n1  9781250178633  St. Martin's\n2  9781250899576          Holt\n3  9780316569910 Little, Brown\n4  9780593418918     Riverhead\n5  9781649374042     Red Tower\n                                                                                                                       description\n1                 In 1965, a nursing student follows her brother to serve during the Vietnam War and returns to a divided America.\n2                            A woman who is down on her luck forms an unexpected bond with the bride at a wedding in Rhode Island.\n3                                The second book in the Jane Smith series. A double triple homicide complicates matters for Smith.\n4           When a 13-year-old girl disappears from an Adirondack summer camp in 1975, secrets kept by the Van Laar family emerge.\n5 Violet Sorrengail is urged by the commanding general, who also is her mother, to become a candidate for the elite dragon riders.\n  price                title                          author\n1  0.00            THE WOMEN                  Kristin Hannah\n2  0.00   THE WEDDING PEOPLE                   Alison Espach\n3  0.00         HARD TO KILL James Patterson and Mike Lupica\n4  0.00 THE GOD OF THE WOODS                       Liz Moore\n5  0.00          FOURTH WING                  Rebecca Yarros\n                         contributor contributor_note\n1                  by Kristin Hannah                 \n2                   by Alison Espach                 \n3 by James Patterson and Mike Lupica                 \n4                       by Liz Moore                 \n5                  by Rebecca Yarros                 \n                                                            book_image\n1 https://storage.googleapis.com/du-prd/books/images/9781250178633.jpg\n2 https://storage.googleapis.com/du-prd/books/images/9781250899576.jpg\n3 https://storage.googleapis.com/du-prd/books/images/9780316569910.jpg\n4 https://storage.googleapis.com/du-prd/books/images/9780593418918.jpg\n5 https://storage.googleapis.com/du-prd/books/images/9781649374042.jpg\n  book_image_width book_image_height\n1              333               500\n2              329               500\n3              323               500\n4              331               500\n5              309               500\n                                         amazon_product_url age_group\n1 https://www.amazon.com/dp/1250178630?tag=thenewyorktim-20          \n2 https://www.amazon.com/dp/1250899575?tag=thenewyorktim-20          \n3 https://www.amazon.com/dp/0316569917?tag=thenewyorktim-20          \n4 https://www.amazon.com/dp/0593418913?tag=thenewyorktim-20          \n5 https://www.amazon.com/dp/1649374046?tag=thenewyorktim-20          \n  book_review_link first_chapter_link sunday_review_link article_chapter_link\n1                                                                            \n2                                                                            \n3                                                                            \n4                                                                            \n5                                                                            \n                                                                                                                                                             isbns\n1                                                                                                             1250178630, 1250178657, 9781250178633, 9781250178657\n2                                                                                  1250899575, 1250899567, 1420514725, 9781250899576, 9781250899569, 9781420514728\n3                                                                                                             0316569917, 0316569909, 9780316569910, 9780316569903\n4                                                                                  0593418913, 059341893X, 0593867793, 9780593418918, 9780593418932, 9780593867792\n5 1649374046, 1649374089, 1705085059, 1705085032, 1649376162, 1649377371, 9781649374042, 9781649374080, 9781705085059, 9781705085035, 9781649376169, 9781649377371\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          buy_links\n1                             Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1250178630?tag=thenewyorktim-20, https://goto.applebooks.apple/9781250178633?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781250178633, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FTHE%2BWOMEN%2FKristin%2BHannah%2F9781250178633, https://bookshop.org/a/3546/9781250178633\n2                   Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1250899575?tag=thenewyorktim-20, https://goto.applebooks.apple/9781250899576?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781250899576, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FTHE%2BWEDDING%2BPEOPLE%2FAlison%2BEspach%2F9781250899576, https://bookshop.org/a/3546/9781250899576\n3 Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/0316569917?tag=thenewyorktim-20, https://goto.applebooks.apple/9780316569910?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9780316569910, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FHARD%2BTO%2BKILL%2FJames%2BPatterson%2Band%2BMike%2BLupica%2F9780316569910, https://bookshop.org/a/3546/9780316569910\n4                 Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/0593418913?tag=thenewyorktim-20, https://goto.applebooks.apple/9780593418918?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9780593418918, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FTHE%2BGOD%2BOF%2BTHE%2BWOODS%2FLiz%2BMoore%2F9780593418918, https://bookshop.org/a/3546/9780593418918\n5                           Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1649374046?tag=thenewyorktim-20, https://goto.applebooks.apple/9781649374042?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781649374042, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FFOURTH%2BWING%2FRebecca%2BYarros%2F9781649374042, https://bookshop.org/a/3546/9781649374042\n                                         book_uri\n1 nyt://book/9ce735af-71cf-5ff3-a367-43ee07e3fdd7\n2 nyt://book/0935eb9b-9320-5ed9-93e8-32cef229779e\n3 nyt://book/8f477d34-b35b-5cc1-b330-d84dfe67c1d5\n4 nyt://book/76d129f6-ab9c-591c-b25e-9a2758250c07\n5 nyt://book/106c2cf0-7d20-51b1-bad4-91c3ebcd131a\n\n$`2024-08-11`\n  rank rank_last_week weeks_on_list asterisk dagger primary_isbn10\n1    1              1            25        0      0     1250178630\n2    2              0             1        0      0     0593446593\n3    3              0             1        0      0     0063383608\n4    4              4            64        0      0     1649374046\n5    5              3             7        0      0     0316258873\n  primary_isbn13     publisher\n1  9781250178633  St. Martin's\n2  9780593446591       Del Rey\n3  9780063383609          Avon\n4  9781649374042     Red Tower\n5  9780316258876 Little, Brown\n                                                                                                                       description\n1                 In 1965, a nursing student follows her brother to serve during the Vietnam War and returns to a divided America.\n2                     An immortal soldier known as B strikes a deal with a U.S. black-ops group and encounters a mysterious force.\n3                                                                     The first book in the Bridgerton Collector’s Edition series.\n4 Violet Sorrengail is urged by the commanding general, who also is her mother, to become a candidate for the elite dragon riders.\n5   Nantucket residents are alarmed when a home, recently sold at an exorbitant price, goes up in flames and someone goes missing.\n  price                                        title\n1  0.00                                    THE WOMEN\n2  0.00                        THE BOOK OF ELSEWHERE\n3  0.00 THE DUKE AND I AND THE VISCOUNT WHO LOVED ME\n4  0.00                                  FOURTH WING\n5  0.00                                    SWAN SONG\n                           author                        contributor\n1                  Kristin Hannah                  by Kristin Hannah\n2 Keanu Reeves and China Miéville by Keanu Reeves and China Miéville\n3                     Julia Quinn                     by Julia Quinn\n4                  Rebecca Yarros                  by Rebecca Yarros\n5                Elin Hilderbrand                by Elin Hilderbrand\n  contributor_note\n1                 \n2                 \n3                 \n4                 \n5                 \n                                                            book_image\n1 https://storage.googleapis.com/du-prd/books/images/9781250178633.jpg\n2 https://storage.googleapis.com/du-prd/books/images/9780593446591.jpg\n3 https://storage.googleapis.com/du-prd/books/images/9780063383609.jpg\n4 https://storage.googleapis.com/du-prd/books/images/9781649374042.jpg\n5 https://storage.googleapis.com/du-prd/books/images/9780316258876.jpg\n  book_image_width book_image_height\n1              333               500\n2              338               500\n3              400               500\n4              309               500\n5              323               500\n                                         amazon_product_url age_group\n1 https://www.amazon.com/dp/1250178630?tag=thenewyorktim-20          \n2 https://www.amazon.com/dp/0593446593?tag=thenewyorktim-20          \n3 https://www.amazon.com/dp/0063383608?tag=thenewyorktim-20          \n4 https://www.amazon.com/dp/1649374046?tag=thenewyorktim-20          \n5 https://www.amazon.com/dp/0316258873?tag=thenewyorktim-20          \n  book_review_link first_chapter_link sunday_review_link article_chapter_link\n1                                                                            \n2                                                                            \n3                                                                            \n4                                                                            \n5                                                                            \n                                                                                                                                                             isbns\n1                                                                                                             1250178630, 1250178657, 9781250178633, 9781250178657\n2                                                                                                             0593446593, 0593446615, 9780593446591, 9780593446614\n3                                                                                                                                        0063383608, 9780063383609\n4 1649374046, 1649374089, 1705085059, 1705085032, 1649376162, 1649377371, 9781649374042, 9781649374080, 9781705085059, 9781705085035, 9781649376169, 9781649377371\n5                                                       0316258873, 0316577855, 0316259705, 1668624605, 9780316258876, 9780316577854, 9780316259705, 9781668624609\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              buy_links\n1                                                 Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1250178630?tag=thenewyorktim-20, https://goto.applebooks.apple/9781250178633?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781250178633, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FTHE%2BWOMEN%2FKristin%2BHannah%2F9781250178633, https://bookshop.org/a/3546/9781250178633\n2 Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/0593446593?tag=thenewyorktim-20, https://goto.applebooks.apple/9780593446591?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9780593446591, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FTHE%2BBOOK%2BOF%2BELSEWHERE%2FKeanu%2BReeves%2Band%2BChina%2BMi%25C3%25A9ville%2F9780593446591, https://bookshop.org/a/3546/9780593446591\n3 Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/0063383608?tag=thenewyorktim-20, https://goto.applebooks.apple/9780063383609?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9780063383609, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FTHE%2BDUKE%2BAND%2BI%2BAND%2BTHE%2BVISCOUNT%2BWHO%2BLOVED%2BME%2FJulia%2BQuinn%2F9780063383609, https://bookshop.org/a/3546/9780063383609\n4                                               Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1649374046?tag=thenewyorktim-20, https://goto.applebooks.apple/9781649374042?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781649374042, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FFOURTH%2BWING%2FRebecca%2BYarros%2F9781649374042, https://bookshop.org/a/3546/9781649374042\n5                                               Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/0316258873?tag=thenewyorktim-20, https://goto.applebooks.apple/9780316258876?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9780316258876, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FSWAN%2BSONG%2FElin%2BHilderbrand%2F9780316258876, https://bookshop.org/a/3546/9780316258876\n                                         book_uri\n1 nyt://book/9ce735af-71cf-5ff3-a367-43ee07e3fdd7\n2 nyt://book/e4641042-d2db-5785-8200-e6e611d0dd2a\n3 nyt://book/fec9568e-3c3f-54a9-9087-4674421b4849\n4 nyt://book/106c2cf0-7d20-51b1-bad4-91c3ebcd131a\n5 nyt://book/4e9c52e4-986b-5231-999d-8a2d00eb1cb0\n\n$`2024-08-04`\n  rank rank_last_week weeks_on_list asterisk dagger primary_isbn10\n1    1              2            24        0      0     1250178630\n2    2              0             1        0      0     0593724771\n3    3              4             6        0      0     0316258873\n4    4              5            63        0      0     1649374046\n5    5              9             7        0      0     0316565075\n  primary_isbn13     publisher\n1  9781250178633  St. Martin's\n2  9780593724774    Ballantine\n3  9780316258876 Little, Brown\n4  9781649374042     Red Tower\n5  9780316565073 Little, Brown\n                                                                                                                       description\n1                 In 1965, a nursing student follows her brother to serve during the Vietnam War and returns to a divided America.\n2           The fifth book in the All Souls series. Diana faces her family’s dark past and determines to forge a different future.\n3   Nantucket residents are alarmed when a home, recently sold at an exorbitant price, goes up in flames and someone goes missing.\n4 Violet Sorrengail is urged by the commanding general, who also is her mother, to become a candidate for the elite dragon riders.\n5          The Big Island of Hawaii comes under threat by a volcano at the same time a secret held by the military comes to light.\n  price                 title                               author\n1  0.00             THE WOMEN                       Kristin Hannah\n2  0.00 THE BLACK BIRD ORACLE                     Deborah Harkness\n3  0.00             SWAN SONG                     Elin Hilderbrand\n4  0.00           FOURTH WING                       Rebecca Yarros\n5  0.00              ERUPTION Michael Crichton and James Patterson\n                              contributor contributor_note\n1                       by Kristin Hannah                 \n2                     by Deborah Harkness                 \n3                     by Elin Hilderbrand                 \n4                       by Rebecca Yarros                 \n5 by Michael Crichton and James Patterson                 \n                                                            book_image\n1 https://storage.googleapis.com/du-prd/books/images/9781250178633.jpg\n2 https://storage.googleapis.com/du-prd/books/images/9780593724774.jpg\n3 https://storage.googleapis.com/du-prd/books/images/9780316258876.jpg\n4 https://storage.googleapis.com/du-prd/books/images/9781649374042.jpg\n5 https://storage.googleapis.com/du-prd/books/images/9780316565073.jpg\n  book_image_width book_image_height\n1              333               500\n2              331               500\n3              323               500\n4              309               500\n5              323               500\n                                         amazon_product_url age_group\n1 https://www.amazon.com/dp/1250178630?tag=thenewyorktim-20          \n2 https://www.amazon.com/dp/0593724771?tag=thenewyorktim-20          \n3 https://www.amazon.com/dp/0316258873?tag=thenewyorktim-20          \n4 https://www.amazon.com/dp/1649374046?tag=thenewyorktim-20          \n5 https://www.amazon.com/dp/0316565075?tag=thenewyorktim-20          \n  book_review_link first_chapter_link sunday_review_link article_chapter_link\n1                                                                            \n2                                                                            \n3                                                                            \n4                                                                            \n5                                                                            \n                                                                                                                                                             isbns\n1                                                                                                             1250178630, 1250178657, 9781250178633, 9781250178657\n2                                                                                  0593724771, 059372478X, 0593909232, 9780593724774, 9780593724781, 9780593909232\n3                                                       0316258873, 0316577855, 0316259705, 1668624605, 9780316258876, 9780316577854, 9780316259705, 9781668624609\n4 1649374046, 1649374089, 1705085059, 1705085032, 1649376162, 1649377371, 9781649374042, 9781649374080, 9781705085059, 9781705085035, 9781649376169, 9781649377371\n5                                                                                  0316565075, 0316565083, 1668639343, 9780316565073, 9780316565080, 9781668639344\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       buy_links\n1                          Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1250178630?tag=thenewyorktim-20, https://goto.applebooks.apple/9781250178633?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781250178633, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FTHE%2BWOMEN%2FKristin%2BHannah%2F9781250178633, https://bookshop.org/a/3546/9781250178633\n2        Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/0593724771?tag=thenewyorktim-20, https://goto.applebooks.apple/9780593724774?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9780593724774, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FTHE%2BBLACK%2BBIRD%2BORACLE%2FDeborah%2BHarkness%2F9780593724774, https://bookshop.org/a/3546/9780593724774\n3                        Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/0316258873?tag=thenewyorktim-20, https://goto.applebooks.apple/9780316258876?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9780316258876, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FSWAN%2BSONG%2FElin%2BHilderbrand%2F9780316258876, https://bookshop.org/a/3546/9780316258876\n4                        Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1649374046?tag=thenewyorktim-20, https://goto.applebooks.apple/9781649374042?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781649374042, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FFOURTH%2BWING%2FRebecca%2BYarros%2F9781649374042, https://bookshop.org/a/3546/9781649374042\n5 Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/0316565075?tag=thenewyorktim-20, https://goto.applebooks.apple/9780316565073?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9780316565073, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FERUPTION%2FMichael%2BCrichton%2Band%2BJames%2BPatterson%2F9780316565073, https://bookshop.org/a/3546/9780316565073\n                                         book_uri\n1 nyt://book/9ce735af-71cf-5ff3-a367-43ee07e3fdd7\n2 nyt://book/8b067869-1581-522a-bc28-1a7cdd519e3e\n3 nyt://book/4e9c52e4-986b-5231-999d-8a2d00eb1cb0\n4 nyt://book/106c2cf0-7d20-51b1-bad4-91c3ebcd131a\n5 nyt://book/385356f7-39ed-5465-849f-cac99a8bf38f\n\n$`2024-07-28`\n  rank rank_last_week weeks_on_list asterisk dagger primary_isbn10\n1    1              0             1        0      0     0063384205\n2    2              1            23        0      0     1250178630\n3    3              0             1        0      0     0593600290\n4    4              2             5        0      0     0316258873\n5    5              6            62        0      0     1649374046\n  primary_isbn13     publisher\n1  9780063384200        Harper\n2  9781250178633  St. Martin's\n3  9780593600290    Ballantine\n4  9780316258876 Little, Brown\n5  9781649374042     Red Tower\n                                                                                                                                             description\n1 The 24th book in the Gabriel Allon series. Gabriel forges six impressionist canvases and enlists an unlikely team of operatives to go after a new foe.\n2                                       In 1965, a nursing student follows her brother to serve during the Vietnam War and returns to a divided America.\n3                              Ten years after a tragedy close to graduation, Hannah and her college friends grapple with turning points in their lives.\n4                         Nantucket residents are alarmed when a home, recently sold at an exorbitant price, goes up in flames and someone goes missing.\n5                       Violet Sorrengail is urged by the commanding general, who also is her mother, to become a candidate for the elite dragon riders.\n  price               title           author         contributor\n1  0.00 A DEATH IN CORNWALL     Daniel Silva     by Daniel Silva\n2  0.00           THE WOMEN   Kristin Hannah   by Kristin Hannah\n3  0.00     THE SUMMER PACT     Emily Giffin     by Emily Giffin\n4  0.00           SWAN SONG Elin Hilderbrand by Elin Hilderbrand\n5  0.00         FOURTH WING   Rebecca Yarros   by Rebecca Yarros\n  contributor_note\n1                 \n2                 \n3                 \n4                 \n5                 \n                                                            book_image\n1 https://storage.googleapis.com/du-prd/books/images/9780063384200.jpg\n2 https://storage.googleapis.com/du-prd/books/images/9781250178633.jpg\n3 https://storage.googleapis.com/du-prd/books/images/9780593600290.jpg\n4 https://storage.googleapis.com/du-prd/books/images/9780316258876.jpg\n5 https://storage.googleapis.com/du-prd/books/images/9781649374042.jpg\n  book_image_width book_image_height\n1              331               500\n2              333               500\n3              329               500\n4              323               500\n5              309               500\n                                         amazon_product_url age_group\n1 https://www.amazon.com/dp/0063384205?tag=thenewyorktim-20          \n2 https://www.amazon.com/dp/1250178630?tag=thenewyorktim-20          \n3 https://www.amazon.com/dp/0593600290?tag=thenewyorktim-20          \n4 https://www.amazon.com/dp/0316258873?tag=thenewyorktim-20          \n5 https://www.amazon.com/dp/1649374046?tag=thenewyorktim-20          \n  book_review_link first_chapter_link sunday_review_link article_chapter_link\n1                                                                            \n2                                                                            \n3                                                                            \n4                                                                            \n5                                                                            \n                                                                                                                                                             isbns\n1                                                                                                             0063384205, 0063384248, 9780063384200, 9780063384248\n2                                                                                                             1250178630, 1250178657, 9781250178633, 9781250178657\n3                                                                                  0593600290, 0593600304, 0593949544, 9780593600290, 9780593600306, 9780593949542\n4                                                       0316258873, 0316577855, 0316259705, 1668624605, 9780316258876, 9780316577854, 9780316259705, 9781668624609\n5 1649374046, 1649374089, 1705085059, 1705085032, 1649376162, 1649377371, 9781649374042, 9781649374080, 9781705085059, 9781705085035, 9781649376169, 9781649377371\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          buy_links\n1 Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/0063384205?tag=thenewyorktim-20, https://goto.applebooks.apple/9780063384200?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9780063384200, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FA%2BDEATH%2BIN%2BCORNWALL%2FDaniel%2BSilva%2F9780063384200, https://bookshop.org/a/3546/9780063384200\n2             Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1250178630?tag=thenewyorktim-20, https://goto.applebooks.apple/9781250178633?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781250178633, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FTHE%2BWOMEN%2FKristin%2BHannah%2F9781250178633, https://bookshop.org/a/3546/9781250178633\n3       Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/0593600290?tag=thenewyorktim-20, https://goto.applebooks.apple/9780593600290?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9780593600290, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FTHE%2BSUMMER%2BPACT%2FEmily%2BGiffin%2F9780593600290, https://bookshop.org/a/3546/9780593600290\n4           Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/0316258873?tag=thenewyorktim-20, https://goto.applebooks.apple/9780316258876?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9780316258876, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FSWAN%2BSONG%2FElin%2BHilderbrand%2F9780316258876, https://bookshop.org/a/3546/9780316258876\n5           Amazon, Apple Books, Barnes and Noble, Books-A-Million, Bookshop.org, https://www.amazon.com/dp/1649374046?tag=thenewyorktim-20, https://goto.applebooks.apple/9781649374042?at=10lIEQ, https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781649374042, https://www.anrdoezrs.net/click-7990613-35140?url=https%3A%2F%2Fwww.booksamillion.com%2Fp%2FFOURTH%2BWING%2FRebecca%2BYarros%2F9781649374042, https://bookshop.org/a/3546/9781649374042\n                                         book_uri\n1 nyt://book/15cc24d7-c007-5a71-ba3e-3fe5d9110668\n2 nyt://book/9ce735af-71cf-5ff3-a367-43ee07e3fdd7\n3 nyt://book/6811734e-e478-525d-9c88-5b474d13ece4\n4 nyt://book/4e9c52e4-986b-5231-999d-8a2d00eb1cb0\n5 nyt://book/106c2cf0-7d20-51b1-bad4-91c3ebcd131a"
  },
  {
    "objectID": "slides/15_data-analysis-functions.html#updating-results-for-new-data",
    "href": "slides/15_data-analysis-functions.html#updating-results-for-new-data",
    "title": "MATH167R: Programming for data analysis",
    "section": "Updating results for new data",
    "text": "Updating results for new data\nFinally, we can combine some of these functions into a larger function that we can run every week to update our results.\n\ndownload_data &lt;- function() {\n  # automatically pull today's date\n  dates &lt;- seq(Sys.Date(), by = -7, length.out = 12)\n  bestseller_lists &lt;- lapply(\n    dates,\n    function(x) {\n      # slow down execution by waiting 12 seconds\n      Sys.sleep(12)\n      jsonlite::fromJSON(\n        paste0(\n          \"https://api.nytimes.com/svc/books/v3/lists/\",\n          x,\n          \"/hardcover-fiction.json?api-key=\",\n          api_key\n        )\n      )$results$books\n    }\n  )\n  names(bestseller_lists) &lt;- dates\n  return(bestseller_lists)\n}\ngenerate_plot &lt;- function() {\n  # Add code here . . .\n}"
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#overview-of-today",
    "href": "slides/19_simulation-based-inference.html#overview-of-today",
    "title": "MATH167R: Simulation based inference",
    "section": "Overview of today",
    "text": "Overview of today\n\nSampling distributions\nBootstrap distributions"
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#sampling-distributions",
    "href": "slides/19_simulation-based-inference.html#sampling-distributions",
    "title": "MATH167R: Simulation based inference",
    "section": "Sampling distributions",
    "text": "Sampling distributions\nWithout explicitly saying so, we have been simulating sampling distributions during our simulations.\nRecall: A sampling distribution is the probability distribution of a sample-based statistic.\nExample: If \\(X_1,\\ldots, X_{100}\\) are iid random variables with variance \\(1\\), what is the distribution of the sample mean \\(\\overline{X}\\)?"
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#simulating-a-sampling-distribution",
    "href": "slides/19_simulation-based-inference.html#simulating-a-sampling-distribution",
    "title": "MATH167R: Simulation based inference",
    "section": "Simulating a sampling distribution",
    "text": "Simulating a sampling distribution\nExample simulation: Suppose \\(X_1,\\ldots, X_{100}\\sim N(0,1)\\).\n\nset.seed(123)\nXbar &lt;- replicate(10000, mean(rnorm(100)))\nhist(Xbar, main = \"Sampling distribution of mean of 100 N(0, 1) variables\")"
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#simulating-a-sampling-distribution-1",
    "href": "slides/19_simulation-based-inference.html#simulating-a-sampling-distribution-1",
    "title": "MATH167R: Simulation based inference",
    "section": "Simulating a sampling distribution",
    "text": "Simulating a sampling distribution\nWhat if \\(X_1,\\ldots, X_{100}\\sim \\mathrm{Exp}(1)\\)?\n\nset.seed(123)\nXbar &lt;- replicate(10000, mean(rexp(100, rate = 1)))\nhist(Xbar, main = \"Sampling distribution of mean of 100 Exponential(1) variables\")"
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#simulating-a-sampling-distribution-2",
    "href": "slides/19_simulation-based-inference.html#simulating-a-sampling-distribution-2",
    "title": "MATH167R: Simulation based inference",
    "section": "Simulating a sampling distribution",
    "text": "Simulating a sampling distribution\nWhat if \\(X_1,\\ldots, X_{100}\\sim \\mathrm{Poisson}(1)\\)?\n\nset.seed(123)\nXbar &lt;- replicate(10000, mean(rpois(100, lambda = 1)))\nhist(Xbar, main = \"Sampling distribution of mean of 100 Poisson(1) variables\")"
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#simulating-a-sampling-distribution-3",
    "href": "slides/19_simulation-based-inference.html#simulating-a-sampling-distribution-3",
    "title": "MATH167R: Simulation based inference",
    "section": "Simulating a sampling distribution",
    "text": "Simulating a sampling distribution\nBy the central limit theorem, all of these sampling distributions are asymptotically Gaussian with variance 1/100 (though the mean values differ between the three). Since \\(n=100\\) is fairly large (for these examples), all of the previous examples are close to Gaussian.\nWhat about if \\(n\\) is smaller? Or if we consider other distributions?\nSimulation is a powerful strategy for testing out methods:\n\nSuppose you wish to know… is \\(n\\) large?\nCreate a simulation that generates data that looks like your real world data.\nEvaluate whether the results are reasonable/accurate using simulated data."
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#smaller-sample-sizes",
    "href": "slides/19_simulation-based-inference.html#smaller-sample-sizes",
    "title": "MATH167R: Simulation based inference",
    "section": "Smaller sample sizes",
    "text": "Smaller sample sizes\n\nset.seed(123)\nXbar_normal &lt;- replicate(10000, mean(rnorm(10)))\nXbar_exp &lt;- replicate(10000, mean(rexp(10, rate = 1)))\nXbar_poisson &lt;- replicate(10000, mean(rpois(10, lambda = 1)))\npar(mfrow = c(1, 3))\nhist(Xbar_normal, main = \"N(0, 1)\")\nhist(Xbar_exp, main = \"Exp(1)\")\nhist(Xbar_poisson, main = \"Poisson(1)\")"
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#smaller-sample-sizes-1",
    "href": "slides/19_simulation-based-inference.html#smaller-sample-sizes-1",
    "title": "MATH167R: Simulation based inference",
    "section": "Smaller sample sizes",
    "text": "Smaller sample sizes"
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#other-statistics",
    "href": "slides/19_simulation-based-inference.html#other-statistics",
    "title": "MATH167R: Simulation based inference",
    "section": "Other statistics",
    "text": "Other statistics\nWhat if we want the sampling distribution of the maximum? For each of these population models, the sampling distribution of the maximum is different.\n\nset.seed(123)\nXmax_normal &lt;- replicate(10000, max(rnorm(10)))\nXmax_exp &lt;- replicate(10000, max(rexp(10, rate = 1)))\nXmax_poisson &lt;- replicate(10000, max(rpois(10, lambda = 1)))\npar(mfrow = c(1, 3))\nhist(Xmax_normal, main = \"N(0, 1)\")\nhist(Xmax_exp, main = \"Exp(1)\")\nhist(Xmax_poisson, main = \"Poisson(1)\")"
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#other-statistics-1",
    "href": "slides/19_simulation-based-inference.html#other-statistics-1",
    "title": "MATH167R: Simulation based inference",
    "section": "Other statistics",
    "text": "Other statistics\nWhat if we want the sampling distribution of the maximum? For each of these population models, the sampling distribution of the maximum is different."
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#transformations",
    "href": "slides/19_simulation-based-inference.html#transformations",
    "title": "MATH167R: Simulation based inference",
    "section": "Transformations",
    "text": "Transformations\nWe can easily simulate sampling distributions for statistics summarizing the distribution of random variables that are defined as transformations of other random variables.\n\nset.seed(123)\nXbar_normal &lt;- replicate(10000, mean(rnorm(10) ^ 2))\nXbar_exp &lt;- replicate(10000, mean(rexp(10, rate = 1) ^ 2))\nXbar_poisson &lt;- replicate(10000, mean(rpois(10, lambda = 1) ^ 2))\npar(mfrow = c(1, 3))\nhist(Xbar_normal, main = \"N(0, 1) squared\")\nhist(Xbar_exp, main = \"Exp(1) squared\")\nhist(Xbar_poisson, main = \"Poisson(1) squared\")"
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#transformations-1",
    "href": "slides/19_simulation-based-inference.html#transformations-1",
    "title": "MATH167R: Simulation based inference",
    "section": "Transformations",
    "text": "Transformations\nWe can easily simulate sampling distributions for statistics summarizing the distribution of random variables that are defined as transformations of other random variables."
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#exercise",
    "href": "slides/19_simulation-based-inference.html#exercise",
    "title": "MATH167R: Simulation based inference",
    "section": "Exercise",
    "text": "Exercise\n\nWrite code to create a histogram of the sampling distribution of the sample mean \\(\\overline{Y}\\) of \\(Y_1,\\ldots, Y_{10}\\) where \\(Y_i=\\sin(X_i)\\) and \\(X_1,\\ldots, X_{10}\\) are iid Uniform(0, 1) random variables."
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#resampling-methods",
    "href": "slides/19_simulation-based-inference.html#resampling-methods",
    "title": "MATH167R: Simulation based inference",
    "section": "Resampling methods",
    "text": "Resampling methods\nThe previous simulations are all based on parametric models (normal, exponential, Poisson). However, we can also simulate sampling distributions without parametric assumptions on the data generating mechanism."
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#estimating-the-age-of-us-pennies",
    "href": "slides/19_simulation-based-inference.html#estimating-the-age-of-us-pennies",
    "title": "MATH167R: Simulation based inference",
    "section": "Estimating the age of US pennies",
    "text": "Estimating the age of US pennies\nSuppose we want to estimate the average age of US pennies. We can’t observe every single penny—so what if we take a sample of 50 pennies?\n\nBased on an example from ModernDive."
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#estimating-the-age-of-us-pennies-1",
    "href": "slides/19_simulation-based-inference.html#estimating-the-age-of-us-pennies-1",
    "title": "MATH167R: Simulation based inference",
    "section": "Estimating the age of US pennies",
    "text": "Estimating the age of US pennies\nThe moderndive package contains data on a sample of 50 pennies in the pennies_sample data frame.\n\nlibrary(moderndive)\ndata(pennies_sample)\nhead(pennies_sample)\n\n# A tibble: 6 × 2\n     ID  year\n  &lt;int&gt; &lt;dbl&gt;\n1     1  2002\n2     2  1986\n3     3  2017\n4     4  1988\n5     5  2008\n6     6  1983"
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#estimating-the-age-of-us-pennies-2",
    "href": "slides/19_simulation-based-inference.html#estimating-the-age-of-us-pennies-2",
    "title": "MATH167R: Simulation based inference",
    "section": "Estimating the age of US pennies",
    "text": "Estimating the age of US pennies\nThe moderndive package contains data on a sample of 50 pennies in the pennies_sample data frame.\n\nlibrary(tidyverse)\nggplot(pennies_sample, aes(x = year)) +\n  geom_histogram(binwidth = 10, color = \"white\") +\n  theme_minimal(base_size = 28)"
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#estimating-the-age-of-us-pennies-3",
    "href": "slides/19_simulation-based-inference.html#estimating-the-age-of-us-pennies-3",
    "title": "MATH167R: Simulation based inference",
    "section": "Estimating the age of US pennies",
    "text": "Estimating the age of US pennies\nBased on this sample, we can compute the sample mean:\n\nx_bar &lt;- pennies_sample |&gt;\n  summarize(mean_year = mean(year))\nx_bar\n\n# A tibble: 1 × 1\n  mean_year\n      &lt;dbl&gt;\n1     1995."
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#resampling-the-pennies",
    "href": "slides/19_simulation-based-inference.html#resampling-the-pennies",
    "title": "MATH167R: Simulation based inference",
    "section": "Resampling the pennies",
    "text": "Resampling the pennies\nImagine we put our 50 pennies in a bag and draw a new sample of 50 pennies by sampling with replacement. This is called resampling with replacement.\n\nset.seed(327)\npennies_resample &lt;-\n  data.frame(year = sample(pennies_sample$year, 50, replace = T))\nhead(pennies_resample)\n\n  year\n1 1979\n2 2015\n3 1978\n4 2017\n5 2006\n6 1979\n\npennies_resample %&gt;% \n  summarize(mean_year = mean(year))\n\n  mean_year\n1   1997.56"
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#resampling-the-pennies-1",
    "href": "slides/19_simulation-based-inference.html#resampling-the-pennies-1",
    "title": "MATH167R: Simulation based inference",
    "section": "Resampling the pennies",
    "text": "Resampling the pennies\nImagine we put our 50 pennies in a bag and draw a new sample of 50 pennies by sampling with replacement. This is called resampling with replacement.\n\npennies_combined &lt;- \n  bind_rows(pennies_sample |&gt; mutate(title = \"Original sample\"),\n            pennies_resample |&gt; mutate(title = \"Resample\"))\nggplot(pennies_combined, aes(x = year)) +\n  geom_histogram(binwidth = 10, color = \"white\") +\n  facet_wrap(~title) + \n  theme_minimal(base_size = 14)"
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#resampling-the-pennies-2",
    "href": "slides/19_simulation-based-inference.html#resampling-the-pennies-2",
    "title": "MATH167R: Simulation based inference",
    "section": "Resampling the pennies",
    "text": "Resampling the pennies\nNote that our resample is not the same as drawing a new sample from the population. However, we can still learn about the sampling variability of the sample mean. Suppose we repeat this process many times.\n\nhead(pennies_resamples)\n\n# A tibble: 6 × 3\n# Groups:   name [1]\n  replicate name     year\n      &lt;int&gt; &lt;chr&gt;   &lt;dbl&gt;\n1         1 Arianna  1988\n2         1 Arianna  2002\n3         1 Arianna  2015\n4         1 Arianna  1998\n5         1 Arianna  1979\n6         1 Arianna  1971"
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#resampling-the-pennies-3",
    "href": "slides/19_simulation-based-inference.html#resampling-the-pennies-3",
    "title": "MATH167R: Simulation based inference",
    "section": "Resampling the pennies",
    "text": "Resampling the pennies\nWe can compute each resample mean:\n\nresampled_means &lt;- pennies_resamples |&gt;\n  group_by(name) |&gt;\n  summarize(mean_year = mean(year))\nhead(resampled_means)\n\n# A tibble: 6 × 2\n  name      mean_year\n  &lt;chr&gt;         &lt;dbl&gt;\n1 Arianna       1992.\n2 Artemis       1996.\n3 Bea           1996.\n4 Camryn        1997.\n5 Cassandra     1991.\n6 Cindy         1995."
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#resampling-the-pennies-4",
    "href": "slides/19_simulation-based-inference.html#resampling-the-pennies-4",
    "title": "MATH167R: Simulation based inference",
    "section": "Resampling the pennies",
    "text": "Resampling the pennies\nWe can compute each resample mean:\n\nggplot(resampled_means, aes(x = mean_year)) +\n  geom_histogram(binwidth = 1, color = \"white\", boundary = 1990) +\n  labs(x = \"Sampled mean year\") +\n  theme_minimal(base_size = 20)"
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#resampling-the-pennies-1000-times",
    "href": "slides/19_simulation-based-inference.html#resampling-the-pennies-1000-times",
    "title": "MATH167R: Simulation based inference",
    "section": "Resampling the pennies 1000 times",
    "text": "Resampling the pennies 1000 times\nUsing simulation, we can repeat this process virtually 1000 times:\n\n# Repeat resampling 1000 times\nvirtual_resamples &lt;- pennies_sample |&gt;\n  rep_sample_n(size = 50, replace = TRUE, reps = 1000)\n\n# Compute 1000 sample means\nvirtual_resampled_means &lt;- virtual_resamples |&gt;\n  group_by(replicate) |&gt;\n  summarize(mean_year = mean(year))"
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#resampling-the-pennies-1000-times-1",
    "href": "slides/19_simulation-based-inference.html#resampling-the-pennies-1000-times-1",
    "title": "MATH167R: Simulation based inference",
    "section": "Resampling the pennies 1000 times",
    "text": "Resampling the pennies 1000 times\nUsing simulation, we can repeat this process virtually 1000 times:\n\nggplot(virtual_resampled_means, aes(x = mean_year)) +\n  geom_histogram(binwidth = 1, color = \"white\", boundary = 1990) +\n  labs(x = \"sample mean\") +\n  theme_minimal()"
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#resampling-the-pennies-1000-times-2",
    "href": "slides/19_simulation-based-inference.html#resampling-the-pennies-1000-times-2",
    "title": "MATH167R: Simulation based inference",
    "section": "Resampling the pennies 1000 times",
    "text": "Resampling the pennies 1000 times\nNote that our resampled means are centered around our original sample mean. This means that resampling doesn’t tell us about how far off our particular sample is–only about the variability of the observed values.\n\nvirtual_resampled_means |&gt;\n  summarize(mean_of_means = mean(mean_year))\n\n# A tibble: 1 × 1\n  mean_of_means\n          &lt;dbl&gt;\n1         1995.\n\nmean(pennies_sample$year)\n\n[1] 1995.44"
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#resampling-confidence-intervals",
    "href": "slides/19_simulation-based-inference.html#resampling-confidence-intervals",
    "title": "MATH167R: Simulation based inference",
    "section": "Resampling confidence intervals",
    "text": "Resampling confidence intervals\nWe can obtain a confidence interval based on our resample means:\n\nquantile(virtual_resampled_means$mean_year, c(.025, .975))\n\n    2.5%    97.5% \n1991.358 1999.441 \n\nggplot(virtual_resampled_means, aes(x = mean_year)) +\n  geom_histogram(binwidth = 1, color = \"white\", boundary = 1990) +\n  geom_vline(xintercept = quantile(virtual_resampled_means$mean_year, c(.025, .975)), \n             color = 'red') +\n  labs(x = \"sample mean\") +\n  theme_minimal(base_size = 24)"
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#resampling-confidence-intervals-1",
    "href": "slides/19_simulation-based-inference.html#resampling-confidence-intervals-1",
    "title": "MATH167R: Simulation based inference",
    "section": "Resampling confidence intervals",
    "text": "Resampling confidence intervals\nCompare with a normal sampling distribution based confidence interval:\n\nt.test(pennies_sample$year)$conf.int\n\n[1] 1991.127 1999.753\nattr(,\"conf.level\")\n[1] 0.95"
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#resampling-methods-1",
    "href": "slides/19_simulation-based-inference.html#resampling-methods-1",
    "title": "MATH167R: Simulation based inference",
    "section": "Resampling methods",
    "text": "Resampling methods\nSuppose we know \\(X_1,\\ldots, X_{20}\\sim \\mathrm{Exp}(1)\\). The sampling distribution of the sample mean can be simulated as follows:\n\nset.seed(123)\nXbar_exp &lt;- replicate(10000, mean(rexp(20, rate = 1)))\nhist(Xbar_exp)"
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#resampling-methods-2",
    "href": "slides/19_simulation-based-inference.html#resampling-methods-2",
    "title": "MATH167R: Simulation based inference",
    "section": "Resampling methods",
    "text": "Resampling methods\nWhat if we observe \\(X_1,\\ldots, X_{20}\\), but we don’t know that \\(X_i\\) is exponentially distributed? We could just try the normal approximation to approximate the sampling distribution.\n\nX &lt;- rexp(20, rate = 1)\nx_axis &lt;- seq(0, 3, length.out = 1000)\n\n# plot \"true\" simulated sampling distribution\nhist(Xbar_exp, freq = F, ylim = c(0, 3))\n\n# plot normal theory\nlines(x_axis, dnorm(x_axis, mean = mean(X), sd = sd(X) / sqrt(20)), col = 'red')"
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#resampling-methods-3",
    "href": "slides/19_simulation-based-inference.html#resampling-methods-3",
    "title": "MATH167R: Simulation based inference",
    "section": "Resampling methods",
    "text": "Resampling methods"
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#bootstrap-samples",
    "href": "slides/19_simulation-based-inference.html#bootstrap-samples",
    "title": "MATH167R: Simulation based inference",
    "section": "Bootstrap samples",
    "text": "Bootstrap samples\nBootstrapping is a resampling method that uses random samples with replacement from the sample data to approximate the sampling distribution of sample-based statistics.\n\nprint(sort(X))\n\n [1] 0.00816693 0.06263315 0.11949335 0.12600941 0.14474580 0.14660666\n [7] 0.15582213 0.17485277 0.23514296 0.35492087 0.48980207 0.52215538\n[13] 0.72200938 1.27034542 1.56551624 1.74866229 1.82459209 1.84311722\n[19] 2.14225230 2.24995288\n\n# sample with replacement from X\nX_resample &lt;- sample(X, size = 20, replace = TRUE)\nprint(sort(X_resample))\n\n [1] 0.06263315 0.11949335 0.11949335 0.11949335 0.11949335 0.12600941\n [7] 0.14474580 0.14474580 0.15582213 0.15582213 0.17485277 0.35492087\n[13] 0.35492087 0.48980207 0.72200938 0.72200938 1.56551624 2.14225230\n[19] 2.24995288 2.24995288"
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#bootstrap-samples-1",
    "href": "slides/19_simulation-based-inference.html#bootstrap-samples-1",
    "title": "MATH167R: Simulation based inference",
    "section": "Bootstrap samples",
    "text": "Bootstrap samples\nWe can repeatedly resample from \\(X\\), then compute the resample sample means and plot the distribution:\n\nbootstrap_Xbar &lt;- replicate(10000, mean(sample(X, size = 20, replace = TRUE)))\nhist(bootstrap_Xbar - mean(X) + 1)"
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#bootstrap-samples-2",
    "href": "slides/19_simulation-based-inference.html#bootstrap-samples-2",
    "title": "MATH167R: Simulation based inference",
    "section": "Bootstrap samples",
    "text": "Bootstrap samples\nWe can compare the bootstrap sampling distributions and true sampling distributions for \\(\\overline{X}-E(\\overline{X})\\).\n\nlibrary(ggplot2)\nplot_dat &lt;-\n  data.frame(Xbar = c(Xbar_exp - 1, bootstrap_Xbar - mean(X)),\n             source = rep(c(\"Parametric (Exp)\", \"Bootstrap\"), each = 10000))\nggplot(plot_dat, aes(x = Xbar, color = source)) +\n  geom_density() +\n  geom_function(fun = dnorm, \n                args = list(mean = 0, sd = 1 / sqrt(20)),\n                aes(color = \"Parametric (Normal)\")) +\n  xlab(\"Xbar - E(Xbar)\") +\n  theme_minimal(base_size = 20)"
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#bootstrap-samples-3",
    "href": "slides/19_simulation-based-inference.html#bootstrap-samples-3",
    "title": "MATH167R: Simulation based inference",
    "section": "Bootstrap samples",
    "text": "Bootstrap samples\nWe can compare the bootstrap sampling distributions and true sampling distributions for \\(\\overline{X}-E(\\overline{X})\\)."
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#bootstrap-confidence-intervals",
    "href": "slides/19_simulation-based-inference.html#bootstrap-confidence-intervals",
    "title": "MATH167R: Simulation based inference",
    "section": "Bootstrap confidence intervals",
    "text": "Bootstrap confidence intervals\nWe can take appropriate quantiles of the bootstrap samples to construct a bootstrap confidence interval using the quantile() function:\n\nquantile(bootstrap_Xbar, probs = c(.025, .975))\n\n    2.5%    97.5% \n0.467759 1.157051"
  },
  {
    "objectID": "slides/19_simulation-based-inference.html#why-bootstrap",
    "href": "slides/19_simulation-based-inference.html#why-bootstrap",
    "title": "MATH167R: Simulation based inference",
    "section": "Why bootstrap?",
    "text": "Why bootstrap?\nIn this case, inference based on bootstrapping does not seem better than the normal approximation based on the central limit theorem.\nHowever, for many cases, we may not have a simple parametric approximation to the true sampling distribution. For example, suppose we wish to compute the sampling distribution of the sample median.\nNote however that the bootstrap may not work well for all statistics, such as the minimum (why not?)."
  },
  {
    "objectID": "slides/10_data-management.html#overview-of-today",
    "href": "slides/10_data-management.html#overview-of-today",
    "title": "MATH167R: Merging Data",
    "section": "Overview of today",
    "text": "Overview of today\n\nMerging data\nExploratory data analysis and workflow\nOrganizing output and saving images\nLab time"
  },
  {
    "objectID": "slides/10_data-management.html#joining-data",
    "href": "slides/10_data-management.html#joining-data",
    "title": "MATH167R: Merging Data",
    "section": "Joining data",
    "text": "Joining data\nOften we will want to combine two data frames. To do so, we typically need a key variable which exists in both data frames."
  },
  {
    "objectID": "slides/10_data-management.html#example-flights-data",
    "href": "slides/10_data-management.html#example-flights-data",
    "title": "MATH167R: Merging Data",
    "section": "Example: Flights data",
    "text": "Example: Flights data\n\nlibrary(nycflights13)\ndata(flights)\ndata(airlines)\nhead(flights)\n\n\n\n\n\n\n\nyear\nmonth\nday\ndep_time\nsched_dep_time\ndep_delay\narr_time\nsched_arr_time\narr_delay\ncarrier\nflight\ntailnum\norigin\ndest\nair_time\ndistance\nhour\nminute\ntime_hour\n\n\n\n\n2013\n1\n1\n517\n515\n2\n830\n819\n11\nUA\n1545\nN14228\nEWR\nIAH\n227\n1400\n5\n15\n2013-01-01 05:00:00\n\n\n2013\n1\n1\n533\n529\n4\n850\n830\n20\nUA\n1714\nN24211\nLGA\nIAH\n227\n1416\n5\n29\n2013-01-01 05:00:00\n\n\n2013\n1\n1\n542\n540\n2\n923\n850\n33\nAA\n1141\nN619AA\nJFK\nMIA\n160\n1089\n5\n40\n2013-01-01 05:00:00\n\n\n2013\n1\n1\n544\n545\n-1\n1004\n1022\n-18\nB6\n725\nN804JB\nJFK\nBQN\n183\n1576\n5\n45\n2013-01-01 05:00:00\n\n\n2013\n1\n1\n554\n600\n-6\n812\n837\n-25\nDL\n461\nN668DN\nLGA\nATL\n116\n762\n6\n0\n2013-01-01 06:00:00\n\n\n2013\n1\n1\n554\n558\n-4\n740\n728\n12\nUA\n1696\nN39463\nEWR\nORD\n150\n719\n5\n58\n2013-01-01 05:00:00"
  },
  {
    "objectID": "slides/10_data-management.html#keys",
    "href": "slides/10_data-management.html#keys",
    "title": "MATH167R: Merging Data",
    "section": "Keys",
    "text": "Keys\n\nhead(airlines)\n\n\n\n\n\n\n\ncarrier\nname\n\n\n\n\n9E\nEndeavor Air Inc.\n\n\nAA\nAmerican Airlines Inc.\n\n\nAS\nAlaska Airlines Inc.\n\n\nB6\nJetBlue Airways\n\n\nDL\nDelta Air Lines Inc.\n\n\nEV\nExpressJet Airlines Inc."
  },
  {
    "objectID": "slides/10_data-management.html#joining-data-1",
    "href": "slides/10_data-management.html#joining-data-1",
    "title": "MATH167R: Merging Data",
    "section": "Joining Data",
    "text": "Joining Data\nWe can use SQL-like join statements in R:\n\ninner_join(x, y, by = \"key\"): match observations only when exact keys are equal\nleft_join(x, y, by = \"key\"): keep all observations in x, match observations in y by keys, NA otherwise\nright_join(x, y, by = \"key\"): keep all observations in y, match observations in x by keys, NA otherwise\nouter_join(x, y, by = \"key\"): keep all observations in x and y, match keys where possible, NA otherwise\n\nUsually, left_join() will suffice."
  },
  {
    "objectID": "slides/10_data-management.html#example-band-members",
    "href": "slides/10_data-management.html#example-band-members",
    "title": "MATH167R: Merging Data",
    "section": "Example: Band members",
    "text": "Example: Band members\n\nlibrary(tidyverse)\nband_members\n\n# A tibble: 3 × 2\n  name  band   \n  &lt;chr&gt; &lt;chr&gt;  \n1 Mick  Stones \n2 John  Beatles\n3 Paul  Beatles\n\nband_instruments\n\n# A tibble: 3 × 2\n  name  plays \n  &lt;chr&gt; &lt;chr&gt; \n1 John  guitar\n2 Paul  bass  \n3 Keith guitar"
  },
  {
    "objectID": "slides/10_data-management.html#example-band-members-1",
    "href": "slides/10_data-management.html#example-band-members-1",
    "title": "MATH167R: Merging Data",
    "section": "Example: Band members",
    "text": "Example: Band members\n\nband_members |&gt; inner_join(band_instruments)\n\n# A tibble: 2 × 3\n  name  band    plays \n  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; \n1 John  Beatles guitar\n2 Paul  Beatles bass  \n\nband_members |&gt; left_join(band_instruments)\n\n# A tibble: 3 × 3\n  name  band    plays \n  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; \n1 Mick  Stones  &lt;NA&gt;  \n2 John  Beatles guitar\n3 Paul  Beatles bass"
  },
  {
    "objectID": "slides/10_data-management.html#example-band-members-2",
    "href": "slides/10_data-management.html#example-band-members-2",
    "title": "MATH167R: Merging Data",
    "section": "Example: Band members",
    "text": "Example: Band members\n\nband_members |&gt; right_join(band_instruments)\n\n# A tibble: 3 × 3\n  name  band    plays \n  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; \n1 John  Beatles guitar\n2 Paul  Beatles bass  \n3 Keith &lt;NA&gt;    guitar\n\nband_members |&gt; full_join(band_instruments)\n\n# A tibble: 4 × 3\n  name  band    plays \n  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; \n1 Mick  Stones  &lt;NA&gt;  \n2 John  Beatles guitar\n3 Paul  Beatles bass  \n4 Keith &lt;NA&gt;    guitar"
  },
  {
    "objectID": "slides/10_data-management.html#example-band-members-3",
    "href": "slides/10_data-management.html#example-band-members-3",
    "title": "MATH167R: Merging Data",
    "section": "Example: Band members",
    "text": "Example: Band members\n\n# To suppress the message about joining variables, supply `by`\nband_members |&gt; inner_join(band_instruments, by = join_by(name))\n\n# A tibble: 2 × 3\n  name  band    plays \n  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; \n1 John  Beatles guitar\n2 Paul  Beatles bass"
  },
  {
    "objectID": "slides/10_data-management.html#inner-join-vs.-outer-join",
    "href": "slides/10_data-management.html#inner-join-vs.-outer-join",
    "title": "MATH167R: Merging Data",
    "section": "Inner join vs. outer join",
    "text": "Inner join vs. outer join\n\n\nImages courtesy of Hadley Wickham. (Link)"
  },
  {
    "objectID": "slides/10_data-management.html#base-r",
    "href": "slides/10_data-management.html#base-r",
    "title": "MATH167R: Merging Data",
    "section": "Base R",
    "text": "Base R\n\n# inner join\nmerge(band_members, band_instruments, by.x = \"name\", by.y = \"name\")\n\n  name    band  plays\n1 John Beatles guitar\n2 Paul Beatles   bass\n\n# outer join\nmerge(band_members, band_instruments, by.x = \"name\", by.y = \"name\", all = T)\n\n   name    band  plays\n1  John Beatles guitar\n2 Keith    &lt;NA&gt; guitar\n3  Mick  Stones   &lt;NA&gt;\n4  Paul Beatles   bass"
  },
  {
    "objectID": "slides/10_data-management.html#base-r-1",
    "href": "slides/10_data-management.html#base-r-1",
    "title": "MATH167R: Merging Data",
    "section": "Base R",
    "text": "Base R\n\n# left join\nmerge(band_members, band_instruments, by.x = \"name\", by.y = \"name\", all.x = T)\n\n  name    band  plays\n1 John Beatles guitar\n2 Mick  Stones   &lt;NA&gt;\n3 Paul Beatles   bass\n\n# right join\nmerge(band_members, band_instruments, by.x = \"name\", by.y = \"name\", all.y = T)\n\n   name    band  plays\n1  John Beatles guitar\n2 Keith    &lt;NA&gt; guitar\n3  Paul Beatles   bass"
  },
  {
    "objectID": "slides/10_data-management.html#exercise-flights-data",
    "href": "slides/10_data-management.html#exercise-flights-data",
    "title": "MATH167R: Merging Data",
    "section": "Exercise: Flights data",
    "text": "Exercise: Flights data\nHow can we combine the flights and airlines data?\n\n\nflights |&gt;\n  left_join(airlines, by = \"carrier\") |&gt;\n  head()\n\n\n\n\n\n\n\nyear\nmonth\nday\ndep_time\nsched_dep_time\ndep_delay\narr_time\nsched_arr_time\narr_delay\ncarrier\nflight\ntailnum\norigin\ndest\nair_time\ndistance\nhour\nminute\ntime_hour\nname\n\n\n\n\n2013\n1\n1\n517\n515\n2\n830\n819\n11\nUA\n1545\nN14228\nEWR\nIAH\n227\n1400\n5\n15\n2013-01-01 05:00:00\nUnited Air Lines Inc.\n\n\n2013\n1\n1\n533\n529\n4\n850\n830\n20\nUA\n1714\nN24211\nLGA\nIAH\n227\n1416\n5\n29\n2013-01-01 05:00:00\nUnited Air Lines Inc.\n\n\n2013\n1\n1\n542\n540\n2\n923\n850\n33\nAA\n1141\nN619AA\nJFK\nMIA\n160\n1089\n5\n40\n2013-01-01 05:00:00\nAmerican Airlines Inc.\n\n\n2013\n1\n1\n544\n545\n-1\n1004\n1022\n-18\nB6\n725\nN804JB\nJFK\nBQN\n183\n1576\n5\n45\n2013-01-01 05:00:00\nJetBlue Airways\n\n\n2013\n1\n1\n554\n600\n-6\n812\n837\n-25\nDL\n461\nN668DN\nLGA\nATL\n116\n762\n6\n0\n2013-01-01 06:00:00\nDelta Air Lines Inc.\n\n\n2013\n1\n1\n554\n558\n-4\n740\n728\n12\nUA\n1696\nN39463\nEWR\nORD\n150\n719\n5\n58\n2013-01-01 05:00:00\nUnited Air Lines Inc."
  },
  {
    "objectID": "slides/10_data-management.html#exercise-flights-data-1",
    "href": "slides/10_data-management.html#exercise-flights-data-1",
    "title": "MATH167R: Merging Data",
    "section": "Exercise: Flights data",
    "text": "Exercise: Flights data\nUse the flights and weather datasets from the nycflights13 package to create a scatter plot with wind_speed on the x-axis and dep_delay on the y-axis for January flights from Newark.\n\ndata(flights)\ndata(weather)"
  },
  {
    "objectID": "slides/10_data-management.html#exercise-flights-data-2",
    "href": "slides/10_data-management.html#exercise-flights-data-2",
    "title": "MATH167R: Merging Data",
    "section": "Exercise: Flights data",
    "text": "Exercise: Flights data"
  },
  {
    "objectID": "slides/10_data-management.html#example-california-data",
    "href": "slides/10_data-management.html#example-california-data",
    "title": "MATH167R: Merging Data",
    "section": "Example: California data",
    "text": "Example: California data\nThe tidycensus package provides easy access to Census data via R. In order to download data using tidycensus, you will need a Census API Key.\nFor now, you can think of an API key as an ID card you use to download data from the Census."
  },
  {
    "objectID": "slides/10_data-management.html#example-california-data-1",
    "href": "slides/10_data-management.html#example-california-data-1",
    "title": "MATH167R: Merging Data",
    "section": "Example: California data",
    "text": "Example: California data\n\nlibrary(tidycensus)\n# the following command can be used to save your API key on your computer\n# census_api_key(\"YOUR_KEY_HERE\", overwrite = FALSE, install = FALSE)\n\n# the following code loads my local Census API Key, which is used to access \n# census data\nSys.getenv(\"CENSUS_API_KEY\")\n\n# 2021 median income by county\nincome_2021 &lt;- get_acs(geography = \"county\", \n                       variables = c(medincome = \"B19013_001\"), \n                       state = \"CA\", \n                       year = 2021)\n\n# 2010 median income by county\nincome_2010 &lt;- get_acs(geography = \"county\", \n                       variables = c(medincome = \"B19013_001\"), \n                       state = \"CA\", \n                       year = 2010)"
  },
  {
    "objectID": "slides/10_data-management.html#example-california-data-2",
    "href": "slides/10_data-management.html#example-california-data-2",
    "title": "MATH167R: Merging Data",
    "section": "Example: California data",
    "text": "Example: California data\n\nhead(income_2021)\n\nFALSE # A tibble: 6 × 5\nFALSE   GEOID NAME                         variable  estimate   moe\nFALSE   &lt;chr&gt; &lt;chr&gt;                        &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt;\nFALSE 1 06001 Alameda County, California   medincome   112017  1043\nFALSE 2 06003 Alpine County, California    medincome    96000 24486\nFALSE 3 06005 Amador County, California    medincome    69955  5482\nFALSE 4 06007 Butte County, California     medincome    59863  1989\nFALSE 5 06009 Calaveras County, California medincome    70119  6448\nFALSE 6 06011 Colusa County, California    medincome    61861  6540"
  },
  {
    "objectID": "slides/10_data-management.html#example-california-data-3",
    "href": "slides/10_data-management.html#example-california-data-3",
    "title": "MATH167R: Merging Data",
    "section": "Example: California data",
    "text": "Example: California data\n\nincome_2021 &lt;- income_2021 |&gt;\n  pivot_wider(\n    names_from = variable,\n    values_from = c(estimate, moe)\n  ) |&gt;\n  select(-moe_medincome) |&gt;\n  rename(medincome_2021 = estimate_medincome)\nhead(income_2021)\n\n# A tibble: 6 × 3\n  GEOID NAME                         medincome_2021\n  &lt;chr&gt; &lt;chr&gt;                                 &lt;dbl&gt;\n1 06001 Alameda County, California           112017\n2 06003 Alpine County, California             96000\n3 06005 Amador County, California             69955\n4 06007 Butte County, California              59863\n5 06009 Calaveras County, California          70119\n6 06011 Colusa County, California             61861"
  },
  {
    "objectID": "slides/10_data-management.html#example-california-data-4",
    "href": "slides/10_data-management.html#example-california-data-4",
    "title": "MATH167R: Merging Data",
    "section": "Example: California data",
    "text": "Example: California data\n\n# repeat for 2010 data\nincome_2010 &lt;- income_2010 |&gt;\n  pivot_wider(\n    names_from = variable,\n    values_from = c(estimate, moe)\n  ) |&gt;\n  select(-moe_medincome) |&gt;\n  rename(medincome_2010 = estimate_medincome)"
  },
  {
    "objectID": "slides/10_data-management.html#example-california-data-5",
    "href": "slides/10_data-management.html#example-california-data-5",
    "title": "MATH167R: Merging Data",
    "section": "Example: California data",
    "text": "Example: California data\n\nincome_combined &lt;- income_2010 |&gt;\n  left_join(income_2021, by = c(\"GEOID\", \"NAME\"))\nggplot(income_combined, aes(x = medincome_2010, y = medincome_2021)) +\n  geom_point() + \n  geom_abline(slope = 1) + \n  labs(title = \"Median income in 2021 vs. 2010, CA Counties\",\n       subtitle = \"American Community Survey\",\n       y = \"2021 Median Income\",\n       x = \"2010 Median Income\")"
  },
  {
    "objectID": "slides/10_data-management.html#example-california-data-6",
    "href": "slides/10_data-management.html#example-california-data-6",
    "title": "MATH167R: Merging Data",
    "section": "Example: California data",
    "text": "Example: California data"
  },
  {
    "objectID": "slides/10_data-management.html#data-manipulation-cheatsheet",
    "href": "slides/10_data-management.html#data-manipulation-cheatsheet",
    "title": "MATH167R: Merging Data",
    "section": "Data manipulation cheatsheet",
    "text": "Data manipulation cheatsheet\n\nfilter() subset rows\nselect() subset columns, use with contains(), starts_with(), ends_with(), …\nmutate() create columns\ngroup_by(), summarize(), count() group and summarize groups\nrename() rename columns\npivot_longer(), pivot_wider() reshape data\ninner_join(), left_join(), right_join(), outer_join() combine data (like SQL)\n\nMuch, much more! (Click me for a cheat sheet)"
  },
  {
    "objectID": "slides/10_data-management.html#exploratory-data-analysis",
    "href": "slides/10_data-management.html#exploratory-data-analysis",
    "title": "MATH167R: Merging Data",
    "section": "Exploratory data analysis",
    "text": "Exploratory data analysis\nExploratory data analysis is the process of learning about a dataset by visualizing, summarizing, and transforming it.\nBy now we’ve seen most of the skills you need to carry out exploratory data analysis (EDA). As Wickham, Çetinkaya-Rundel, and Grolemund put it, the cycle of EDA looks something like this:\n\nGenerate questions about your data.\nExplore your questions by visualizing, transforming, and modelling your data.\nUse your findings to refine your questions and generate new questions.\n\nYou can read their walkthrough of the EDA process here."
  },
  {
    "objectID": "slides/10_data-management.html#downloading-data",
    "href": "slides/10_data-management.html#downloading-data",
    "title": "MATH167R: Merging Data",
    "section": "Downloading data",
    "text": "Downloading data\nUp until now, we’ve mostly been working with small datasets and I have given you code to download this data from the internet:\n\neggproduction  &lt;- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-04-11/egg-production.csv')\n\nIf you put this line of code in a chunk in your .Rmd file, each time you knit/render, you will have to download this data.\nSo, if you do not have access to the internet, you will be unable to knit to html."
  },
  {
    "objectID": "slides/10_data-management.html#saving-data-locally",
    "href": "slides/10_data-management.html#saving-data-locally",
    "title": "MATH167R: Merging Data",
    "section": "Saving data locally",
    "text": "Saving data locally\nYou can instead download the data to a local folder or use the following code to save it locally:\n\nreadr::write_csv(eggproduction, \"~/Documents/MATH167R/data/egg-production.csv\")\n\nYou can subsequently load it locally (no internet needed):\n\neggproduction &lt;- readr::read_csv(\"~/Documents/MATH167R/data/egg-production.csv\")"
  },
  {
    "objectID": "slides/10_data-management.html#saving-data-locally-1",
    "href": "slides/10_data-management.html#saving-data-locally-1",
    "title": "MATH167R: Merging Data",
    "section": "Saving data locally",
    "text": "Saving data locally\nAny R object can be saved as a .rds file (including plots or output).\n\nlibrary(tidyverse)\nstate_population &lt;- readr::read_csv(\"https://www2.census.gov/programs-surveys/popest/datasets/2010-2020/national/totals/nst-est2020.csv\")\nUS_pop_tidy &lt;- state_population |&gt;\n  filter(SUMLEV == \"010\") |&gt; \n  select(-POPESTIMATE042020) |&gt;\n  pivot_longer(contains(\"POPESTIMATE\"), \n               names_to = \"Year\",\n               values_to = \"Population\") |&gt;\n  mutate(Year = as.numeric(stringr::str_sub(Year, start = 12)))\nsaveRDS(US_pop_tidy, \"~/Documents/MATH167R/data/US_pop_tidy.rds\")\n\nYou can subsequently load it locally using readRDS() (no internet needed):\n\nUS_pop_tidy &lt;- readRDS(\"~/Documents/MATH167R/data/US_pop_tidy.rds\")"
  },
  {
    "objectID": "slides/10_data-management.html#saving-plots-locally",
    "href": "slides/10_data-management.html#saving-plots-locally",
    "title": "MATH167R: Merging Data",
    "section": "Saving plots locally",
    "text": "Saving plots locally\n\nUS_pop_plot &lt;- US_pop_tidy |&gt;\n  ggplot(aes(x = Year, y = Population)) + \n  geom_line()\nsaveRDS(US_pop_plot, \"~/Documents/MATH167R/data/US_pop_plot.rds\")\n\n\nUS_pop_plot &lt;- readRDS(\"~/Documents/MATH167R/data/US_pop_plot.rds\")\nprint(US_pop_plot)"
  },
  {
    "objectID": "slides/10_data-management.html#saving-multiple-objects",
    "href": "slides/10_data-management.html#saving-multiple-objects",
    "title": "MATH167R: Merging Data",
    "section": "Saving multiple objects",
    "text": "Saving multiple objects\nUsing the save() function, you can save multiple objects as a .RData file:\n\nsave(US_pop_plot, US_pop_tidy, file = \"~/Documents/MATH167R/data/US_pop_combined.RData\")\n\nLoad these objects using a load() call:\n\nload(\"~/Documents/MATH167R/data/US_pop_combined.RData\")\nprint(US_pop_plot)"
  },
  {
    "objectID": "slides/10_data-management.html#saving-plots-locally-1",
    "href": "slides/10_data-management.html#saving-plots-locally-1",
    "title": "MATH167R: Merging Data",
    "section": "Saving plots locally",
    "text": "Saving plots locally\nWe can save plots to .pdf files using a call to pdf() before the plot code and then dev.off() afterwards.\n\npdf(file = \"~/Documents/MATH167R/results/US_pop_plot.pdf\",\n    width = 8, height = 6) # dimensions in inches\nUS_pop_plot &lt;- US_pop_tidy |&gt;\n  ggplot(aes(x = Year, y = Population)) + \n  geom_line() + \n  ggtitle(\"US Population, 2010-2020\")\nprint(US_pop_plot)\ndev.off()\n\nquartz_off_screen \n                2"
  },
  {
    "objectID": "slides/10_data-management.html#generating-clean-tables-using-kable",
    "href": "slides/10_data-management.html#generating-clean-tables-using-kable",
    "title": "MATH167R: Merging Data",
    "section": "Generating clean tables using kable()",
    "text": "Generating clean tables using kable()\nThe kable() function from the knitr package can be sued to generate clean tables for publication. The kableExtra package contains many extra functions for formatting tables.\n\nstate_population &lt;- readr::read_csv(\"https://www2.census.gov/programs-surveys/popest/datasets/2010-2020/national/totals/nst-est2020.csv\")\n\n# code to print the data\nlibrary(knitr)\nkable(state_population, digits = 3, row.names = F) |&gt;\n  kableExtra::kable_styling(\"striped\", full_width = T) |&gt; \n  kableExtra::scroll_box(height = \"560px\")"
  },
  {
    "objectID": "slides/10_data-management.html#caching-code-chunks",
    "href": "slides/10_data-management.html#caching-code-chunks",
    "title": "MATH167R: Merging Data",
    "section": "Caching code chunks",
    "text": "Caching code chunks\nYou can name your chunks and use the code chunk cache = T to save the output of a code chunk so you don’t have to wait for the code to run every time you knit.\n\n```{r pop_plot, cache = T, fig.alt=\"Line graph showing US population growth from 2010 to 2020 with a continuous upward trend.\"}\nUS_pop_plot &lt;- US_pop_tidy |&gt;\n  ggplot(aes(x = Year, y = Population)) + \n  geom_line() + \n  ggtitle(\"US Population, 2010-2020\")\nprint(US_pop_plot)\n```"
  },
  {
    "objectID": "slides/10_data-management.html#caching-code-chunks-1",
    "href": "slides/10_data-management.html#caching-code-chunks-1",
    "title": "MATH167R: Merging Data",
    "section": "Caching code chunks",
    "text": "Caching code chunks\nHowever, that means plots/output will not automatically update if you change the “upstream” data processing pipeline. You must change the cached chunk or delete the cache to rerun the code.\nBefore you turn in your assignments, you should clear all the cached files and knit from scratch to make sure no errors have been introduced."
  },
  {
    "objectID": "slides/10_data-management.html#lab-time",
    "href": "slides/10_data-management.html#lab-time",
    "title": "MATH167R: Merging Data",
    "section": "Lab Time",
    "text": "Lab Time\nThe rest of class is devoted to working in groups on your lab assignment."
  },
  {
    "objectID": "slides/13_functions-loops.html#overview-of-today",
    "href": "slides/13_functions-loops.html#overview-of-today",
    "title": "MATH167R: Functions and Loops",
    "section": "Overview of today",
    "text": "Overview of today\n\nWriting R functions\nLoops\nVectorization\nRecursion"
  },
  {
    "objectID": "slides/13_functions-loops.html#anatomy-of-a-function",
    "href": "slides/13_functions-loops.html#anatomy-of-a-function",
    "title": "MATH167R: Functions and Loops",
    "section": "Anatomy of a function",
    "text": "Anatomy of a function\nRecall the structure of a function:\n\nfunction_name &lt;- function(param1, param2 = \"default\") {\n  # body of the function\n  return(output)\n}\n\n\nfunction_name: the name you want to give your function, what you will use to call it\nfunction(): call this to define a function\nparam1, param2: formal arguments input by the user. You can assign default values by setting them equal to something in the call to function()\nbody: the actual code that is executed\nreturn(): the output value returned to the user"
  },
  {
    "objectID": "slides/13_functions-loops.html#exercise-degrees-to-radians",
    "href": "slides/13_functions-loops.html#exercise-degrees-to-radians",
    "title": "MATH167R: Functions and Loops",
    "section": "Exercise: degrees to radians",
    "text": "Exercise: degrees to radians\nWrite a function degreesToRadians that takes as input one number, degrees, and returns its value in radians. You do not need to check the data type of the input."
  },
  {
    "objectID": "slides/13_functions-loops.html#exercise-degrees-to-radians-1",
    "href": "slides/13_functions-loops.html#exercise-degrees-to-radians-1",
    "title": "MATH167R: Functions and Loops",
    "section": "Exercise: degrees to radians",
    "text": "Exercise: degrees to radians\n\ndegreesToRadians &lt;- function(degrees) {\n  return((degrees / 360) * 2 * pi)\n}\ndegreesToRadians(180)\n\n[1] 3.141593"
  },
  {
    "objectID": "slides/13_functions-loops.html#additional-notes-on-functions",
    "href": "slides/13_functions-loops.html#additional-notes-on-functions",
    "title": "MATH167R: Functions and Loops",
    "section": "Additional notes on functions",
    "text": "Additional notes on functions\n\nHow do I know if a function is working?\n\nTest it on easy examples for which you know the results\nWhen using if, test all the possible cases"
  },
  {
    "objectID": "slides/13_functions-loops.html#loops",
    "href": "slides/13_functions-loops.html#loops",
    "title": "MATH167R: Functions and Loops",
    "section": "Loops",
    "text": "Loops\nLoops enable us to repeat a line/lines of code many times.\nR provides three types of explicit loops: for, while, and repeat. We will focus on for and while."
  },
  {
    "objectID": "slides/13_functions-loops.html#for-loops",
    "href": "slides/13_functions-loops.html#for-loops",
    "title": "MATH167R: Functions and Loops",
    "section": "for loops",
    "text": "for loops\nfor loops repeat a chunk of code for each value of a vector.\n\nfor (name in vector) {body}\n\n\n\nfor (i in 1:8) {\n  print(i)\n}\n\n\n\n\n\n[1] 1\n[1] 2\n[1] 3\n[1] 4\n[1] 5\n[1] 6\n[1] 7\n[1] 8"
  },
  {
    "objectID": "slides/13_functions-loops.html#example-vector-sum",
    "href": "slides/13_functions-loops.html#example-vector-sum",
    "title": "MATH167R: Functions and Loops",
    "section": "Example: Vector sum",
    "text": "Example: Vector sum\n\nx &lt;- c(1:10)\nsum(x)\n\n[1] 55\n\ntotal_sum &lt;- 0\nfor (i in x) {\n  total_sum &lt;- total_sum + i\n}\nprint(total_sum)\n\n[1] 55"
  },
  {
    "objectID": "slides/13_functions-loops.html#example-fibonacci-sequence",
    "href": "slides/13_functions-loops.html#example-fibonacci-sequence",
    "title": "MATH167R: Functions and Loops",
    "section": "Example: Fibonacci sequence",
    "text": "Example: Fibonacci sequence\n\n# code to compute the first 10 Fibonacci numbers\nfib_10 &lt;- numeric(10) # empty numeric vector of length 10\nfib_10[1] &lt;- 1\nfib_10[2] &lt;- 1\nfor (i in 3:10) {\n  fib_10[i] &lt;- fib_10[i - 1] + fib_10[i - 2]\n}\nfib_10\n\n [1]  1  1  2  3  5  8 13 21 34 55"
  },
  {
    "objectID": "slides/13_functions-loops.html#while-loops",
    "href": "slides/13_functions-loops.html#while-loops",
    "title": "MATH167R: Functions and Loops",
    "section": "while loops",
    "text": "while loops\nwhile loops continuously evaluate the inner code chunk until the condition is FALSE.\nBe careful here: It is possible to get stuck in an infinite loop!\n\nx &lt;- 0\nwhile (x &lt; 5) {\n  cat(\"x is currently\", x, \". Let's increase it by 1.\")\n  x &lt;- x + 1\n}\n\nx is currently 0 . Let's increase it by 1.x is currently 1 . Let's increase it by 1.x is currently 2 . Let's increase it by 1.x is currently 3 . Let's increase it by 1.x is currently 4 . Let's increase it by 1."
  },
  {
    "objectID": "slides/13_functions-loops.html#while-loops-1",
    "href": "slides/13_functions-loops.html#while-loops-1",
    "title": "MATH167R: Functions and Loops",
    "section": "while loops",
    "text": "while loops\nLet’s see if we can clean up that output. Add \"\\n\" to a string to force a line break.\n\nx &lt;- 0\nwhile (x &lt; 5) {\n  cat(\"x is currently \", x, \". Let's increase it by 1! \\n\", sep = \"\")\n  x &lt;- x + 1\n}\n\nx is currently 0. Let's increase it by 1! \nx is currently 1. Let's increase it by 1! \nx is currently 2. Let's increase it by 1! \nx is currently 3. Let's increase it by 1! \nx is currently 4. Let's increase it by 1!"
  },
  {
    "objectID": "slides/13_functions-loops.html#example-string-input",
    "href": "slides/13_functions-loops.html#example-string-input",
    "title": "MATH167R: Functions and Loops",
    "section": "Example: String input",
    "text": "Example: String input\n\nstring_vector &lt;- c(\"a\", \"b\", \"c\", \"d\", \"e\")\nfor (mystring in string_vector) {\n  print(mystring)\n}\n\n[1] \"a\"\n[1] \"b\"\n[1] \"c\"\n[1] \"d\"\n[1] \"e\""
  },
  {
    "objectID": "slides/13_functions-loops.html#nested-loops",
    "href": "slides/13_functions-loops.html#nested-loops",
    "title": "MATH167R: Functions and Loops",
    "section": "Nested Loops",
    "text": "Nested Loops\nIn nested loops, the innermost loop iterates most quickly.\n\ncounter &lt;- 0\nfor (i in 1:3) {\n  for (j in 1:2) {\n    counter &lt;- counter + 1\n    cat(\"i = \", i, \", j = \", j, \", counter = \", counter, \"\\n\", sep = \"\")\n  }\n}\n\ni = 1, j = 1, counter = 1\ni = 1, j = 2, counter = 2\ni = 2, j = 1, counter = 3\ni = 2, j = 2, counter = 4\ni = 3, j = 1, counter = 5\ni = 3, j = 2, counter = 6"
  },
  {
    "objectID": "slides/13_functions-loops.html#nested-loops-1",
    "href": "slides/13_functions-loops.html#nested-loops-1",
    "title": "MATH167R: Functions and Loops",
    "section": "Nested Loops",
    "text": "Nested Loops\n\nfor (i in 1:3) {\n  for (j in 1:2) {\n    print(i * j)\n  }\n}\n\n[1] 1\n[1] 2\n[1] 2\n[1] 4\n[1] 3\n[1] 6"
  },
  {
    "objectID": "slides/13_functions-loops.html#filling-in-a-vector",
    "href": "slides/13_functions-loops.html#filling-in-a-vector",
    "title": "MATH167R: Functions and Loops",
    "section": "Filling in a vector",
    "text": "Filling in a vector\nNote: Usually, this is an inefficient way to do this. We will see a faster way to work with vectors next class.\n\n# Inefficient\nx &lt;- rep(NA, 5)\nfor (i in 1:5) {\n  x[i] &lt;- i * 2\n}\nx\n\n[1]  2  4  6  8 10\n\n# Much better\nx &lt;- seq(2, 10, by = 2)\nx\n\n[1]  2  4  6  8 10"
  },
  {
    "objectID": "slides/13_functions-loops.html#filling-in-a-vector-1",
    "href": "slides/13_functions-loops.html#filling-in-a-vector-1",
    "title": "MATH167R: Functions and Loops",
    "section": "Filling in a vector",
    "text": "Filling in a vector\n\nlibrary(stringr)\nx &lt;- rep(NA, 5)\nmy_strings &lt;- c(\"a\", \"a \", \"a c\", \"a ca\", \"a cat\")\nfor (i in 1:5) {\n  x[i] &lt;- str_length(my_strings[i])\n  print(x)\n}\n\n[1]  1 NA NA NA NA\n[1]  1  2 NA NA NA\n[1]  1  2  3 NA NA\n[1]  1  2  3  4 NA\n[1] 1 2 3 4 5"
  },
  {
    "objectID": "slides/13_functions-loops.html#filling-in-a-matrix",
    "href": "slides/13_functions-loops.html#filling-in-a-matrix",
    "title": "MATH167R: Functions and Loops",
    "section": "Filling in a matrix",
    "text": "Filling in a matrix\nNote: Usually, this is an inefficient way to do this. We will see a faster way to work with vectors next class.\n\nx &lt;- matrix(NA, nrow = 4, ncol = 3)\nfor (i in 1:4) {\n  for (j in 1:3) {\n    x[i, j] &lt;- i * j\n  }\n}\nx\n\n     [,1] [,2] [,3]\n[1,]    1    2    3\n[2,]    2    4    6\n[3,]    3    6    9\n[4,]    4    8   12"
  },
  {
    "objectID": "slides/13_functions-loops.html#continue-until-positive-sample",
    "href": "slides/13_functions-loops.html#continue-until-positive-sample",
    "title": "MATH167R: Functions and Loops",
    "section": "Continue until positive sample",
    "text": "Continue until positive sample\n\nset.seed(3)\nx &lt;- -1\nwhile (x &lt; 0) {\n  x &lt;- rnorm(1)\n  print(x)\n}\n\n[1] -0.9619334\n[1] -0.2925257\n[1] 0.2587882\n\nx\n\n[1] 0.2587882"
  },
  {
    "objectID": "slides/13_functions-loops.html#combining-loops-and-conditional-evaluation",
    "href": "slides/13_functions-loops.html#combining-loops-and-conditional-evaluation",
    "title": "MATH167R: Functions and Loops",
    "section": "Combining Loops and Conditional Evaluation",
    "text": "Combining Loops and Conditional Evaluation\nConsider the following code. What do you think it does?\n\nfor (i in 1:10) {\n  if (i %% 2 == 1) {\n    print(\"odd\")\n  } else {\n    print(\"even\")\n  }\n}\n\n\n\n\n[1] \"odd\"\n[1] \"even\"\n[1] \"odd\"\n[1] \"even\"\n[1] \"odd\"\n[1] \"even\"\n[1] \"odd\"\n[1] \"even\"\n[1] \"odd\"\n[1] \"even\""
  },
  {
    "objectID": "slides/13_functions-loops.html#fizz-buzz",
    "href": "slides/13_functions-loops.html#fizz-buzz",
    "title": "MATH167R: Functions and Loops",
    "section": "Fizz Buzz",
    "text": "Fizz Buzz\n\nEveryone takes turns to count incrementally.\nAny number divisible by three is replaced with the word “fizz.”\nAny number divisible by five is replaced with the word “buzz.”\nAny number divisible by both three and five is replaced with the word “fizzbuzz.”\n\nCan we write code for a computer to play fizz buzz with itself? Suppose we want the computer to play Fizz Buzz up to 100."
  },
  {
    "objectID": "slides/13_functions-loops.html#fizz-buzz-1",
    "href": "slides/13_functions-loops.html#fizz-buzz-1",
    "title": "MATH167R: Functions and Loops",
    "section": "Fizz Buzz",
    "text": "Fizz Buzz\n\nfor (i in 1:100) {\n  if (i %% 3 == 0 & i %% 5 == 0) {\n    print(\"fizzbuzz\")\n  } else if (i %% 3 == 0) {\n    print(\"fizz\")\n  } else if (i %% 5 == 0) {\n    print(\"buzz\")\n  } else {\n    print(i)\n  }\n}\n\n\n\n\n[1] 1\n[1] 2\n[1] \"fizz\"\n[1] 4\n[1] \"buzz\"\n[1] \"fizz\"\n[1] 7\n[1] 8\n[1] \"fizz\"\n[1] \"buzz\"\n[1] 11\n[1] \"fizz\"\n[1] 13\n[1] 14\n[1] \"fizzbuzz\"\n[1] 16\n[1] 17\n[1] \"fizz\"\n[1] 19\n[1] \"buzz\"\n[1] \"fizz\"\n[1] 22\n[1] 23\n[1] \"fizz\"\n[1] \"buzz\"\n[1] 26\n[1] \"fizz\"\n[1] 28\n[1] 29\n[1] \"fizzbuzz\"\n[1] 31\n[1] 32\n[1] \"fizz\"\n[1] 34\n[1] \"buzz\"\n[1] \"fizz\"\n[1] 37\n[1] 38\n[1] \"fizz\"\n[1] \"buzz\"\n[1] 41\n[1] \"fizz\"\n[1] 43\n[1] 44\n[1] \"fizzbuzz\"\n[1] 46\n[1] 47\n[1] \"fizz\"\n[1] 49\n[1] \"buzz\"\n[1] \"fizz\"\n[1] 52\n[1] 53\n[1] \"fizz\"\n[1] \"buzz\"\n[1] 56\n[1] \"fizz\"\n[1] 58\n[1] 59\n[1] \"fizzbuzz\"\n[1] 61\n[1] 62\n[1] \"fizz\"\n[1] 64\n[1] \"buzz\"\n[1] \"fizz\"\n[1] 67\n[1] 68\n[1] \"fizz\"\n[1] \"buzz\"\n[1] 71\n[1] \"fizz\"\n[1] 73\n[1] 74\n[1] \"fizzbuzz\"\n[1] 76\n[1] 77\n[1] \"fizz\"\n[1] 79\n[1] \"buzz\"\n[1] \"fizz\"\n[1] 82\n[1] 83\n[1] \"fizz\"\n[1] \"buzz\"\n[1] 86\n[1] \"fizz\"\n[1] 88\n[1] 89\n[1] \"fizzbuzz\"\n[1] 91\n[1] 92\n[1] \"fizz\"\n[1] 94\n[1] \"buzz\"\n[1] \"fizz\"\n[1] 97\n[1] 98\n[1] \"fizz\"\n[1] \"buzz\""
  },
  {
    "objectID": "slides/13_functions-loops.html#coding-challenges",
    "href": "slides/13_functions-loops.html#coding-challenges",
    "title": "MATH167R: Functions and Loops",
    "section": "Coding challenges",
    "text": "Coding challenges\n\nProject Euler\nHackerRank\nLeetCode (doesn’t support R)"
  },
  {
    "objectID": "slides/13_functions-loops.html#vectorization",
    "href": "slides/13_functions-loops.html#vectorization",
    "title": "MATH167R: Functions and Loops",
    "section": "Vectorization",
    "text": "Vectorization\nLast class, we saw how to use for and while loops to repeat tasks. However, often in R, functions or operations are vectorized, meaning they automatically act on every entry in a vector.\n\nx &lt;- 1:4\nx * 2\n\n[1] 2 4 6 8"
  },
  {
    "objectID": "slides/13_functions-loops.html#vectorization-1",
    "href": "slides/13_functions-loops.html#vectorization-1",
    "title": "MATH167R: Functions and Loops",
    "section": "Vectorization",
    "text": "Vectorization\n\nx &lt;- 1:4\nx &lt; 2\n\n[1]  TRUE FALSE FALSE FALSE\n\n\n\nx &lt;- 1:4\ny &lt;- 4:1\nx + y\n\n[1] 5 5 5 5"
  },
  {
    "objectID": "slides/13_functions-loops.html#vectorization-with-data",
    "href": "slides/13_functions-loops.html#vectorization-with-data",
    "title": "MATH167R: Functions and Loops",
    "section": "Vectorization with data",
    "text": "Vectorization with data\nWe often rely on vectorization when working with columns of a data frame.\n\nlibrary(palmerpenguins)\nlibrary(tidyverse)\ndata(penguins)\npenguins &lt;- penguins |&gt;\n  mutate(bill_len_dep_ratio = bill_length_mm / bill_depth_mm)\npenguins$bill_len_dep_ratio\n\n  [1] 2.090909 2.270115 2.238889       NA 1.901554 1.907767 2.185393 2.000000\n  [9] 1.883978 2.079208 2.210526 2.184971 2.335227 1.820755 1.639810 2.056180\n [17] 2.036842 2.053140 1.869565 2.139535 2.065574 2.016043 1.869792 2.110497\n [25] 2.255814 1.867725 2.182796 2.262570 2.037634 2.142857 2.365269 2.055249\n [33] 2.219101 2.164021 2.141176 1.857820 1.940000 2.281081 1.948187 2.083770\n [41] 2.027778 2.217391 1.945946 2.238579 2.189349 2.106383 2.163158 1.984127\n [49] 2.011173 1.995283 2.237288 2.121693 1.955307 2.153846 1.906077 2.225806\n [57] 2.228571 2.159574 2.198795 1.968586 2.112426 1.957346 2.211765 2.258242\n [65] 2.128655 2.311111 2.191358 2.151832 2.162651 2.154639 1.763158 2.157609\n [73] 2.302326 2.423280 2.028571 2.313514 2.434524 1.917526 2.248447 2.204188\n [81] 2.011628 2.437500 1.952128 1.809278 2.095506 2.034483 1.861538 1.983871\n [89] 1.994792 2.069149 1.983333 2.270718 1.988304 2.187845 2.092486 2.158730\n [97] 2.048387 2.178378 2.055901 2.335135 1.955307 2.050000 2.356250 1.890000\n[105] 2.037634 2.100529 2.244186 1.910000 2.241176 2.273684 2.309091 2.246305\n[113] 2.242938 2.164103 1.913043 2.333333 2.270588 1.819512 2.100000 2.209677\n[121] 2.104651 1.904040 2.364706 2.237838 2.213836 2.136842 2.204545 2.267760\n[129] 2.280702 2.450000 2.150838 2.244792 1.989189 2.027027 2.164773 2.348571\n[137] 2.034286 2.000000 2.242424 2.217877 2.350877 2.360465 2.070968 2.394118\n[145] 2.220238 2.085561 2.107527 1.989130 2.022472 2.088398 2.105263 2.243243\n[153] 3.492424 3.067485 3.453901 3.289474 3.282759 3.444444 3.109589 3.052288\n[161] 3.231343 3.038961 2.985401 3.043478 3.321168 3.315068 3.136986 3.140127\n[169] 3.111111 3.236842 3.186207 3.225166 3.510490 3.110345 3.206897 2.930380\n[177] 3.274809 3.052980 3.111888 3.186667 3.370629 3.267974 3.091503 3.014085\n[185] 3.110345 3.505882 3.317568 2.969325 3.109489 2.566474 3.235294 3.101911\n[193] 3.116788 3.100000 3.306569 3.306667 3.176101 3.136691 3.273381 3.176101\n[201] 3.375940 2.860759 3.281690 3.439716 3.131944 3.340000 3.229167 2.922078\n[209] 3.151079 3.033333 2.979310 3.294118 3.282609 3.100671 3.287770 3.458599\n[217] 3.225352 2.964286 3.208333 3.055556 3.063380 3.380000 3.180000 2.974359\n[225] 3.089744 3.141892 3.093333 3.037500 3.345070 3.134969 3.275362 2.756098\n[233] 3.386207 3.365385 3.246575 3.144654 3.253623 2.936416 3.013889 3.612676\n[241] 3.392857 3.064706 3.166667 3.052632 3.137931 3.074534 3.027211 3.235669\n[249] 3.126582 3.212329 3.361111 3.096970 3.233333 3.288235 3.045161 3.273333\n[257] 3.427536 2.906832 2.836735 3.379747 3.092857 3.185430 3.322368 3.132075\n[265] 2.861842 3.159509 3.276596 3.443750 2.834395 3.012346 3.445255       NA\n[273] 3.272727 3.210191 3.054054 3.099379 2.597765 2.564103 2.671875 2.427807\n[281] 2.661616 2.539326 2.532967 2.818681 2.433862 2.577889 2.617978 2.546798\n[289] 2.716763 2.872928 2.684211 2.576531 2.515000 3.258427 2.494624 2.703297\n[297] 2.450867 2.771429 2.602410 2.608247 2.608939 2.736842 2.744565 2.605263\n[305] 2.606742 2.640000 2.463855 2.605769 2.544910 2.712766 2.672043 2.827381\n[313] 2.601093 2.512077 2.825301 2.688442 2.512821 2.640000 2.664921 2.676471\n[321] 2.843575 2.745946 2.798883 2.500000 2.754011 2.878613 2.932927 2.705263\n[329] 2.641618 2.573604 2.456647 2.776596 2.722892 2.477387 2.670213 2.350515\n[337] 2.661538 2.836364 2.688235 2.818182 2.403315 2.725275 2.673684 2.684492"
  },
  {
    "objectID": "slides/13_functions-loops.html#vectorization-in-functions",
    "href": "slides/13_functions-loops.html#vectorization-in-functions",
    "title": "MATH167R: Functions and Loops",
    "section": "Vectorization in functions",
    "text": "Vectorization in functions\nOften we desire our function to be vectorized: so that it can take in vectors as inputs and perform an operation/task for each entry of the vector(s).\nFor this reason, it is important to begin remembering which functions are vectorized/vectorizable."
  },
  {
    "objectID": "slides/13_functions-loops.html#absolute-error",
    "href": "slides/13_functions-loops.html#absolute-error",
    "title": "MATH167R: Functions and Loops",
    "section": "Absolute error",
    "text": "Absolute error\n\nweather_forecasts &lt;- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-12-20/weather_forecasts.csv')\nweather_forecasts &lt;- weather_forecasts |&gt;\n  mutate(abs_err_temp = abs(observed_temp - forecast_temp))\n\nExercise: Write a function that takes as input two vectors of length \\(n\\), observed and predicted and returns a vector of length \\(n\\) of the absolute errors."
  },
  {
    "objectID": "slides/13_functions-loops.html#absolute-error-1",
    "href": "slides/13_functions-loops.html#absolute-error-1",
    "title": "MATH167R: Functions and Loops",
    "section": "Absolute error",
    "text": "Absolute error\n\nabsolute_error &lt;- function(observed, predicted) {\n  return(abs(observed - predicted))\n}"
  },
  {
    "objectID": "slides/13_functions-loops.html#squared-error",
    "href": "slides/13_functions-loops.html#squared-error",
    "title": "MATH167R: Functions and Loops",
    "section": "Squared error",
    "text": "Squared error\nExercise: Write a function that takes as input two vectors of length \\(n\\), observed and predicted and returns a vector of length \\(n\\) of the squared errors.\n\n\nsquared_error &lt;- function(observed, predicted) {\n  return((observed - predicted)^2)\n}"
  },
  {
    "objectID": "slides/13_functions-loops.html#why-not-vectorize",
    "href": "slides/13_functions-loops.html#why-not-vectorize",
    "title": "MATH167R: Functions and Loops",
    "section": "Why not vectorize?",
    "text": "Why not vectorize?\n\nmodifying in place\nwhile loops\nrecursive functions"
  },
  {
    "objectID": "slides/13_functions-loops.html#modifying-in-place",
    "href": "slides/13_functions-loops.html#modifying-in-place",
    "title": "MATH167R: Functions and Loops",
    "section": "Modifying in place",
    "text": "Modifying in place\nSometimes we wish to change the value of some object iteratively. In such cases, vectorizing code may not be possible.\nWhat do you expect the output of this code to be?\n\nx &lt;- 1:10\nfor (i in 10:1) {\n  x[i] &lt;- sum(x[1:i])\n}\nx\n\n\n\n\n [1]  1  3  6 10 15 21 28 36 45 55\n\n\n\n\nThese are known as the triangular numbers."
  },
  {
    "objectID": "slides/13_functions-loops.html#recursion",
    "href": "slides/13_functions-loops.html#recursion",
    "title": "MATH167R: Functions and Loops",
    "section": "Recursion",
    "text": "Recursion\nRecursion is a method for solving a problem where the solution can be divided into simpler or smaller versions of the same problem.\nExample: Factorial function\n\nExample: Fractals"
  },
  {
    "objectID": "slides/13_functions-loops.html#recursive-functions-factorial",
    "href": "slides/13_functions-loops.html#recursive-functions-factorial",
    "title": "MATH167R: Functions and Loops",
    "section": "Recursive functions: factorial",
    "text": "Recursive functions: factorial\nRecursive functions are those that call themselves to solve problems.\n\nfact &lt;- function(x) {\n  if (x == 0 | x == 1) {\n    return(1)\n  } else {\n    return(x * fact(x - 1))\n  }\n}\nfact(4)\n\n\n\n\n[1] 24"
  },
  {
    "objectID": "slides/13_functions-loops.html#recursive-functions-fibonacci",
    "href": "slides/13_functions-loops.html#recursive-functions-fibonacci",
    "title": "MATH167R: Functions and Loops",
    "section": "Recursive functions: Fibonacci",
    "text": "Recursive functions: Fibonacci\nExercise: write a function fibonacci() that takes as input a natural number n and returns the \\(n\\)th Fibonacci number.\n\n\nfibonacci &lt;- function(n) {\n  if (n == 1 | n == 2) {\n    return(1)\n  } else {\n    return(fibonacci(n - 1) + fibonacci(n - 2))\n  }\n}\nfibonacci(10)\n\n[1] 55"
  },
  {
    "objectID": "slides/13_functions-loops.html#recursive-functions-prime-factorization",
    "href": "slides/13_functions-loops.html#recursive-functions-prime-factorization",
    "title": "MATH167R: Functions and Loops",
    "section": "Recursive functions: Prime factorization",
    "text": "Recursive functions: Prime factorization\nWrite a function factorize() that takes as input a natural number n and returns its prime factorization.\n\nHow might we get started with this question?"
  },
  {
    "objectID": "slides/27_cross-validation.html#overview-of-today",
    "href": "slides/27_cross-validation.html#overview-of-today",
    "title": "MATH167R: Sampling distributions",
    "section": "Overview of today",
    "text": "Overview of today\n\nanova\nChi squared tests"
  },
  {
    "objectID": "slides/27_cross-validation.html#sampling-distributions",
    "href": "slides/27_cross-validation.html#sampling-distributions",
    "title": "MATH167R: Sampling distributions",
    "section": "Sampling distributions",
    "text": "Sampling distributions\nWithout explicitly saying so, we have been simulating sampling distributions during our simulations.\nRecall: A sampling distribution is the probability distribution of a sample-based statistic.\nExample: If \\(X_1,\\ldots, X_{100}\\) are iid random variables with variance \\(1\\), what is the distribution of the sample mean \\(\\overline{X}\\)?"
  },
  {
    "objectID": "slides/27_cross-validation.html#simulating-a-sampling-distribution",
    "href": "slides/27_cross-validation.html#simulating-a-sampling-distribution",
    "title": "MATH167R: Sampling distributions",
    "section": "Simulating a sampling distribution",
    "text": "Simulating a sampling distribution\nExample simulation: Suppose \\(X_1,\\ldots, X_{100}\\sim N(0,1)\\).\n\nset.seed(123)\nXbar &lt;- replicate(10000, mean(rnorm(100)))\nhist(Xbar, main = \"Sampling distribution of mean of 100 N(0, 1) variables\")"
  },
  {
    "objectID": "slides/27_cross-validation.html#simulating-a-sampling-distribution-1",
    "href": "slides/27_cross-validation.html#simulating-a-sampling-distribution-1",
    "title": "MATH167R: Sampling distributions",
    "section": "Simulating a sampling distribution",
    "text": "Simulating a sampling distribution\nWhat if \\(X_1,\\ldots, X_{100}\\sim \\mathrm{Exp}(1)\\)?\n\nset.seed(123)\nXbar &lt;- replicate(10000, mean(rexp(100, rate = 1)))\nhist(Xbar, main = \"Sampling distribution of mean of 100 Exponential(1) variables\")"
  },
  {
    "objectID": "slides/27_cross-validation.html#simulating-a-sampling-distribution-2",
    "href": "slides/27_cross-validation.html#simulating-a-sampling-distribution-2",
    "title": "MATH167R: Sampling distributions",
    "section": "Simulating a sampling distribution",
    "text": "Simulating a sampling distribution\nWhat if \\(X_1,\\ldots, X_{100}\\sim \\mathrm{Poisson}(1)\\)?\n\nset.seed(123)\nXbar &lt;- replicate(10000, mean(rpois(100, lambda = 1)))\nhist(Xbar, main = \"Sampling distribution of mean of 100 Poisson(1) variables\")"
  },
  {
    "objectID": "slides/27_cross-validation.html#simulating-a-sampling-distribution-3",
    "href": "slides/27_cross-validation.html#simulating-a-sampling-distribution-3",
    "title": "MATH167R: Sampling distributions",
    "section": "Simulating a sampling distribution",
    "text": "Simulating a sampling distribution\nBy the central limit theorem, all of these sampling distributions are asymptotically Gaussian with variance 1 (though the mean values differ between the three). Since \\(n=100\\) is fairly large (for these examples), all of the previous examples are close to Gaussian.\nWhat about if \\(n\\) is smaller? Or if we consider other distributions?\nSimulation is a powerful strategy for testing out methods:\n\nSuppose you wish to know… is \\(n\\) large?\nCreate a simulation that generates data that looks like your real world data.\nEvaluate whether the results are reasonable/accurate using simulated data."
  },
  {
    "objectID": "slides/27_cross-validation.html#smaller-sample-sizes",
    "href": "slides/27_cross-validation.html#smaller-sample-sizes",
    "title": "MATH167R: Sampling distributions",
    "section": "Smaller sample sizes",
    "text": "Smaller sample sizes\n\nset.seed(123)\nXbar_normal &lt;- replicate(10000, mean(rnorm(10)))\nXbar_exp &lt;- replicate(10000, mean(rexp(10, rate = 1)))\nXbar_poisson &lt;- replicate(10000, mean(rpois(10, lambda = 1)))\npar(mfrow = c(1, 3))\nhist(Xbar_normal, main = \"N(0, 1)\")\nhist(Xbar_exp, main = \"Exp(1)\")\nhist(Xbar_poisson, main = \"Poisson(1)\")"
  },
  {
    "objectID": "slides/27_cross-validation.html#other-statistics",
    "href": "slides/27_cross-validation.html#other-statistics",
    "title": "MATH167R: Sampling distributions",
    "section": "Other statistics",
    "text": "Other statistics\nWhat if we want the sampling distribution of the maximum? For each of these population models, the sampling distribution of the maximum is different.\n\nset.seed(123)\nXmax_normal &lt;- replicate(10000, max(rnorm(10)))\nXmax_exp &lt;- replicate(10000, max(rexp(10, rate = 1)))\nXmax_poisson &lt;- replicate(10000, max(rpois(10, lambda = 1)))\npar(mfrow = c(1, 3))\nhist(Xmax_normal, main = \"N(0, 1)\")\nhist(Xmax_exp, main = \"Exp(1)\")\nhist(Xmax_poisson, main = \"Poisson(1)\")"
  },
  {
    "objectID": "slides/27_cross-validation.html#transformations",
    "href": "slides/27_cross-validation.html#transformations",
    "title": "MATH167R: Sampling distributions",
    "section": "Transformations",
    "text": "Transformations\nWe can easily simulate sampling distributions for statistics summarizing the distribution of random variables that are defined as transformations of other random variables.\n\nset.seed(123)\nXbar_normal &lt;- replicate(10000, mean(rnorm(10) ^ 2))\nXbar_exp &lt;- replicate(10000, mean(rexp(10, rate = 1) ^ 2))\nXbar_poisson &lt;- replicate(10000, mean(rpois(10, lambda = 1) ^ 2))\npar(mfrow = c(1, 3))\nhist(Xbar_normal, main = \"N(0, 1) squared\")\nhist(Xbar_exp, main = \"Exp(1) squared\")\nhist(Xbar_poisson, main = \"Poisson(1) squared\")"
  },
  {
    "objectID": "slides/27_cross-validation.html#exercise",
    "href": "slides/27_cross-validation.html#exercise",
    "title": "MATH167R: Sampling distributions",
    "section": "Exercise",
    "text": "Exercise\n\nWrite code to create a histogram of the sampling distribution of the sample mean \\(\\overline{Y}\\) of \\(Y_1,\\ldots, Y_{10}\\) where \\(Y_i=\\sin(X_i)\\) and \\(X_1,\\ldots, X_{10}\\) are iid Uniform(0, 1) random variables."
  },
  {
    "objectID": "slides/27_cross-validation.html#resampling-methods",
    "href": "slides/27_cross-validation.html#resampling-methods",
    "title": "MATH167R: Sampling distributions",
    "section": "Resampling methods",
    "text": "Resampling methods\nThe previous simulations are all based on parametric models (normal, exponential, Poisson). However, we can also simulate sampling distributions without parametric assumptions on the data generating mechanism.\nSuppose we know \\(X_1,\\ldots, X_{20}\\sim \\mathrm{Exp}(1)\\). The sampling distribution can be simulated as follows:\n\nset.seed(123)\nXbar_exp &lt;- replicate(10000, mean(rexp(20, rate = 1)))\nhist(Xbar_exp)"
  },
  {
    "objectID": "slides/27_cross-validation.html#resampling-methods-1",
    "href": "slides/27_cross-validation.html#resampling-methods-1",
    "title": "MATH167R: Sampling distributions",
    "section": "Resampling methods",
    "text": "Resampling methods\nWhat if we observe \\(X_1,\\ldots, X_{20}\\), but we don’t know that \\(X_i\\) is exponentially distributed? We could just try the normal approximation to approximate the sampling distribution:\n\nX &lt;- rexp(20, rate = 1)\nx_axis &lt;- seq(0, 3, length.out = 1000)\n\n# plot \"true\" simulated sampling distribution\nhist(Xbar_exp, freq = F, ylim = c(0, 3))\n\n# plot normal theory\nlines(x_axis, dnorm(x_axis, mean = mean(X), sd = sd(X) / sqrt(20)), col = 'red')"
  },
  {
    "objectID": "slides/27_cross-validation.html#bootstrap-samples",
    "href": "slides/27_cross-validation.html#bootstrap-samples",
    "title": "MATH167R: Sampling distributions",
    "section": "Bootstrap samples",
    "text": "Bootstrap samples\nBootstrapping is a resampling method that uses random samples with replacement from the sample data to approximate the sampling distribution of sample-based statistics.\n\nprint(sort(X))\n\n [1] 0.00816693 0.06263315 0.11949335 0.12600941 0.14474580 0.14660666\n [7] 0.15582213 0.17485277 0.23514296 0.35492087 0.48980207 0.52215538\n[13] 0.72200938 1.27034542 1.56551624 1.74866229 1.82459209 1.84311722\n[19] 2.14225230 2.24995288\n\n# sample with replacement from X\nX_resample &lt;- sample(X, size = 20, replace = TRUE)\nprint(sort(X_resample))\n\n [1] 0.06263315 0.11949335 0.11949335 0.11949335 0.11949335 0.12600941\n [7] 0.14474580 0.14474580 0.15582213 0.15582213 0.17485277 0.35492087\n[13] 0.35492087 0.48980207 0.72200938 0.72200938 1.56551624 2.14225230\n[19] 2.24995288 2.24995288"
  },
  {
    "objectID": "slides/27_cross-validation.html#bootstrap-samples-1",
    "href": "slides/27_cross-validation.html#bootstrap-samples-1",
    "title": "MATH167R: Sampling distributions",
    "section": "Bootstrap samples",
    "text": "Bootstrap samples\nWe can repeatedly resample from \\(X\\), then compute the resample sample means and plot the distribution:\n\nbootstrap_Xbar &lt;- replicate(10000, mean(sample(X, size = 20, replace = TRUE)))\nhist(bootstrap_Xbar)"
  },
  {
    "objectID": "slides/27_cross-validation.html#bootstrap-samples-2",
    "href": "slides/27_cross-validation.html#bootstrap-samples-2",
    "title": "MATH167R: Sampling distributions",
    "section": "Bootstrap samples",
    "text": "Bootstrap samples\nWe can compare the bootstrap sampling distributions and true sampling distributions. In this case, the bootstrap does not seem that different from the normal approximation.\n\nlibrary(ggplot2)\nplot_dat &lt;-\n  data.frame(Xbar = c(Xbar_exp, bootstrap_Xbar),\n             source = rep(c(\"Parametric (Exp)\", \"Bootstrap\"), each = 10000))\nggplot(plot_dat, aes(x = Xbar, color = source)) +\n  geom_density() +\n  geom_function(fun = dnorm, \n                args = list(mean = mean(X), sd = sd(X) / sqrt(20)),\n                aes(color = \"Parametric (Normal)\"))"
  },
  {
    "objectID": "slides/27_cross-validation.html#bootstrap-confidence-intervals",
    "href": "slides/27_cross-validation.html#bootstrap-confidence-intervals",
    "title": "MATH167R: Sampling distributions",
    "section": "Bootstrap confidence intervals",
    "text": "Bootstrap confidence intervals\nWe can take appropriate quantiles of the bootstrap samples to construct a bootstrap confidence interval using the quantile() function:\n\nquantile(bootstrap_Xbar, probs = c(.025, .975))\n\n    2.5%    97.5% \n0.467759 1.157051"
  },
  {
    "objectID": "slides/27_cross-validation.html#why-bootstrap",
    "href": "slides/27_cross-validation.html#why-bootstrap",
    "title": "MATH167R: Sampling distributions",
    "section": "Why bootstrap?",
    "text": "Why bootstrap?\nIn this case, inference based on bootstrapping does not seem better than the normal approximation based on the central limit theorem.\nHowever, for many cases, we may not have a simple parametric approximation to the true sampling distribution. For example, suppose we wish to compute the sampling distribution of the sample median.\nNote however that the bootstrap may not work well for all statistics, such as the minimum (why not?)."
  },
  {
    "objectID": "slides/17_simulations.html#overview-of-today",
    "href": "slides/17_simulations.html#overview-of-today",
    "title": "MATH167R: Simulations",
    "section": "Overview of today",
    "text": "Overview of today\n\nRandom variables in R\nThe r, p, d, and q functions\nreplicate()\nWriting simulations"
  },
  {
    "objectID": "slides/17_simulations.html#random-variables-in-r",
    "href": "slides/17_simulations.html#random-variables-in-r",
    "title": "MATH167R: Simulations",
    "section": "Random variables in R",
    "text": "Random variables in R\nWe have already seen a number of functions for generating random variables such as sample() and rnorm().\nToday, we will expand on these functions and related functions for studying random variables and begin using them to write various simulations."
  },
  {
    "objectID": "slides/17_simulations.html#random-variables-in-r-1",
    "href": "slides/17_simulations.html#random-variables-in-r-1",
    "title": "MATH167R: Simulations",
    "section": "Random variables in R",
    "text": "Random variables in R\nRemember that we can use the sample() function as follows to draw at random from a finite set with and without replacement:\n\nsample(0:9, 10, replace = T)\n\n [1] 4 8 2 5 7 9 6 5 0 2\n\n\nWhat if we want to generate \\(n\\) samples from a normal distribution? Or a binomial distribution?"
  },
  {
    "objectID": "slides/17_simulations.html#simulating-a-coin-flipping-game",
    "href": "slides/17_simulations.html#simulating-a-coin-flipping-game",
    "title": "MATH167R: Simulations",
    "section": "Simulating a coin-flipping game",
    "text": "Simulating a coin-flipping game\nCan we write code to simulate this game?"
  },
  {
    "objectID": "slides/17_simulations.html#simulating-a-coin-flipping-game-1",
    "href": "slides/17_simulations.html#simulating-a-coin-flipping-game-1",
    "title": "MATH167R: Simulations",
    "section": "Simulating a coin-flipping game",
    "text": "Simulating a coin-flipping game\n\nn &lt;- 100\nflips &lt;- sample(x = c(\"H\", \"T\"), size = n, replace = T)\nHH_score &lt;- 0\nHT_score &lt;- 0\nfor (i in 2:n) {\n  if (flips[i-1] == \"H\" & flips[i] == \"H\") {\n    HH_score &lt;- HH_score + 1\n  } \n  if (flips[i-1] == \"H\" & flips[i] == \"T\") {\n    HT_score &lt;- HT_score + 1\n  }\n}\nHH_score\n\n[1] 25\n\nHT_score\n\n[1] 26"
  },
  {
    "objectID": "slides/17_simulations.html#simulating-a-coin-flipping-game-2",
    "href": "slides/17_simulations.html#simulating-a-coin-flipping-game-2",
    "title": "MATH167R: Simulations",
    "section": "Simulating a coin-flipping game",
    "text": "Simulating a coin-flipping game\nWhat if we want to simulate this game many times? One approach is to wrap our code in a function, which we can run many times."
  },
  {
    "objectID": "slides/17_simulations.html#simulating-a-coin-flipping-game-3",
    "href": "slides/17_simulations.html#simulating-a-coin-flipping-game-3",
    "title": "MATH167R: Simulations",
    "section": "Simulating a coin-flipping game",
    "text": "Simulating a coin-flipping game\n\nrun_one_sim &lt;- function(seed, n) {\n  set.seed(seed)\n  flips &lt;- sample(x = c(\"H\", \"T\"), size = n, replace = T)\n  HH_score &lt;- 0\n  HT_score &lt;- 0\n  for (i in 2:n) {\n    if (flips[i-1] == \"H\" & flips[i] == \"H\") {\n      HH_score &lt;- HH_score + 1\n    } \n    if (flips[i-1] == \"H\" & flips[i] == \"T\") {\n      HT_score &lt;- HT_score + 1\n    }\n  }\n  return(list(HH = HH_score, HT = HT_score))\n}\n# run 100000 simulations with n = 100\nresults &lt;- lapply(1:10000, run_one_sim, n = 100)\n\nHH_scores &lt;- sapply(results, function(x) x$HH)\nHT_scores &lt;- sapply(results, function(x) x$HT)"
  },
  {
    "objectID": "slides/17_simulations.html#simulating-a-coin-flipping-game-4",
    "href": "slides/17_simulations.html#simulating-a-coin-flipping-game-4",
    "title": "MATH167R: Simulations",
    "section": "Simulating a coin-flipping game",
    "text": "Simulating a coin-flipping game\n\n# proportion of Alice wins\nmean(HH_scores &gt; HT_scores)\n\n[1] 0.4567\n\n# proportion of Bob wins\nmean(HT_scores &gt; HH_scores)\n\n[1] 0.4906\n\n# proportion of ties\nmean(HH_scores == HT_scores)\n\n[1] 0.0527"
  },
  {
    "objectID": "slides/17_simulations.html#simulating-a-coin-flipping-game-5",
    "href": "slides/17_simulations.html#simulating-a-coin-flipping-game-5",
    "title": "MATH167R: Simulations",
    "section": "Simulating a coin-flipping game",
    "text": "Simulating a coin-flipping game\nWhy does Bob win more often? Intuitively, both “HH” and “HT” are equally likely when we flip a fair coin twice."
  },
  {
    "objectID": "slides/17_simulations.html#simulating-a-coin-flipping-game-6",
    "href": "slides/17_simulations.html#simulating-a-coin-flipping-game-6",
    "title": "MATH167R: Simulations",
    "section": "Simulating a coin-flipping game",
    "text": "Simulating a coin-flipping game\nHere’s a histogram of Alice and Bob’s scores across the simulations. What do you notice? How might this explain our results?"
  },
  {
    "objectID": "slides/17_simulations.html#simulating-a-coin-flipping-game-7",
    "href": "slides/17_simulations.html#simulating-a-coin-flipping-game-7",
    "title": "MATH167R: Simulations",
    "section": "Simulating a coin-flipping game",
    "text": "Simulating a coin-flipping game\n\nlibrary(ggplot2)\nggplot() +\n  geom_histogram(aes(x = HH_scores, fill = \"HH\"), \n                 alpha = .5, binwidth = 1) +\n  geom_histogram(aes(x = HT_scores, fill = \"HT\"), \n                 alpha = .5, binwidth = 1) + \n  ggtitle(\"Histogram of scores for Alice and Bob\") +\n  xlab(\"Score\")"
  },
  {
    "objectID": "slides/17_simulations.html#the-r-p-d-and-q-functions",
    "href": "slides/17_simulations.html#the-r-p-d-and-q-functions",
    "title": "MATH167R: Simulations",
    "section": "The r, p, d, and q functions",
    "text": "The r, p, d, and q functions\nWhat if we want to generate \\(n\\) samples from a normal distribution? Or a binomial distribution?\nR provides functions for working with a variety of probability distributions. For most distributions, there are four functions: r, p, d, and q. As an example, let’s look at the normal distribution.\nrnorm() can be used to generate n random observations from a normal distribution:\n\nrnorm(n = 5, mean = 0, sd = 1)\n\n[1] -0.25945096  0.03504629  1.45587714 -0.85642600 -0.06646623"
  },
  {
    "objectID": "slides/17_simulations.html#the-r-p-d-and-q-functions-1",
    "href": "slides/17_simulations.html#the-r-p-d-and-q-functions-1",
    "title": "MATH167R: Simulations",
    "section": "The r, p, d, and q functions",
    "text": "The r, p, d, and q functions\npnorm() can be used to compute the distribution function at a value q. In other words, if \\(Z\\) is a standard normal, pnorm returns the value of \\[F(q)= P\\left(Z \\leq \\frac{q-\\mu}{\\sigma}\\right)\\]\n\npnorm(q = 1, mean = 0, sd = 1)\n\n[1] 0.8413447\n\npnorm(q = 1, mean = 1, sd = 1)\n\n[1] 0.5"
  },
  {
    "objectID": "slides/17_simulations.html#the-r-p-d-and-q-functions-2",
    "href": "slides/17_simulations.html#the-r-p-d-and-q-functions-2",
    "title": "MATH167R: Simulations",
    "section": "The r, p, d, and q functions",
    "text": "The r, p, d, and q functions\nqnorm() can be used to compute the quantile function at a percentile p. In other words, if \\(Z\\) is a standard normal the quantile function returns the value \\(x\\) such that \\[P\\left(Z\\leq \\frac{x-\\mu}{\\sigma}\\right)=p\\]\n\nqnorm(p = .75, mean = 0, sd = 1)\n\n[1] 0.6744898\n\nqnorm(p = .5, mean = 1, sd = 1)\n\n[1] 1"
  },
  {
    "objectID": "slides/17_simulations.html#the-r-p-d-and-q-functions-3",
    "href": "slides/17_simulations.html#the-r-p-d-and-q-functions-3",
    "title": "MATH167R: Simulations",
    "section": "The r, p, d, and q functions",
    "text": "The r, p, d, and q functions\ndnorm() can be used to compute the density function at a value x: \\[ f(x)={\\frac {1}{\\sigma {\\sqrt {2\\pi }}}}\\exp\\left\\{-{\\frac {1}{2}}\\left({\\frac {x-\\mu }{\\sigma }}\\right)^{2}\\right\\}\\]\n\ndnorm(x = .5, mean = 0, sd = 1)\n\n[1] 0.3520653"
  },
  {
    "objectID": "slides/17_simulations.html#exercise",
    "href": "slides/17_simulations.html#exercise",
    "title": "MATH167R: Simulations",
    "section": "Exercise",
    "text": "Exercise\nCreate a histogram of 1000 samples from a normal distribution with mean 10 and standard deviation 20."
  },
  {
    "objectID": "slides/17_simulations.html#exercise-1",
    "href": "slides/17_simulations.html#exercise-1",
    "title": "MATH167R: Simulations",
    "section": "Exercise",
    "text": "Exercise\nSuppose we perform a two-sided hypothesis test using a normal distribution and obtain a z-score of 1.24. How would we compute the p-value?\n\n\n2 * (1 - pnorm(q = 1.24, mean = 0, sd = 1))\n\n[1] 0.2149754\n\n\n\n\nSuppose we perform a two-sided hypothesis test using a normal distribution and obtain a z-score of -2.12. How would we compute the p-value?\n\n\n\n2 * pnorm(q = -2.12, mean = 0, sd = 1)\n\n[1] 0.03400605"
  },
  {
    "objectID": "slides/17_simulations.html#the-r-p-d-and-q-functions-binomial-distribution",
    "href": "slides/17_simulations.html#the-r-p-d-and-q-functions-binomial-distribution",
    "title": "MATH167R: Simulations",
    "section": "The r, p, d, and q functions: binomial distribution",
    "text": "The r, p, d, and q functions: binomial distribution\nPractice with the rbinom(), pbinom(), dbinom() and qbinom() functions:\n\nIf I flip a coin with probability of heads = 0.6 ten times, what is the probability of observing exactly 6 heads?\nIf I flip a coin with probability of heads = 0.6 ten times, what is the probability of observing 6 or fewer heads?\nConsider an experiment where you flip a coin with a probability of heads = .6 ten times. Simulate this experiment 1000 times and create a histogram of your results."
  },
  {
    "objectID": "slides/17_simulations.html#random-seeds",
    "href": "slides/17_simulations.html#random-seeds",
    "title": "MATH167R: Simulations",
    "section": "Random seeds",
    "text": "Random seeds\nRemember that set.seed() can be used to ensure that you obtain the same results each time you run your code.\nFor example, if you include the command x &lt;- rnorm(1) in an .Rmd document with running set.seed(), each time you knit, you will produce a different value of x.\n\nset.seed(1022)\nrnorm(n = 1, mean = 0, sd = 1)\n\n[1] -0.6303919"
  },
  {
    "objectID": "slides/17_simulations.html#monte-carlo-methods",
    "href": "slides/17_simulations.html#monte-carlo-methods",
    "title": "MATH167R: Simulations",
    "section": "Monte Carlo methods",
    "text": "Monte Carlo methods\nMonte Carlo methods or Monte Carlo experiments use repeated random sampling to obtain numerical results or to approximate quantities of interest.\nMonte Carlo experiments are often used to:\n\napproximate integrals\ngenerate draws from a probability distribution\noptimize functions stochastically"
  },
  {
    "objectID": "slides/17_simulations.html#example-transformations-of-random-variables",
    "href": "slides/17_simulations.html#example-transformations-of-random-variables",
    "title": "MATH167R: Simulations",
    "section": "Example: Transformations of random variables",
    "text": "Example: Transformations of random variables\nSuppose \\(X\\sim N(0, 1)\\). What is \\(E(e^X)\\)?\nWe could use the change of variable formula to compute the expectation. Or we could use simulation to approximate this quantity. Asymptotic analysis is needed to study the convergence of our approximation.\n\nn_sim &lt;- 1000\nx &lt;- rnorm(n_sim)\nexp_X &lt;- exp(x)\nmean(exp_X)\n\n[1] 1.696632"
  },
  {
    "objectID": "slides/17_simulations.html#example-maximum-of-random-variables",
    "href": "slides/17_simulations.html#example-maximum-of-random-variables",
    "title": "MATH167R: Simulations",
    "section": "Example: Maximum of random variables",
    "text": "Example: Maximum of random variables\nSuppose \\(X_i\\sim \\mathrm{Exponential}(1)\\) for \\(1\\leq i\\leq n\\), for some \\(n\\).\n\nWhat is \\(E(\\mathrm{max}(X_1,\\ldots, X_n))?\\)\nHow does \\(E(\\mathrm{max}(X_1,\\ldots, X_n))\\) change for different values of \\(n\\)?\n\n\nset.seed(1022)\nn_sim &lt;- 1000\nn &lt;- 10\nmaxes &lt;- numeric(n_sim)\nfor (i in 1:n_sim) {\n  maxes[i] &lt;- max(rexp(n, rate = 1))\n}\nmean(maxes)\n\n[1] 2.931317\n\n\n\nWhat about for \\(n=100\\)? Should the expected maximum be larger or smaller?"
  },
  {
    "objectID": "slides/17_simulations.html#example-maximum-of-random-variables-1",
    "href": "slides/17_simulations.html#example-maximum-of-random-variables-1",
    "title": "MATH167R: Simulations",
    "section": "Example: Maximum of random variables",
    "text": "Example: Maximum of random variables\n\nn_sim &lt;- 1000\nn &lt;- 100\nmaxes &lt;- numeric(n_sim)\nfor (i in 1:n_sim) {\n  maxes[i] &lt;- max(rexp(n, rate = 1))\n}\nmean(maxes)\n\n[1] 5.133737"
  },
  {
    "objectID": "slides/17_simulations.html#replicate-for-repeated-evaluation",
    "href": "slides/17_simulations.html#replicate-for-repeated-evaluation",
    "title": "MATH167R: Simulations",
    "section": "replicate() for repeated evaluation",
    "text": "replicate() for repeated evaluation\nIn the previous code, we have been using for loops, which explicitly and repeatedly change global variables.\nWe can alternatively use the replicate() function to repeatedly evaluate an expression and in particular to repeatedly generate data. The data will be automatically organized into a matrix or vector."
  },
  {
    "objectID": "slides/17_simulations.html#replicate-for-repeated-evaluation-1",
    "href": "slides/17_simulations.html#replicate-for-repeated-evaluation-1",
    "title": "MATH167R: Simulations",
    "section": "replicate() for repeated evaluation",
    "text": "replicate() for repeated evaluation\nFor example, we can repeatedly generate n exponential random variables:\n\nreplicate(10, rexp(10)) # matrix output\n\n            [,1]      [,2]      [,3]         [,4]       [,5]       [,6]\n [1,] 1.13043124 0.1479812 2.2223548 2.1268942156 2.39868030 0.14031279\n [2,] 0.55534004 1.9936832 1.5308543 0.3856013802 0.27843227 0.07257534\n [3,] 4.04774410 1.5802471 0.8427089 0.0285170421 0.08422752 0.16672644\n [4,] 0.95041912 1.2540541 2.3257087 1.2683416223 2.16567578 0.17816958\n [5,] 1.58876652 1.6758615 1.4261630 0.2769027893 0.74726688 0.17021181\n [6,] 1.99796987 2.0187209 2.4609051 0.2171987002 0.35444081 0.24326570\n [7,] 1.14231095 0.7548254 0.3966859 1.9520977567 0.15842032 1.31846979\n [8,] 0.02341325 1.8892792 2.2973738 0.3193784612 3.23298183 0.70573159\n [9,] 0.52699221 1.0601018 1.3775838 0.0007783933 1.68575293 0.21282549\n[10,] 0.02605074 1.1210718 7.7896914 0.9947959780 1.43672665 0.03251952\n            [,7]      [,8]       [,9]      [,10]\n [1,] 0.37598461 1.5698594 0.48767041 0.25788083\n [2,] 1.54188526 0.5463632 0.03341924 3.22056431\n [3,] 2.28019306 1.8544470 2.48718778 0.33689904\n [4,] 1.92829873 0.5781632 1.08695817 1.36571108\n [5,] 0.61021502 0.2839260 3.15368645 0.02273778\n [6,] 0.91375634 0.3061268 0.79635850 2.84436475\n [7,] 2.00932145 2.6931977 1.10894887 0.40095700\n [8,] 0.06227634 0.7167511 0.18378884 1.30463719\n [9,] 0.06959291 0.1803800 0.02571177 0.87495361\n[10,] 5.63161431 0.2733862 0.06480147 0.19743542"
  },
  {
    "objectID": "slides/17_simulations.html#replicate-for-repeated-evaluation-2",
    "href": "slides/17_simulations.html#replicate-for-repeated-evaluation-2",
    "title": "MATH167R: Simulations",
    "section": "replicate() for repeated evaluation",
    "text": "replicate() for repeated evaluation\nAlternatively, we can repeatedly generate n exponential random variables and then take their maximum:\n\nreplicate(10, max(rexp(10))) # vector output\n\n [1] 2.084471 2.306936 3.248953 4.007540 1.415286 2.849782 2.835310 3.580029\n [9] 2.302169 1.573989"
  },
  {
    "objectID": "slides/17_simulations.html#replicate-for-repeated-evaluation-3",
    "href": "slides/17_simulations.html#replicate-for-repeated-evaluation-3",
    "title": "MATH167R: Simulations",
    "section": "replicate() for repeated evaluation",
    "text": "replicate() for repeated evaluation\nUsing replicate(), the previous simulation is just:\n\nmaxes &lt;- replicate(1000, max(rexp(n)))\nmean(maxes)\n\n[1] 5.222014"
  },
  {
    "objectID": "slides/17_simulations.html#example-maximum-of-random-variables-2",
    "href": "slides/17_simulations.html#example-maximum-of-random-variables-2",
    "title": "MATH167R: Simulations",
    "section": "Example: Maximum of random variables",
    "text": "Example: Maximum of random variables\nWe can repeat this for many different values of n.\n\nn_sim &lt;- 1000\nn_values &lt;- c(10, 25, 50, 100, 250, 500, 1000)\nmax_by_n &lt;- c()\nfor (n in n_values) {\n  maxes &lt;- numeric(n_sim)\n  for (i in 1:n_sim) {\n    maxes[i] &lt;- max(rexp(n, rate = 1))\n  }\n  max_by_n &lt;- c(max_by_n, mean(maxes))\n}\nmax_by_n\n\n[1] 2.998409 3.817743 4.514192 5.227332 6.073570 6.830615 7.484341"
  },
  {
    "objectID": "slides/17_simulations.html#example-maximum-of-random-variables-3",
    "href": "slides/17_simulations.html#example-maximum-of-random-variables-3",
    "title": "MATH167R: Simulations",
    "section": "Example: Maximum of random variables",
    "text": "Example: Maximum of random variables\nNote that we can write the maximum of exponentials simulation using replicate():\n\nmax_by_n &lt;- vapply(\n  n_values, \n  function(n) mean(replicate(n_sim, max(rexp(n, rate = 1)))), \n  numeric(1)\n)\nmax_by_n\n\n[1] 2.915269 3.825054 4.561750 5.212782 6.098579 6.719019 7.448086"
  },
  {
    "objectID": "slides/17_simulations.html#example-maximum-of-random-variables-4",
    "href": "slides/17_simulations.html#example-maximum-of-random-variables-4",
    "title": "MATH167R: Simulations",
    "section": "Example: Maximum of random variables",
    "text": "Example: Maximum of random variables\nIt turns out that \\(\\mathrm{max}(X_1,\\ldots, X_n)\\) can be modeled using a Gumbel distribution (after being transformed). Below, we plot the empirical mean and approximate the theoretical expectation (for large \\(n\\)).\n\nplot(n_values, max_by_n,\n     type = \"l\",\n     xlab = \"n\", ylab = \"Maximum\",\n     main = paste0(\"Sample mean of maximums (black)\",\n                   \"and theoretical expectation (red)\"))\nlines(n_values, -digamma(1) + log(n_values), col = \"red\")"
  },
  {
    "objectID": "slides/17_simulations.html#example-maximum-of-random-variables-5",
    "href": "slides/17_simulations.html#example-maximum-of-random-variables-5",
    "title": "MATH167R: Simulations",
    "section": "Example: Maximum of random variables",
    "text": "Example: Maximum of random variables"
  },
  {
    "objectID": "slides/11_spatial-data.html#overview-of-today",
    "href": "slides/11_spatial-data.html#overview-of-today",
    "title": "MATH167R: Advanced visualizations",
    "section": "Overview of today",
    "text": "Overview of today\n\nVisualizing spatial data\nAnimations\nProject work time"
  },
  {
    "objectID": "slides/11_spatial-data.html#example-pm-2.5-data",
    "href": "slides/11_spatial-data.html#example-pm-2.5-data",
    "title": "MATH167R: Advanced visualizations",
    "section": "Example: PM 2.5 data",
    "text": "Example: PM 2.5 data\nThe EPA provides daily data on air quality for monitoring stations across the country, which you can download here. The below code downloads a subset of this data from the course website for the pollutant PM 2.5 (atmospheric particulate matter with a diameter of less than 2.5 micrometers) and AQI for 2023.\n\npm_2_5 &lt;- readr::read_csv(\"https://math167r-s24.github.io/static/CA_PM2_5_2023.csv\")"
  },
  {
    "objectID": "slides/11_spatial-data.html#example-pm-2.5-data-1",
    "href": "slides/11_spatial-data.html#example-pm-2.5-data-1",
    "title": "MATH167R: Advanced visualizations",
    "section": "Example: PM 2.5 data",
    "text": "Example: PM 2.5 data\n\nhead(pm_2_5)\n\n\n\n\n\n\n\nDate\nSource\nSite ID\nPOC\nDaily Mean PM2.5 Concentration\nUNITS\nDAILY_AQI_VALUE\nSite Name\nDAILY_OBS_COUNT\nPERCENT_COMPLETE\nAQS_PARAMETER_CODE\nAQS_PARAMETER_DESC\nCBSA_CODE\nCBSA_NAME\nSTATE_CODE\nSTATE\nCOUNTY_CODE\nCOUNTY\nSITE_LATITUDE\nSITE_LONGITUDE\n\n\n\n\n01/01/2023\nAQS\n060010007\n3\n3.7\nug/m3 LC\n15\nLivermore\n1\n100\n88101\nPM2.5 - Local Conditions\n41860\nSan Francisco-Oakland-Hayward, CA\n06\nCalifornia\n001\nAlameda\n37.68753\n-121.7842\n\n\n01/02/2023\nAQS\n060010007\n3\n2.7\nug/m3 LC\n11\nLivermore\n1\n100\n88101\nPM2.5 - Local Conditions\n41860\nSan Francisco-Oakland-Hayward, CA\n06\nCalifornia\n001\nAlameda\n37.68753\n-121.7842\n\n\n01/03/2023\nAQS\n060010007\n3\n3.6\nug/m3 LC\n15\nLivermore\n1\n100\n88101\nPM2.5 - Local Conditions\n41860\nSan Francisco-Oakland-Hayward, CA\n06\nCalifornia\n001\nAlameda\n37.68753\n-121.7842\n\n\n01/04/2023\nAQS\n060010007\n3\n2.7\nug/m3 LC\n11\nLivermore\n1\n100\n88101\nPM2.5 - Local Conditions\n41860\nSan Francisco-Oakland-Hayward, CA\n06\nCalifornia\n001\nAlameda\n37.68753\n-121.7842\n\n\n01/05/2023\nAQS\n060010007\n3\n4.7\nug/m3 LC\n20\nLivermore\n1\n100\n88101\nPM2.5 - Local Conditions\n41860\nSan Francisco-Oakland-Hayward, CA\n06\nCalifornia\n001\nAlameda\n37.68753\n-121.7842\n\n\n01/06/2023\nAQS\n060010007\n3\n9.2\nug/m3 LC\n38\nLivermore\n1\n100\n88101\nPM2.5 - Local Conditions\n41860\nSan Francisco-Oakland-Hayward, CA\n06\nCalifornia\n001\nAlameda\n37.68753\n-121.7842"
  },
  {
    "objectID": "slides/11_spatial-data.html#example-pm-2.5-data-2",
    "href": "slides/11_spatial-data.html#example-pm-2.5-data-2",
    "title": "MATH167R: Advanced visualizations",
    "section": "Example: PM 2.5 data",
    "text": "Example: PM 2.5 data\n\nsummary(pm_2_5)\n\n     Date              Source            Site ID               POC        \n Length:51541       Length:51541       Length:51541       Min.   : 1.000  \n Class :character   Class :character   Class :character   1st Qu.: 2.000  \n Mode  :character   Mode  :character   Mode  :character   Median : 3.000  \n                                                          Mean   : 2.634  \n                                                          3rd Qu.: 3.000  \n                                                          Max.   :12.000  \n                                                                          \n Daily Mean PM2.5 Concentration    UNITS           DAILY_AQI_VALUE \n Min.   : -3.000                Length:51541       Min.   :  0.00  \n 1st Qu.:  3.900                Class :character   1st Qu.: 16.00  \n Median :  6.500                Mode  :character   Median : 27.00  \n Mean   :  7.823                                   Mean   : 30.64  \n 3rd Qu.: 10.000                                   3rd Qu.: 42.00  \n Max.   :235.100                                   Max.   :285.00  \n                                                                   \n  Site Name         DAILY_OBS_COUNT PERCENT_COMPLETE AQS_PARAMETER_CODE\n Length:51541       Min.   :1       Min.   :100      Min.   :88101     \n Class :character   1st Qu.:1       1st Qu.:100      1st Qu.:88101     \n Mode  :character   Median :1       Median :100      Median :88101     \n                    Mean   :1       Mean   :100      Mean   :88177     \n                    3rd Qu.:1       3rd Qu.:100      3rd Qu.:88101     \n                    Max.   :1       Max.   :100      Max.   :88502     \n                                                                       \n AQS_PARAMETER_DESC   CBSA_CODE      CBSA_NAME          STATE_CODE       \n Length:51541       Min.   :12540   Length:51541       Length:51541      \n Class :character   1st Qu.:31080   Class :character   Class :character  \n Mode  :character   Median :40140   Mode  :character   Mode  :character  \n                    Mean   :35282                                        \n                    3rd Qu.:41860                                        \n                    Max.   :49700                                        \n                    NA's   :3920                                         \n    STATE           COUNTY_CODE           COUNTY          SITE_LATITUDE  \n Length:51541       Length:51541       Length:51541       Min.   :32.58  \n Class :character   Class :character   Class :character   1st Qu.:34.21  \n Mode  :character   Mode  :character   Mode  :character   Median :36.60  \n                                                          Mean   :36.38  \n                                                          3rd Qu.:37.97  \n                                                          Max.   :41.76  \n                                                                         \n SITE_LONGITUDE  \n Min.   :-124.2  \n 1st Qu.:-121.5  \n Median :-119.8  \n Mean   :-119.8  \n 3rd Qu.:-118.2  \n Max.   :-115.5"
  },
  {
    "objectID": "slides/11_spatial-data.html#warm-up-pm-2.5-data",
    "href": "slides/11_spatial-data.html#warm-up-pm-2.5-data",
    "title": "MATH167R: Advanced visualizations",
    "section": "Warm-up: PM 2.5 data",
    "text": "Warm-up: PM 2.5 data\nWork with the people around you to identify:\n\nWhere and when was the highest DAILY_AQI_VALUE observed in 2023?\nWhich site had the highest median DAILY_AQI_VALUE in 2023?\nHow many monitoring sites are in Santa Clara County?\nWhat is the name of the site in this dataset that is closest to SJSU’s campus?\nWhat is the median DAILY_AQI_VALUE for this site in 2023?"
  },
  {
    "objectID": "slides/11_spatial-data.html#warm-up-pm-2.5-data-1",
    "href": "slides/11_spatial-data.html#warm-up-pm-2.5-data-1",
    "title": "MATH167R: Advanced visualizations",
    "section": "Warm-up: PM 2.5 data",
    "text": "Warm-up: PM 2.5 data\nAnswers:\n\nYreka on August 28 (AQI = 285)\nCortina Indian Rancheria\n3\nSan Jose - Jackson\n29"
  },
  {
    "objectID": "slides/11_spatial-data.html#data-wrangling",
    "href": "slides/11_spatial-data.html#data-wrangling",
    "title": "MATH167R: Advanced visualizations",
    "section": "Data wrangling",
    "text": "Data wrangling\nNote that the Date variable is a character–we can convert this into a Date class object using the lubridate package.\n\nlibrary(tidyverse)\npm_2_5 &lt;- pm_2_5 |&gt;\n  mutate(Date = mdy(Date))\nsummary(pm_2_5)\n\n      Date               Source            Site ID               POC        \n Min.   :2023-01-01   Length:51541       Length:51541       Min.   : 1.000  \n 1st Qu.:2023-03-26   Class :character   Class :character   1st Qu.: 2.000  \n Median :2023-06-21   Mode  :character   Mode  :character   Median : 3.000  \n Mean   :2023-06-23                                         Mean   : 2.634  \n 3rd Qu.:2023-09-18                                         3rd Qu.: 3.000  \n Max.   :2023-12-31                                         Max.   :12.000  \n                                                                            \n Daily Mean PM2.5 Concentration    UNITS           DAILY_AQI_VALUE \n Min.   : -3.000                Length:51541       Min.   :  0.00  \n 1st Qu.:  3.900                Class :character   1st Qu.: 16.00  \n Median :  6.500                Mode  :character   Median : 27.00  \n Mean   :  7.823                                   Mean   : 30.64  \n 3rd Qu.: 10.000                                   3rd Qu.: 42.00  \n Max.   :235.100                                   Max.   :285.00  \n                                                                   \n  Site Name         DAILY_OBS_COUNT PERCENT_COMPLETE AQS_PARAMETER_CODE\n Length:51541       Min.   :1       Min.   :100      Min.   :88101     \n Class :character   1st Qu.:1       1st Qu.:100      1st Qu.:88101     \n Mode  :character   Median :1       Median :100      Median :88101     \n                    Mean   :1       Mean   :100      Mean   :88177     \n                    3rd Qu.:1       3rd Qu.:100      3rd Qu.:88101     \n                    Max.   :1       Max.   :100      Max.   :88502     \n                                                                       \n AQS_PARAMETER_DESC   CBSA_CODE      CBSA_NAME          STATE_CODE       \n Length:51541       Min.   :12540   Length:51541       Length:51541      \n Class :character   1st Qu.:31080   Class :character   Class :character  \n Mode  :character   Median :40140   Mode  :character   Mode  :character  \n                    Mean   :35282                                        \n                    3rd Qu.:41860                                        \n                    Max.   :49700                                        \n                    NA's   :3920                                         \n    STATE           COUNTY_CODE           COUNTY          SITE_LATITUDE  \n Length:51541       Length:51541       Length:51541       Min.   :32.58  \n Class :character   Class :character   Class :character   1st Qu.:34.21  \n Mode  :character   Mode  :character   Mode  :character   Median :36.60  \n                                                          Mean   :36.38  \n                                                          3rd Qu.:37.97  \n                                                          Max.   :41.76  \n                                                                         \n SITE_LONGITUDE  \n Min.   :-124.2  \n 1st Qu.:-121.5  \n Median :-119.8  \n Mean   :-119.8  \n 3rd Qu.:-118.2  \n Max.   :-115.5"
  },
  {
    "objectID": "slides/11_spatial-data.html#wildfire-season-2023",
    "href": "slides/11_spatial-data.html#wildfire-season-2023",
    "title": "MATH167R: Advanced visualizations",
    "section": "Wildfire season 2023",
    "text": "Wildfire season 2023"
  },
  {
    "objectID": "slides/11_spatial-data.html#wildfire-season-2023-1",
    "href": "slides/11_spatial-data.html#wildfire-season-2023-1",
    "title": "MATH167R: Advanced visualizations",
    "section": "Wildfire season 2023",
    "text": "Wildfire season 2023\n\n\n\njan1_pm_2_5 &lt;- pm_2_5 |&gt; filter(Date == \"2023-01-01\")\nhist(jan1_pm_2_5$`Daily Mean PM2.5 Concentration`,\n     main = \"Jan 1\",  xlab = \"PM 2.5\")\n\n\n\n\n\n\n\n\n\n\nsep19_pm_2_5 &lt;- pm_2_5 |&gt; filter(Date == \"2023-09-19\")\nhist(sep19_pm_2_5$`Daily Mean PM2.5 Concentration`,\n     main = \"September 19\", xlab = \"PM 2.5\")"
  },
  {
    "objectID": "slides/11_spatial-data.html#working-with-spatial-data",
    "href": "slides/11_spatial-data.html#working-with-spatial-data",
    "title": "MATH167R: Advanced visualizations",
    "section": "Working with spatial data",
    "text": "Working with spatial data\nWe can’t get an idea of how air quality varies over space using univariate summaries like these. Ideally, we could plot the PM 2.5 or AQI measurements on a map of California."
  },
  {
    "objectID": "slides/11_spatial-data.html#naively-working-with-latitudelongitude",
    "href": "slides/11_spatial-data.html#naively-working-with-latitudelongitude",
    "title": "MATH167R: Advanced visualizations",
    "section": "Naively working with latitude/longitude",
    "text": "Naively working with latitude/longitude\n\nggplot(data = sep19_pm_2_5, \n       mapping = aes(x = SITE_LONGITUDE, \n                     y = SITE_LATITUDE, \n                     color = DAILY_AQI_VALUE)) +\n  geom_point() +\n  scale_color_viridis_c()"
  },
  {
    "objectID": "slides/11_spatial-data.html#naively-working-with-latitudelongitude-1",
    "href": "slides/11_spatial-data.html#naively-working-with-latitudelongitude-1",
    "title": "MATH167R: Advanced visualizations",
    "section": "Naively working with latitude/longitude",
    "text": "Naively working with latitude/longitude\nCompare with January 1:\n\nggplot(data = jan1_pm_2_5, \n       mapping = aes(x = SITE_LONGITUDE, \n                     y = SITE_LATITUDE, \n                     color = DAILY_AQI_VALUE)) +\n  geom_point() +\n  scale_color_viridis_c()"
  },
  {
    "objectID": "slides/11_spatial-data.html#naively-working-with-latitudelongitude-2",
    "href": "slides/11_spatial-data.html#naively-working-with-latitudelongitude-2",
    "title": "MATH167R: Advanced visualizations",
    "section": "Naively working with latitude/longitude",
    "text": "Naively working with latitude/longitude\nWe can only get so far just treating longitude and latitude as x and y. In particular, near the poles, we will get large amounts of distortion:"
  },
  {
    "objectID": "slides/11_spatial-data.html#simple-features",
    "href": "slides/11_spatial-data.html#simple-features",
    "title": "MATH167R: Advanced visualizations",
    "section": "Simple features",
    "text": "Simple features\nSimple Features is a set of standards for storing and accessing geographic data.\n\nGeographic data typically consist of geometries such as points, lines, and polygons\nIn R, the most popular package for working with simple features data is sf.\nWorking with spatial data can be extremely memory intensive, so care is needed."
  },
  {
    "objectID": "slides/11_spatial-data.html#converting-data-to-simple-features-object",
    "href": "slides/11_spatial-data.html#converting-data-to-simple-features-object",
    "title": "MATH167R: Advanced visualizations",
    "section": "Converting data to simple features object",
    "text": "Converting data to simple features object\nWhen each row in our data frame refers to a point with longitude and latitude, we can use the st_as_sf function to convert our data frame to an sf object.\n\nlibrary(sf)\nsep19_pm_2_5 &lt;- sep19_pm_2_5 |&gt;\n  st_as_sf(\n    # what columns hold lon/lat?\n    coords = c(\"SITE_LONGITUDE\", \"SITE_LATITUDE\"), \n     # what projection are we using?\n    crs = st_crs(4326)\n  )"
  },
  {
    "objectID": "slides/11_spatial-data.html#converting-data-to-simple-features-object-1",
    "href": "slides/11_spatial-data.html#converting-data-to-simple-features-object-1",
    "title": "MATH167R: Advanced visualizations",
    "section": "Converting data to simple features object",
    "text": "Converting data to simple features object\n\nhead(sep19_pm_2_5)\n\nSimple feature collection with 6 features and 18 fields\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: -122.2823 ymin: 37.68753 xmax: -121.7842 ymax: 39.76168\nGeodetic CRS:  WGS 84\n# A tibble: 6 × 19\n  Date       Source `Site ID`   POC Daily Mean PM2.5 Con…¹ UNITS DAILY_AQI_VALUE\n  &lt;date&gt;     &lt;chr&gt;  &lt;chr&gt;     &lt;dbl&gt;                  &lt;dbl&gt; &lt;chr&gt;           &lt;dbl&gt;\n1 2023-09-19 AQS    060010007     3                   21.7 ug/m…              71\n2 2023-09-19 AQS    060010009     3                   27.9 ug/m…              84\n3 2023-09-19 AQS    060010011     3                   29.6 ug/m…              88\n4 2023-09-19 AQS    060010012     3                   33.3 ug/m…              96\n5 2023-09-19 AQS    060010015     3                   25.7 ug/m…              80\n6 2023-09-19 AQS    060070008     3                    7.1 ug/m…              30\n# ℹ abbreviated name: ¹​`Daily Mean PM2.5 Concentration`\n# ℹ 12 more variables: `Site Name` &lt;chr&gt;, DAILY_OBS_COUNT &lt;dbl&gt;,\n#   PERCENT_COMPLETE &lt;dbl&gt;, AQS_PARAMETER_CODE &lt;dbl&gt;, AQS_PARAMETER_DESC &lt;chr&gt;,\n#   CBSA_CODE &lt;dbl&gt;, CBSA_NAME &lt;chr&gt;, STATE_CODE &lt;chr&gt;, STATE &lt;chr&gt;,\n#   COUNTY_CODE &lt;chr&gt;, COUNTY &lt;chr&gt;, geometry &lt;POINT [°]&gt;"
  },
  {
    "objectID": "slides/11_spatial-data.html#visualizing-point-data",
    "href": "slides/11_spatial-data.html#visualizing-point-data",
    "title": "MATH167R: Advanced visualizations",
    "section": "Visualizing point data",
    "text": "Visualizing point data\nWe can easily visualize this data now using the geom_sf() function, which automatically handles sf objects.\n\nggplot(sep19_pm_2_5) + geom_sf()"
  },
  {
    "objectID": "slides/11_spatial-data.html#visualizing-point-data-1",
    "href": "slides/11_spatial-data.html#visualizing-point-data-1",
    "title": "MATH167R: Advanced visualizations",
    "section": "Visualizing point data",
    "text": "Visualizing point data\nWe can add a basemap by downloading the outline of California from the tigris package.\n\nlibrary(tigris)\nCA_sf &lt;- states() |&gt; filter(NAME == \"California\")\n\n\nggplot() +\n  geom_sf(data = CA_sf) +\n  geom_sf(data = sep19_pm_2_5)"
  },
  {
    "objectID": "slides/11_spatial-data.html#visualizing-point-data-2",
    "href": "slides/11_spatial-data.html#visualizing-point-data-2",
    "title": "MATH167R: Advanced visualizations",
    "section": "Visualizing point data",
    "text": "Visualizing point data\nWe can then adjust the color to show DAILY_AQI_VALUE and also change the color scale:\n\nggplot() +\n  geom_sf(data = CA_sf) +\n  geom_sf(data = sep19_pm_2_5, \n          mapping = aes(color = DAILY_AQI_VALUE)) +\n  scale_color_viridis_c()"
  },
  {
    "objectID": "slides/11_spatial-data.html#exercise",
    "href": "slides/11_spatial-data.html#exercise",
    "title": "MATH167R: Advanced visualizations",
    "section": "Exercise",
    "text": "Exercise\nHow do we create the following plot?"
  },
  {
    "objectID": "slides/11_spatial-data.html#spatial-polygon-data",
    "href": "slides/11_spatial-data.html#spatial-polygon-data",
    "title": "MATH167R: Advanced visualizations",
    "section": "Spatial Polygon data",
    "text": "Spatial Polygon data\nThe AQI data we downloaded also contains county information. We can compute county level mean AQI using group_by and summarize:\n\nsep19_county_means &lt;- sep19_pm_2_5 |&gt;\n  # remove the geometry; we don't need it here\n  st_set_geometry(NULL) |&gt; \n  group_by(COUNTY) |&gt;\n  summarize(AQI = mean(DAILY_AQI_VALUE))"
  },
  {
    "objectID": "slides/11_spatial-data.html#spatial-polygon-data-1",
    "href": "slides/11_spatial-data.html#spatial-polygon-data-1",
    "title": "MATH167R: Advanced visualizations",
    "section": "Spatial Polygon data",
    "text": "Spatial Polygon data\nWe can then create a county-level polygon map by downloading county-level boundaries using tigris.\n\nCA_counties_sf &lt;- counties(state = \"CA\")\n\n\nsep19_county_means &lt;- CA_counties_sf |&gt;\n  right_join(sep19_county_means, by = c(\"NAME\" = \"COUNTY\")) \nggplot() +\n  geom_sf(data = CA_sf) +\n  geom_sf(data = sep19_county_means, aes(fill = AQI)) +\n  scale_fill_viridis_c()"
  },
  {
    "objectID": "slides/11_spatial-data.html#spatial-polygon-data-2",
    "href": "slides/11_spatial-data.html#spatial-polygon-data-2",
    "title": "MATH167R: Advanced visualizations",
    "section": "Spatial Polygon data",
    "text": "Spatial Polygon data"
  },
  {
    "objectID": "slides/11_spatial-data.html#animation-with-gganimate",
    "href": "slides/11_spatial-data.html#animation-with-gganimate",
    "title": "MATH167R: Advanced visualizations",
    "section": "Animation with gganimate",
    "text": "Animation with gganimate\nThe gganimate package provides tools for animating ggplot visualizations:"
  },
  {
    "objectID": "slides/11_spatial-data.html#animation-with-gganimate-1",
    "href": "slides/11_spatial-data.html#animation-with-gganimate-1",
    "title": "MATH167R: Advanced visualizations",
    "section": "Animation with gganimate",
    "text": "Animation with gganimate\n\nggplot(gapminder, aes(gdpPercap, lifeExp, size = pop, colour = country)) +\n  geom_point(alpha = 0.7, show.legend = FALSE) +\n  scale_colour_manual(values = country_colors) +\n  scale_size(range = c(2, 12)) +\n  scale_x_log10() +\n  facet_wrap(~continent) +\n  # Here comes the gganimate specific bits\n  labs(title = 'Year: {frame_time}',\n       x = 'GDP per capita', \n       y = 'life expectancy') +\n  transition_time(year) +\n  ease_aes('linear')"
  },
  {
    "objectID": "slides/11_spatial-data.html#animation-with-gganimate-2",
    "href": "slides/11_spatial-data.html#animation-with-gganimate-2",
    "title": "MATH167R: Advanced visualizations",
    "section": "Animation with gganimate",
    "text": "Animation with gganimate"
  },
  {
    "objectID": "slides/11_spatial-data.html#animation-with-gganimate-3",
    "href": "slides/11_spatial-data.html#animation-with-gganimate-3",
    "title": "MATH167R: Advanced visualizations",
    "section": "Animation with gganimate",
    "text": "Animation with gganimate\n\npm_2_5 &lt;- readr::read_csv(\"https://math167r-s24.github.io/static/CA_PM2_5_2023.csv\")\npm_2_5 &lt;- pm_2_5 |&gt;\n  mutate(Date = mdy(Date)) |&gt;\n  filter(month(Date) == 9)\nggplot() +\n  geom_sf(data = CA_sf) +\n  geom_point(data = pm_2_5, \n             mapping = aes(\n               x = SITE_LONGITUDE, \n               y = SITE_LATITUDE, \n               color = DAILY_AQI_VALUE\n             )) +\n  scale_color_viridis_c() +\n  # Here comes the gganimate specific bits\n  labs(title = \"Date: {frame_time}\") +\n  transition_time(Date) + \n  ease_aes('linear')"
  },
  {
    "objectID": "slides/11_spatial-data.html#takeaways",
    "href": "slides/11_spatial-data.html#takeaways",
    "title": "MATH167R: Advanced visualizations",
    "section": "Takeaways",
    "text": "Takeaways\n\nPackages like sf and gganimate are complex and frequently changing – but extend ggplot for new types of data and visualizations.\nDon’t need to memorize these packages’ functions: get comfortable with documentation.\nBe creative and challenge yourself–don’t limit yourself to the visuals we’ve created in class."
  },
  {
    "objectID": "slides/11_spatial-data.html#other-sources-of-spatial-data",
    "href": "slides/11_spatial-data.html#other-sources-of-spatial-data",
    "title": "MATH167R: Advanced visualizations",
    "section": "Other sources of spatial data",
    "text": "Other sources of spatial data\n\nSan Jose Open Data\nSan Francisco Open Data"
  },
  {
    "objectID": "slides/11_spatial-data.html#final-project",
    "href": "slides/11_spatial-data.html#final-project",
    "title": "MATH167R: Advanced visualizations",
    "section": "Final project",
    "text": "Final project\nInstructions on the course website."
  },
  {
    "objectID": "slides/05_exploring-data.html#warm-up",
    "href": "slides/05_exploring-data.html#warm-up",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Warm-up",
    "text": "Warm-up\n\nWhat is the main difference between vectors and lists?\nWhat is a data frame?"
  },
  {
    "objectID": "slides/05_exploring-data.html#warm-up-1",
    "href": "slides/05_exploring-data.html#warm-up-1",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Warm-up",
    "text": "Warm-up\nAnswer:\n\nVectors only contain one type of data whereas lists may contain a different type of data.\nA data frame is a list of vectors, each of the same length. Typically, each vector represents a variable and the \\(i\\)th entry of each vector represents the variable’s value for observation \\(i\\)."
  },
  {
    "objectID": "slides/05_exploring-data.html#overview-of-today",
    "href": "slides/05_exploring-data.html#overview-of-today",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Overview of today",
    "text": "Overview of today\n\nImporting and downloading data\nDescriptive statistics and summaries\nFiltering and sorting data\nPipe notation"
  },
  {
    "objectID": "slides/05_exploring-data.html#importing-data",
    "href": "slides/05_exploring-data.html#importing-data",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Importing data",
    "text": "Importing data\nToday we’ll use the flights data to practice our data exploration skills."
  },
  {
    "objectID": "slides/05_exploring-data.html#r-packages",
    "href": "slides/05_exploring-data.html#r-packages",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "R Packages",
    "text": "R Packages\n\nPackages bundle together code, data, and documentation in an easy to share way.\nThey come with code that others have written to extend the functionality of R.\nPackages can range from graphical software, to web scraping tools, statistical models for spatio-temporal data, microbial data analysis tools, etc.="
  },
  {
    "objectID": "slides/05_exploring-data.html#downloading-packages",
    "href": "slides/05_exploring-data.html#downloading-packages",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Downloading packages",
    "text": "Downloading packages\n\nThe most popular package repository is the Comprehensive R Archive Network, or CRAN\nOther popular repositories include Bioconductor and Github"
  },
  {
    "objectID": "slides/05_exploring-data.html#installing-packages",
    "href": "slides/05_exploring-data.html#installing-packages",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Installing packages",
    "text": "Installing packages\nIf a package is available on CRAN, like most packages we will use for this course, you can install it using install.packages():\nYou can also install by clicking Install in the Packages tab through RStudio.\nFor the most part, after you install a package, it is saved on your computer until you update R, and you will not need to re-install it. Thus, you should never include a call to install.packages() in any .R or .Rmd file!"
  },
  {
    "objectID": "slides/05_exploring-data.html#loading-packages",
    "href": "slides/05_exploring-data.html#loading-packages",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Loading packages",
    "text": "Loading packages\nAfter a package is installed, you can load it into your current R session using library():\nNote that unlike install.packages(), you do not need to include the package name in quotes."
  },
  {
    "objectID": "slides/05_exploring-data.html#loading-packages-1",
    "href": "slides/05_exploring-data.html#loading-packages-1",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Loading packages",
    "text": "Loading packages\nLoading a package must be done with each new R session, so you should put calls to library() in your .R and .Rmd files.\nThis can be done in the opening code chunk. If it is a .Rmd, you can set the parameter include = FALSE to hide the messages and code if the details are unimportant for the reader.\n```{r, include = FALSE}\nlibrary(nycflights13)\n```"
  },
  {
    "objectID": "slides/05_exploring-data.html#exploring-data",
    "href": "slides/05_exploring-data.html#exploring-data",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Exploring data",
    "text": "Exploring data\nOnce we load the nycflights13 package, we can access the flights data using the following command:\n\nlibrary(nycflights13)\ndata(flights)\n\nThe flights data is saved as a special kind of data frame called a tibble. The main difference between tibbles and data frames is that tibbles generally display more nicely.\n\nclass(flights)\n\n[1] \"tbl_df\"     \"tbl\"        \"data.frame\""
  },
  {
    "objectID": "slides/05_exploring-data.html#exploring-data-1",
    "href": "slides/05_exploring-data.html#exploring-data-1",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Exploring data",
    "text": "Exploring data\nThe head() function prints the first \\(m\\) rows (\\(m=6\\) by default):\n\nhead(flights)\n\n# A tibble: 6 × 19\n   year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n  &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n1  2013     1     1      517            515         2      830            819\n2  2013     1     1      533            529         4      850            830\n3  2013     1     1      542            540         2      923            850\n4  2013     1     1      544            545        -1     1004           1022\n5  2013     1     1      554            600        -6      812            837\n6  2013     1     1      554            558        -4      740            728\n# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;"
  },
  {
    "objectID": "slides/05_exploring-data.html#exploring-data-2",
    "href": "slides/05_exploring-data.html#exploring-data-2",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Exploring data",
    "text": "Exploring data\nWe can access documentation on the flights dataset using the ? operator:\n\n?flights\n\n\nThe nrow(), ncol(), and dim() functions provide information about the number of rows and columns:\n\nnrow(flights)\n\n[1] 336776\n\nncol(flights)\n\n[1] 19\n\ndim(flights)\n\n[1] 336776     19"
  },
  {
    "objectID": "slides/05_exploring-data.html#summarizing-data",
    "href": "slides/05_exploring-data.html#summarizing-data",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Summarizing data",
    "text": "Summarizing data\nThe summary() function provides a default way to summarize the dataset.\n\nsummary(flights)\n\n      year          month             day           dep_time    sched_dep_time\n Min.   :2013   Min.   : 1.000   Min.   : 1.00   Min.   :   1   Min.   : 106  \n 1st Qu.:2013   1st Qu.: 4.000   1st Qu.: 8.00   1st Qu.: 907   1st Qu.: 906  \n Median :2013   Median : 7.000   Median :16.00   Median :1401   Median :1359  \n Mean   :2013   Mean   : 6.549   Mean   :15.71   Mean   :1349   Mean   :1344  \n 3rd Qu.:2013   3rd Qu.:10.000   3rd Qu.:23.00   3rd Qu.:1744   3rd Qu.:1729  \n Max.   :2013   Max.   :12.000   Max.   :31.00   Max.   :2400   Max.   :2359  \n                                                 NA's   :8255                 \n   dep_delay          arr_time    sched_arr_time   arr_delay       \n Min.   : -43.00   Min.   :   1   Min.   :   1   Min.   : -86.000  \n 1st Qu.:  -5.00   1st Qu.:1104   1st Qu.:1124   1st Qu.: -17.000  \n Median :  -2.00   Median :1535   Median :1556   Median :  -5.000  \n Mean   :  12.64   Mean   :1502   Mean   :1536   Mean   :   6.895  \n 3rd Qu.:  11.00   3rd Qu.:1940   3rd Qu.:1945   3rd Qu.:  14.000  \n Max.   :1301.00   Max.   :2400   Max.   :2359   Max.   :1272.000  \n NA's   :8255      NA's   :8713                  NA's   :9430      \n   carrier              flight       tailnum             origin         \n Length:336776      Min.   :   1   Length:336776      Length:336776     \n Class :character   1st Qu.: 553   Class :character   Class :character  \n Mode  :character   Median :1496   Mode  :character   Mode  :character  \n                    Mean   :1972                                        \n                    3rd Qu.:3465                                        \n                    Max.   :8500                                        \n                                                                        \n     dest              air_time        distance         hour      \n Length:336776      Min.   : 20.0   Min.   :  17   Min.   : 1.00  \n Class :character   1st Qu.: 82.0   1st Qu.: 502   1st Qu.: 9.00  \n Mode  :character   Median :129.0   Median : 872   Median :13.00  \n                    Mean   :150.7   Mean   :1040   Mean   :13.18  \n                    3rd Qu.:192.0   3rd Qu.:1389   3rd Qu.:17.00  \n                    Max.   :695.0   Max.   :4983   Max.   :23.00  \n                    NA's   :9430                                  \n     minute        time_hour                     \n Min.   : 0.00   Min.   :2013-01-01 05:00:00.00  \n 1st Qu.: 8.00   1st Qu.:2013-04-04 13:00:00.00  \n Median :29.00   Median :2013-07-03 10:00:00.00  \n Mean   :26.23   Mean   :2013-07-03 05:22:54.64  \n 3rd Qu.:44.00   3rd Qu.:2013-10-01 07:00:00.00  \n Max.   :59.00   Max.   :2013-12-31 23:00:00.00"
  },
  {
    "objectID": "slides/05_exploring-data.html#summarizing-one-column-at-a-time",
    "href": "slides/05_exploring-data.html#summarizing-one-column-at-a-time",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Summarizing one column at a time",
    "text": "Summarizing one column at a time\nAs we saw last week, the $ operator allows us to pull a single column from our dataset:\n\nflights$origin[1:10]\n\n [1] \"EWR\" \"LGA\" \"JFK\" \"JFK\" \"LGA\" \"EWR\" \"EWR\" \"LGA\" \"JFK\" \"LGA\""
  },
  {
    "objectID": "slides/05_exploring-data.html#summarizing-one-column-at-a-time-1",
    "href": "slides/05_exploring-data.html#summarizing-one-column-at-a-time-1",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Summarizing one column at a time",
    "text": "Summarizing one column at a time\nFor character vectors that represent categorical variables, the unique() and table() functions provide useful summaries:\n\nunique(flights$origin)\n\n[1] \"EWR\" \"LGA\" \"JFK\"\n\ntable(flights$origin)\n\n\n   EWR    JFK    LGA \n120835 111279 104662"
  },
  {
    "objectID": "slides/05_exploring-data.html#summarizing-one-column-at-a-time-2",
    "href": "slides/05_exploring-data.html#summarizing-one-column-at-a-time-2",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Summarizing one column at a time",
    "text": "Summarizing one column at a time\nFor numeric columns, we can use many of the functions we’ve seen earlier:\n\nmean(flights$dep_delay, na.rm = T)\n\n[1] 12.63907\n\nrange(flights$dep_delay, na.rm = T)\n\n[1]  -43 1301\n\nmax(flights$dep_delay, na.rm = T)\n\n[1] 1301"
  },
  {
    "objectID": "slides/05_exploring-data.html#subsetting-a-data-frame",
    "href": "slides/05_exploring-data.html#subsetting-a-data-frame",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Subsetting a data frame",
    "text": "Subsetting a data frame\nWhat if we want to remove all rows with NA values? Or what if we only want to look at flights from JFK?\nThe most basic way to take a subset of (rows of) a data frame is to define an appropriate logical vector:\nWhat do you think the following code does?\n\nis_delayed &lt;- flights$dep_delay &gt; 60\nhead(is_delayed)\n\n\n\n[1] FALSE FALSE FALSE FALSE FALSE FALSE"
  },
  {
    "objectID": "slides/05_exploring-data.html#subsetting-a-data-frame-1",
    "href": "slides/05_exploring-data.html#subsetting-a-data-frame-1",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Subsetting a data frame",
    "text": "Subsetting a data frame\nWe can then use this logical vector to index the desired rows:\n\ndelayed_flights &lt;- flights[is_delayed, ]\nnrow(delayed_flights)"
  },
  {
    "objectID": "slides/05_exploring-data.html#check-your-understanding-subsetting",
    "href": "slides/05_exploring-data.html#check-your-understanding-subsetting",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Check your understanding: Subsetting",
    "text": "Check your understanding: Subsetting\nWhat do you think the following lines of code do?\n\nflights[flights$origin == \"JFK\", ]\nflights[flights$air_time &gt; 120, ]\nflights[!is.na(flights$arr_delay), ]\nflights[complete.cases(flights), ]"
  },
  {
    "objectID": "slides/05_exploring-data.html#summarizing-subsets-of-a-dataset",
    "href": "slides/05_exploring-data.html#summarizing-subsets-of-a-dataset",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Summarizing subsets of a dataset",
    "text": "Summarizing subsets of a dataset\nSuppose we create three separate datasets–one for each departure airport.\n\nJFK_flights &lt;- flights[flights$origin == \"JFK\", ]\nLGA_flights &lt;- flights[flights$origin == \"LGA\", ]\nEWR_flights &lt;- flights[flights$origin == \"EWR\", ]\n\n\n\nmean(JFK_flights$arr_delay, na.rm = T)\n\n[1] 5.551481\n\nmean(LGA_flights$arr_delay, na.rm = T)\n\n[1] 5.783488\n\nmean(EWR_flights$arr_delay, na.rm = T)\n\n[1] 9.107055"
  },
  {
    "objectID": "slides/05_exploring-data.html#summarizing-subsets-of-a-dataset-1",
    "href": "slides/05_exploring-data.html#summarizing-subsets-of-a-dataset-1",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Summarizing subsets of a dataset",
    "text": "Summarizing subsets of a dataset\nOther summaries might be more relevant/informative:\n\nmean(JFK_flights$arr_delay &gt; 30, na.rm = T)\n\n[1] 0.1519908\n\nmean(LGA_flights$arr_delay &gt; 30, na.rm = T)\n\n[1] 0.1451256\n\nmean(EWR_flights$arr_delay &gt; 30, na.rm = T)\n\n[1] 0.172821"
  },
  {
    "objectID": "slides/05_exploring-data.html#summarizing-subsets-of-a-dataset-2",
    "href": "slides/05_exploring-data.html#summarizing-subsets-of-a-dataset-2",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Summarizing subsets of a dataset",
    "text": "Summarizing subsets of a dataset\n\nmean(JFK_flights$distance, na.rm = T)\n\n[1] 1266.249\n\nmean(LGA_flights$distance, na.rm = T)\n\n[1] 779.8357\n\nmean(EWR_flights$distance, na.rm = T)\n\n[1] 1056.743"
  },
  {
    "objectID": "slides/05_exploring-data.html#the-tidyverse",
    "href": "slides/05_exploring-data.html#the-tidyverse",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "The tidyverse",
    "text": "The tidyverse\nThe previous code provides a basic way to subset datasets. When doing a lot of descriptive/exploratory analysis, many people prefer using code from the tidyverse packages:\n\nReading and saving data: readr\nData manipulation: tidyr, dplyr\nData visualization: ggplot2\nWorking with different data structures: tibble, purrr, stringr, forcats\n\nYou can install them all using\n\ninstall.packages(\"tidyverse\")\n\n(Remember, you only need to do this once!)"
  },
  {
    "objectID": "slides/05_exploring-data.html#tidy-data-principles",
    "href": "slides/05_exploring-data.html#tidy-data-principles",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Tidy Data Principles",
    "text": "Tidy Data Principles\nThere are three rules required for data to be considered tidy\n\nEach variable must have its own column\nEach observation must have its own row\nEach value must have its own cell\n\nSeems simple, but can sometimes be tricky. We will discuss transformating data in the future."
  },
  {
    "objectID": "slides/05_exploring-data.html#name-conflicts",
    "href": "slides/05_exploring-data.html#name-conflicts",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Name conflicts",
    "text": "Name conflicts\nRecall that packages are essentially ways for you to install and use functions written by others. Occasionally, some of these functions have the same name and there is a conflict. Whichever package you load more recently using library will mask the old function, meaning that R will default to that version.\nIn general, this is fine, especially with tidyverse. These package authors know when they have masked common functions in R, and typically we will prefer tidyverse version.\nThe conflict message is to make sure you know about conflicts. You can (and should) hide this in your R Markdown files by adding the parameter message=FALSE or include=FALSE to your code chunk when you load packages."
  },
  {
    "objectID": "slides/05_exploring-data.html#subsetting-with-filter",
    "href": "slides/05_exploring-data.html#subsetting-with-filter",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Subsetting with filter()",
    "text": "Subsetting with filter()\nThe filter() function from the dplyr package provides a way to subset data. The second argument of filter() below looks for a logical vector defined in terms of the variables in the first argument.\n\nlibrary(dplyr)\nJFK_flights &lt;- filter(flights, origin == \"JFK\")\nLGA_flights &lt;- filter(flights, origin == \"LGA\")\nEWR_flights &lt;- filter(flights, origin == \"EWR\")\n\nCompare with:\n\nJFK_flights &lt;- flights[flights$origin == \"JFK\", ]\nLGA_flights &lt;- flights[flights$origin == \"LGA\", ]\nEWR_flights &lt;- flights[flights$origin == \"EWR\", ]"
  },
  {
    "objectID": "slides/05_exploring-data.html#descriptive-statistics-with-summarize",
    "href": "slides/05_exploring-data.html#descriptive-statistics-with-summarize",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Descriptive statistics with summarize()",
    "text": "Descriptive statistics with summarize()\nThe summarize() function can similarly be used to compute summary statistics:\n\nsummarize(flights, mean_dep_delay = mean(dep_delay, na.rm = T))\n\n# A tibble: 1 × 1\n  mean_dep_delay\n           &lt;dbl&gt;\n1           12.6"
  },
  {
    "objectID": "slides/05_exploring-data.html#descriptive-statistics-with-summarize-1",
    "href": "slides/05_exploring-data.html#descriptive-statistics-with-summarize-1",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Descriptive statistics with summarize()",
    "text": "Descriptive statistics with summarize()\nThe summarize() function can handle more than one statistic at once:\n\nsummarize(flights, \n          mean_dep_delay = mean(dep_delay, na.rm = T),\n          mean_arr_delay = mean(arr_delay, na.rm = T))\n\n# A tibble: 1 × 2\n  mean_dep_delay mean_arr_delay\n           &lt;dbl&gt;          &lt;dbl&gt;\n1           12.6           6.90"
  },
  {
    "objectID": "slides/05_exploring-data.html#pipe-notation",
    "href": "slides/05_exploring-data.html#pipe-notation",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Pipe notation",
    "text": "Pipe notation\nPipes use the |&gt; operator to take the output from a previous function call and “pipe” it through to the next function.\nThe object before the pipe is treated as the first argument to the function coming after the pipe.\n\nJFK_flights &lt;- flights |&gt; filter(origin == \"JFK\")\nLGA_flights &lt;- flights |&gt; filter(origin == \"LGA\")\nEWR_flights &lt;- flights |&gt; filter(origin == \"EWR\")"
  },
  {
    "objectID": "slides/05_exploring-data.html#piping-filter-and-summarize",
    "href": "slides/05_exploring-data.html#piping-filter-and-summarize",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Piping filter() and summarize()",
    "text": "Piping filter() and summarize()\nPipes are useful if we want to combine multiple functions. To see how this can be useful, consider the combining the filter() and summarize() functions:\n\nflights |&gt;\n  filter(origin == \"JFK\") |&gt;\n  summarize(mean_dep_delay = mean(dep_delay, na.rm = T))\n\n# A tibble: 1 × 1\n  mean_dep_delay\n           &lt;dbl&gt;\n1           12.1"
  },
  {
    "objectID": "slides/05_exploring-data.html#check-your-understanding",
    "href": "slides/05_exploring-data.html#check-your-understanding",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Check your understanding:",
    "text": "Check your understanding:\nWhat does the following code do?\n\nflights |&gt;\n  filter(air_time &gt; 120) |&gt;\n  summarize(mean_arr_delay = mean(arr_delay, na.rm = T))\n\n\n\n\n# A tibble: 1 × 1\n  mean_arr_delay\n           &lt;dbl&gt;\n1           5.69\n\n\nHow could you do the same thing with base R?\n\n\n\nlong_flights &lt;- flights[flights$air_time &gt; 120, ]\nmean(long_flights$arr_delay, na.rm = T)\n\n[1] 5.689161\n\n\nNote that the class of object is slightly different!"
  },
  {
    "objectID": "slides/05_exploring-data.html#saving-r-output",
    "href": "slides/05_exploring-data.html#saving-r-output",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Saving R Output",
    "text": "Saving R Output\nYou can save single R objects as .rds files using saveRDS(), multiple R objects as .RData or .rda files using save(), and your entire workspace as .RData using save.image()."
  },
  {
    "objectID": "slides/05_exploring-data.html#saving-r-output-1",
    "href": "slides/05_exploring-data.html#saving-r-output-1",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Saving R Output",
    "text": "Saving R Output\nIn general, you should use .RData for multiple objects, and generally should not use save.image().\nsave.image() should never be a part of your workflow as it is not generally reproducible."
  },
  {
    "objectID": "slides/05_exploring-data.html#loading-r-output",
    "href": "slides/05_exploring-data.html#loading-r-output",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Loading R Output",
    "text": "Loading R Output\nYou can load .rds files using readRDS() and .Rdata and .rda files using load().\n\n# load only object1\nreadRDS(\"object1_only.rds\")\n# load object1 and object2\nload(\"both_objects.RData\")\n# load my entire workspace\nload(\"entire_workspace.RData\")"
  },
  {
    "objectID": "slides/05_exploring-data.html#notes-on-saving-and-loading-r-data",
    "href": "slides/05_exploring-data.html#notes-on-saving-and-loading-r-data",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Notes on Saving and Loading R Data",
    "text": "Notes on Saving and Loading R Data\nThe values in quotes are all filepaths, and by default, R will search for these objects in your current working directory.\nYou can change where R searches for images by adjusting this filepath. For example, if you save your data in a Data subfolder within your working directory, you might try\n\nload(\"./Data/my_data.RData\")"
  },
  {
    "objectID": "slides/05_exploring-data.html#other-types-of-data",
    "href": "slides/05_exploring-data.html#other-types-of-data",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Other types of data",
    "text": "Other types of data\nOften, you will read and write files as comma separated values, or .csv. You can do this by navigating File &gt; Import Dataset in the menu bar, but generally I recommend doing it manually using the readr package. You will need to do so if loading data is part of your work flow, such as if it is required for an R Markdown writeup.\n\nlibrary(readr)\n# read a .csv file in a \"Data\" subfolder\nread_csv(\"./Data/file.csv\")\n# save a .csv file in a \"Data\" subfolder\nwrite_csv(\"./Data/data_output.csv\")"
  },
  {
    "objectID": "slides/05_exploring-data.html#loading-tidy-tuesday-data",
    "href": "slides/05_exploring-data.html#loading-tidy-tuesday-data",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Loading Tidy Tuesday data",
    "text": "Loading Tidy Tuesday data\nTwo approaches:\n\nLoad directly from the internet using a link.\nDownload to your computer and then load locally."
  },
  {
    "objectID": "slides/05_exploring-data.html#discussion-exploratory-data-analysis",
    "href": "slides/05_exploring-data.html#discussion-exploratory-data-analysis",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Discussion: Exploratory Data Analysis",
    "text": "Discussion: Exploratory Data Analysis\n\nBetter than EDA: start with a question, collect data, and explore your question\nEDA: Start with a dataset and use descriptive statistics/visualization to explore your dataset and develop research questions."
  },
  {
    "objectID": "slides/05_exploring-data.html#discussion-what-canshould-we-compute",
    "href": "slides/05_exploring-data.html#discussion-what-canshould-we-compute",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Discussion: What can/should we compute?",
    "text": "Discussion: What can/should we compute?\n\nIf I’ve waited 20 minutes for my flight, how much longer should I expect to wait? (Is waiting for a plane memoryless?)\nBonus: If my plane is delayed for a mechanical issue—is it still safe to get on the flight?"
  },
  {
    "objectID": "slides/05_exploring-data.html#another-example",
    "href": "slides/05_exploring-data.html#another-example",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Another example",
    "text": "Another example\nLast week’s TidyTuesday featured a dataset on economic diversity and student outcomes. You can find code to download it here. An associated visualization is at the New York Times."
  },
  {
    "objectID": "slides/05_exploring-data.html#activity",
    "href": "slides/05_exploring-data.html#activity",
    "title": "MATH167R: Importing and Exploring Data",
    "section": "Activity",
    "text": "Activity\nUsing this dataset…\n\nWhat is one question you could answer with this dataset? What questions could you answer if you could incorporate other variables/datasets?\nWhat would you compute to answer your question?"
  },
  {
    "objectID": "slides/12_programming-basics.html#overview-of-today",
    "href": "slides/12_programming-basics.html#overview-of-today",
    "title": "MATH167R: Programming Basics",
    "section": "Overview of today",
    "text": "Overview of today\n\nWhat is an algorithm?\nControl statements\nWriting R functions"
  },
  {
    "objectID": "slides/12_programming-basics.html#programming-and-this-class",
    "href": "slides/12_programming-basics.html#programming-and-this-class",
    "title": "MATH167R: Programming Basics",
    "section": "Programming and this class",
    "text": "Programming and this class\nUp until now, we have been focusing on using R for exploratory data analysis:\n\nDownloading and combining datasets\nObjects and types of data in R\nCreating data visualizations and computing descriptive statistics\nWriting R Markdown documents for communication\n\nFor the next several weeks, we will focus on programming and computer science concepts (as they might be used for data science)."
  },
  {
    "objectID": "slides/12_programming-basics.html#what-is-an-algorithm",
    "href": "slides/12_programming-basics.html#what-is-an-algorithm",
    "title": "MATH167R: Programming Basics",
    "section": "What is an algorithm?",
    "text": "What is an algorithm?\nAn algorithm is a finite sequence of instructions for performing some task or solving some problem.\nAlgorithms should be unambiguous and precise. In other words, if the instructions are followed correctly, the output should be reproducible: using the same inputs twice should yield the same outputs each time."
  },
  {
    "objectID": "slides/12_programming-basics.html#a-bad-example-an-ambiguous-cookie-recipe.",
    "href": "slides/12_programming-basics.html#a-bad-example-an-ambiguous-cookie-recipe.",
    "title": "MATH167R: Programming Basics",
    "section": "A bad example: an ambiguous cookie recipe.",
    "text": "A bad example: an ambiguous cookie recipe.\n\nMix dry ingredients.\nMix wet ingredients.\nAdd dry ingredients to wet ingredients.\nRoll into balls and put on baking sheet.\nBake in oven."
  },
  {
    "objectID": "slides/12_programming-basics.html#a-more-precise-example-the-smallest-number",
    "href": "slides/12_programming-basics.html#a-more-precise-example-the-smallest-number",
    "title": "MATH167R: Programming Basics",
    "section": "A more precise example: the smallest number",
    "text": "A more precise example: the smallest number\nInput: A list of numbers L. Output: The smallest number in the list L\n\nIf L is empty, then there is no smallest number.\nAssume the first number in L is the smallest.\nFor each remaining number in L, compare with the current assumed smallest number. If it is smaller, assume this number is now the smallest number.\nWhen there are no more numbers in L to consider, report the current smallest number."
  },
  {
    "objectID": "slides/12_programming-basics.html#flowcharts-for-algorithms",
    "href": "slides/12_programming-basics.html#flowcharts-for-algorithms",
    "title": "MATH167R: Programming Basics",
    "section": "Flowcharts for algorithms",
    "text": "Flowcharts for algorithms\nYou may also find it helpful to imagine an algorithm as a flowchart (from Wikipedia):"
  },
  {
    "objectID": "slides/12_programming-basics.html#algorithms-in-code",
    "href": "slides/12_programming-basics.html#algorithms-in-code",
    "title": "MATH167R: Programming Basics",
    "section": "Algorithms in code",
    "text": "Algorithms in code\nSince algorithms are simply sets of instructions or “recipes,” we can represent them as:\n\nWritten “pseudo-code” instructions (in English or other languages)\nFlow charts\nCode (in R, Python, or other programming languages)\n\nOur goal will be to write basic algorithms in R that we can use to carry out data science tasks."
  },
  {
    "objectID": "slides/12_programming-basics.html#functions-as-algorithms",
    "href": "slides/12_programming-basics.html#functions-as-algorithms",
    "title": "MATH167R: Programming Basics",
    "section": "Functions as algorithms",
    "text": "Functions as algorithms\nEach function is an implementation of an algorithm. For example, consider the rank() function which returns the rank-ordering of each number in a vector:\n\nrank(c(10, 9, 8))\n\n[1] 3 2 1\n\n\n\nrank\n\nfunction (x, na.last = TRUE, ties.method = c(\"average\", \"first\", \n    \"last\", \"random\", \"max\", \"min\")) \n{\n    stopifnot(length(na.last) == 1L)\n    nas &lt;- is.na(x)\n    nm &lt;- names(x)\n    ties.method &lt;- match.arg(ties.method)\n    if (is.factor(x)) \n        x &lt;- as.integer(x)\n    x &lt;- x[!nas]\n    y &lt;- switch(ties.method, average = , min = , max = .Internal(rank(x, \n        length(x), ties.method)), first = sort.list(sort.list(x)), \n        last = sort.list(rev.default(sort.list(x, decreasing = TRUE))), \n        random = sort.list(order(x, stats::runif(sum(!nas)))))\n    if (!is.na(na.last) && any(nas)) {\n        yy &lt;- NA\n        NAkeep &lt;- (na.last == \"keep\")\n        if (NAkeep || na.last) {\n            yy[!nas] &lt;- y\n            if (!NAkeep) \n                yy[nas] &lt;- (length(y) + 1L):length(yy)\n        }\n        else {\n            len &lt;- sum(nas)\n            yy[!nas] &lt;- y + len\n            yy[nas] &lt;- seq_len(len)\n        }\n        y &lt;- yy\n        names(y) &lt;- nm\n    }\n    else names(y) &lt;- nm[!nas]\n    y\n}\n&lt;bytecode: 0x106baf850&gt;\n&lt;environment: namespace:base&gt;"
  },
  {
    "objectID": "slides/12_programming-basics.html#exercise",
    "href": "slides/12_programming-basics.html#exercise",
    "title": "MATH167R: Programming Basics",
    "section": "Exercise",
    "text": "Exercise\nCan you write an algorithm to check if a positive integer N is divisible by 3?"
  },
  {
    "objectID": "slides/12_programming-basics.html#control-statements",
    "href": "slides/12_programming-basics.html#control-statements",
    "title": "MATH167R: Programming Basics",
    "section": "Control statements",
    "text": "Control statements\nMost algorithms will require the interpreter to check some conditions to determine the outcome.\n\nBy default, the expressions in the body of a function are evaluated sequentially.\nIn programming, control statements allow the developer (the person writing the code) to tell the interpreter what to do in different scenarios."
  },
  {
    "objectID": "slides/12_programming-basics.html#if-statements",
    "href": "slides/12_programming-basics.html#if-statements",
    "title": "MATH167R: Programming Basics",
    "section": "if statements",
    "text": "if statements\nR provides the if syntax for conditional evaluation:\nif (condition) code\n\nif statements give conditions for which a chunk of code is evaluated.\nFirst, a condition is specified before a chunk of code.\n\nIf the condition is TRUE, then the chunk is evaluated.\nIf the condition is FALSE, then it is not evaluated."
  },
  {
    "objectID": "slides/12_programming-basics.html#if-statements-1",
    "href": "slides/12_programming-basics.html#if-statements-1",
    "title": "MATH167R: Programming Basics",
    "section": "if statements",
    "text": "if statements\n\nx &lt;- 1\n# Conditions go in parentheses after if\nif (x &gt; 0) {\n  # code chunks get surrounded by curly brackets\n  print(paste0(\"x is equal to \", x, \", a positive number!\"))\n}\n\n\n\n\n[1] \"x is equal to 1, a positive number!\""
  },
  {
    "objectID": "slides/12_programming-basics.html#if-statements-2",
    "href": "slides/12_programming-basics.html#if-statements-2",
    "title": "MATH167R: Programming Basics",
    "section": "if statements",
    "text": "if statements\n\nx &lt;- -1\n# Conditions go in parenthesis after if\nif (x &gt; 0) {\n  # code chunks get surrounded by curly brackets\n  print(paste0(\"x is equal to \", x, \", a positive number!\"))\n}"
  },
  {
    "objectID": "slides/12_programming-basics.html#if-statements-3",
    "href": "slides/12_programming-basics.html#if-statements-3",
    "title": "MATH167R: Programming Basics",
    "section": "if statements",
    "text": "if statements\nWe can also write one line if statements without braces:\n\ngrade &lt;- NULL\nscore &lt;- 65\nif (score &gt;= 60) grade &lt;- \"CR\"\nprint(grade)\n\n[1] \"CR\"\n\n\n\ngrade &lt;- NULL\nscore &lt;- 55\nif (score &gt;= 60) grade &lt;- \"CR\"\nprint(grade)\n\nNULL"
  },
  {
    "objectID": "slides/12_programming-basics.html#else-statements",
    "href": "slides/12_programming-basics.html#else-statements",
    "title": "MATH167R: Programming Basics",
    "section": "else statements",
    "text": "else statements\nWe can use else to specify what we want to happen when the condition is FALSE.\n\nx &lt;- 1\nif (x &gt; 0) {\n  print(paste0(\"x is equal to \", x, \", a positive number!\"))\n} else {\n  print(paste0(\"x is equal to \", x, \", a negative number!\"))\n}\n\n\n\n\n[1] \"x is equal to 1, a positive number!\""
  },
  {
    "objectID": "slides/12_programming-basics.html#else-statements-1",
    "href": "slides/12_programming-basics.html#else-statements-1",
    "title": "MATH167R: Programming Basics",
    "section": "else statements",
    "text": "else statements\n\nx &lt;- -1\nif (x &gt; 0) {\n  print(paste0(\"x is equal to \", x, \", a positive number!\"))\n} else {\n  print(paste0(\"x is equal to \", x, \", a negative number!\"))\n}\n\n[1] \"x is equal to -1, a negative number!\""
  },
  {
    "objectID": "slides/12_programming-basics.html#else-if",
    "href": "slides/12_programming-basics.html#else-if",
    "title": "MATH167R: Programming Basics",
    "section": "else if",
    "text": "else if\nWe use else if when there are more than two possible paths. Here, the final else chunk will evaluate for any cases not covered by the if or else if.\n\nx &lt;- 1\nif (x &gt; 0) {\n  paste0(\"x is equal to \", x, \", a positive number!\")\n} else if (x &lt; 0) {\n  paste0(\"x is equal to \", x, \", a negative number!\")\n} else {\n  paste0(\"x is equal to \", x, \"!\")\n}\n\n[1] \"x is equal to 1, a positive number!\""
  },
  {
    "objectID": "slides/12_programming-basics.html#else-if-1",
    "href": "slides/12_programming-basics.html#else-if-1",
    "title": "MATH167R: Programming Basics",
    "section": "else if",
    "text": "else if\n\nx &lt;- -1\nif (x &gt; 0) {\n  paste0(\"x is equal to \", x, \", a positive number!\")\n} else if (x &lt; 0) {\n  paste0(\"x is equal to \", x, \", a negative number!\")\n} else {\n  paste0(\"x is equal to \", x, \"!\")\n}\n\n[1] \"x is equal to -1, a negative number!\""
  },
  {
    "objectID": "slides/12_programming-basics.html#else-if-2",
    "href": "slides/12_programming-basics.html#else-if-2",
    "title": "MATH167R: Programming Basics",
    "section": "else if",
    "text": "else if\n\nx &lt;- 0\nif (x &gt; 0) {\n  paste0(\"x is equal to \", x, \", a positive number!\")\n} else if (x &lt; 0) {\n  paste0(\"x is equal to \", x, \", a negative number!\")\n} else {\n  paste0(\"x is equal to \", x, \"!\")\n}\n\n[1] \"x is equal to 0!\""
  },
  {
    "objectID": "slides/12_programming-basics.html#divisibility",
    "href": "slides/12_programming-basics.html#divisibility",
    "title": "MATH167R: Programming Basics",
    "section": "Divisibility",
    "text": "Divisibility\nSuppose we want to check if x is divisible by 3 and print out the answer. What should CONDITION be?\n\nx &lt;- 5\nif (CONDITION) {\n  IF TRUE, DO THIS\n} else {\n  ELSE, DO THIS\n}"
  },
  {
    "objectID": "slides/12_programming-basics.html#divisibility-1",
    "href": "slides/12_programming-basics.html#divisibility-1",
    "title": "MATH167R: Programming Basics",
    "section": "Divisibility",
    "text": "Divisibility\nSuppose we want to check if x is divisible by 5 and print out the answer. What should CONDITION be?\n\nx &lt;- 5\n# modulo operator\nif (x %% 3 == 0) {\n  print(\"divisible by 3\")\n} else {\n  print(\"not divisible by 3\")\n}\n\n\n\n\n[1] \"not divisible by 3\""
  },
  {
    "objectID": "slides/12_programming-basics.html#check-length-of-strings",
    "href": "slides/12_programming-basics.html#check-length-of-strings",
    "title": "MATH167R: Programming Basics",
    "section": "Check length of strings",
    "text": "Check length of strings\nNote: We will need the stringr package for this.\n\n# Run this if you have never installed stringr before!\n# install.packages(\"stringr\")\nlibrary(stringr)\n\n\nx &lt;- \"cat\"\nif (str_length(x) &lt;= 10) {\n  cat(\"x is a short string.\")\n} else {\n  cat(\"x is a long string.\")\n}\n\nx is a short string."
  },
  {
    "objectID": "slides/12_programming-basics.html#check-length-of-strings-1",
    "href": "slides/12_programming-basics.html#check-length-of-strings-1",
    "title": "MATH167R: Programming Basics",
    "section": "Check length of strings",
    "text": "Check length of strings\n\nx &lt;- \"A big fluffy cat with orange fur and stripes\"\nif (str_length(x) &lt;= 10) {\n  cat(\"x is a short string.\")\n} else {\n  cat(\"x is a long string.\")\n}\n\nx is a long string."
  },
  {
    "objectID": "slides/12_programming-basics.html#check-class",
    "href": "slides/12_programming-basics.html#check-class",
    "title": "MATH167R: Programming Basics",
    "section": "Check class",
    "text": "Check class\n\nx &lt;- 5\nif (is.numeric(x)) {\n  cat(\"x is a numeric.\")\n} else if (is.character(x)) {\n  cat(\"x is a character.\")\n} else {\n  cat(\"x is some class I didn't check for in my code.\")\n}\n\nx is a numeric."
  },
  {
    "objectID": "slides/12_programming-basics.html#check-class-1",
    "href": "slides/12_programming-basics.html#check-class-1",
    "title": "MATH167R: Programming Basics",
    "section": "Check class",
    "text": "Check class\n\nx &lt;- list()\nif (is.numeric(x)) {\n  cat(\"x is a numeric.\")\n} else if (is.character(x)) {\n  cat(\"x is a character.\")\n} else {\n  cat(\"x is some class I didn't check for in my code.\")\n}\n\nx is some class I didn't check for in my code."
  },
  {
    "objectID": "slides/12_programming-basics.html#exercise-1",
    "href": "slides/12_programming-basics.html#exercise-1",
    "title": "MATH167R: Programming Basics",
    "section": "Exercise",
    "text": "Exercise\nWrite code that, given two numerics x and y, prints out:\n\nEQUAL if sum(x) and sum(y) are equal.\nX if sum(x) is bigger.\nY if sum(y) is bigger."
  },
  {
    "objectID": "slides/12_programming-basics.html#functions",
    "href": "slides/12_programming-basics.html#functions",
    "title": "MATH167R: Programming Basics",
    "section": "Functions",
    "text": "Functions\nWe’ve already seen and used several functions, but you can also create your own.\nThis is incredibly useful when:\n\nYou use the same code repeatedly\nYou want to perform the same task for slightly different input values\nYou want others to be able to use your code"
  },
  {
    "objectID": "slides/12_programming-basics.html#anatomy-of-a-function",
    "href": "slides/12_programming-basics.html#anatomy-of-a-function",
    "title": "MATH167R: Programming Basics",
    "section": "Anatomy of a function",
    "text": "Anatomy of a function\nThe function named function is used to create a function:\nfunction(formal arguments) {body}\nThe body comprises one or more lines of code that will perform the desired computations.\n\ncelsiusToFahrenheit &lt;- function(x) {x * 9 / 5 + 32}\ncelsiusToFahrenheit(0)\n\n\n\n\n[1] 32"
  },
  {
    "objectID": "slides/12_programming-basics.html#anatomy-of-a-function-1",
    "href": "slides/12_programming-basics.html#anatomy-of-a-function-1",
    "title": "MATH167R: Programming Basics",
    "section": "Anatomy of a function",
    "text": "Anatomy of a function\nFor more complicated functions, we typically move the body to a new line:\n\nfunction_name &lt;- function(param1, param2 = \"default\") {\n  # body of the function\n  return(output)\n}\n\n\nfunction_name: the name you want to give your function, what you will use to call it\nfunction(): call this to define a function\nparam1, param2: formal arguments input by the user. You can assign default values by setting them equal to something in the call to function()\nbody: the actual code that is executed\nreturn(): the output value returned to the user"
  },
  {
    "objectID": "slides/12_programming-basics.html#square-a-number-add-2",
    "href": "slides/12_programming-basics.html#square-a-number-add-2",
    "title": "MATH167R: Programming Basics",
    "section": "Square a number, add 2",
    "text": "Square a number, add 2\n\nsquare_plus_2 &lt;- function(x) {\n  y &lt;- x^2 + 2\n  return(y)\n}\n\nsquare_plus_2(4)\n\n[1] 18\n\nsquare_plus_2(10)\n\n[1] 102\n\nsquare_plus_2(1:5)\n\n[1]  3  6 11 18 27"
  },
  {
    "objectID": "slides/12_programming-basics.html#square-a-number-add-2-1",
    "href": "slides/12_programming-basics.html#square-a-number-add-2-1",
    "title": "MATH167R: Programming Basics",
    "section": "Square a number, add 2",
    "text": "Square a number, add 2\n\nsquare_plus_2(\"some string\")\n\nError in x^2: non-numeric argument to binary operator\n\n\nWhat happened here?\n\nWe wrote a function for numerics only but didn’t check the input."
  },
  {
    "objectID": "slides/12_programming-basics.html#square-a-number-add-2-2",
    "href": "slides/12_programming-basics.html#square-a-number-add-2-2",
    "title": "MATH167R: Programming Basics",
    "section": "Square a number, add 2",
    "text": "Square a number, add 2\nLet’s try making our function more robust by adding a if statement and a stop call.\n\nsquare_plus_2 &lt;- function(x) {\n  if (!is.numeric(x)) {\n    stop(\"x must be numeric!\")\n  } else {\n    y &lt;- x^2 + 2\n    return(y)\n  }\n}\n\nsquare_plus_2(\"some string\")\n\nError in square_plus_2(\"some string\"): x must be numeric!"
  },
  {
    "objectID": "slides/12_programming-basics.html#function-names",
    "href": "slides/12_programming-basics.html#function-names",
    "title": "MATH167R: Programming Basics",
    "section": "Function Names",
    "text": "Function Names\nStrive to have function names based on verbs. Otherwise, standard variable name style guidelines apply!\n\n# Good\nadd_row()\npermute()\n\n# Bad\nrow_adder()\npermutation()"
  },
  {
    "objectID": "slides/12_programming-basics.html#spacing",
    "href": "slides/12_programming-basics.html#spacing",
    "title": "MATH167R: Programming Basics",
    "section": "Spacing",
    "text": "Spacing\nPlace a space before and after () when used with if, for, or while.\n\n# Good\nif (condition) {\n  x + 2\n}\n\n# Bad\nif(condition){\n  x + 2\n}"
  },
  {
    "objectID": "slides/12_programming-basics.html#spacing-1",
    "href": "slides/12_programming-basics.html#spacing-1",
    "title": "MATH167R: Programming Basics",
    "section": "Spacing",
    "text": "Spacing\nPlace a space after () used for function arguments.\n\n# Good\nif (debug) {\n  show(x)\n}\n\n# Bad\nif(debug){\n  show(x)\n}"
  },
  {
    "objectID": "slides/12_programming-basics.html#code-blocks",
    "href": "slides/12_programming-basics.html#code-blocks",
    "title": "MATH167R: Programming Basics",
    "section": "Code Blocks",
    "text": "Code Blocks\n\n{ should be the last character on the line. Related code (e.g., an if clause, a function declaration, a trailing comma, …) must be on the same line as the opening brace. It should be preceded by a single space.\nThe contents within code blocks should be indented by two spaces from where it started\n} should be the first character on the line."
  },
  {
    "objectID": "slides/12_programming-basics.html#code-blocks-1",
    "href": "slides/12_programming-basics.html#code-blocks-1",
    "title": "MATH167R: Programming Basics",
    "section": "Code Blocks",
    "text": "Code Blocks\n\n# Good\nif (y &lt; 0) {\n  message(\"y is negative\")\n}\n\nif (y == 0) {\n  if (x &gt; 0) {\n    log(x)\n  } else {\n    message(\"x is negative or zero\")\n  }\n} else {\n  y^x\n}"
  },
  {
    "objectID": "slides/12_programming-basics.html#code-blocks-2",
    "href": "slides/12_programming-basics.html#code-blocks-2",
    "title": "MATH167R: Programming Basics",
    "section": "Code Blocks",
    "text": "Code Blocks\n\n# Bad\nif (y&lt;0){\nmessage(\"Y is negative\")\n}\n\nif (y == 0)\n{\n    if (x &gt; 0) {\n      log(x)\n    } else {\n  message(\"x is negative or zero\")\n    }\n} else { y ^ x }"
  },
  {
    "objectID": "slides/12_programming-basics.html#in-line-statements",
    "href": "slides/12_programming-basics.html#in-line-statements",
    "title": "MATH167R: Programming Basics",
    "section": "In-line Statements",
    "text": "In-line Statements\nIn general, it’s ok to drop the curly braces for very simple statements that fit on one line. However, function calls that affect control flow (return, stop, etc.) should always go in their own {} block:\n\n# Good\ny &lt;- 10\nx &lt;- if (y &lt; 20) \"Too low\" else \"Too high\"\n\nif (y &lt; 0) {\n  stop(\"Y is negative\")\n}\n\nfind_abs &lt;- function(x) {\n  if (x &gt; 0) {\n    return(x)\n  }\n  x * -1\n}"
  },
  {
    "objectID": "slides/12_programming-basics.html#in-line-statements-1",
    "href": "slides/12_programming-basics.html#in-line-statements-1",
    "title": "MATH167R: Programming Basics",
    "section": "In-line Statements",
    "text": "In-line Statements\nIn general, it’s ok to drop the curly braces for very simple statements that fit on one line. However, function calls that affect control flow (return, stop, etc.) should always go in their own {} block:\n\n# Bad\nif (y &lt; 0) stop(\"Y is negative\")\n\nif (y &lt; 0)\n  stop(\"Y is negative\")\n\nfind_abs &lt;- function(x) {\n  if (x &gt; 0) return(x)\n  x * -1\n}"
  },
  {
    "objectID": "slides/12_programming-basics.html#long-lines-in-functions",
    "href": "slides/12_programming-basics.html#long-lines-in-functions",
    "title": "MATH167R: Programming Basics",
    "section": "Long lines in functions",
    "text": "Long lines in functions\nIf a function definition runs over multiple lines, indent the second line to where the definition starts.\n\n# Good\nlong_function_name &lt;- function(a = \"a long argument\",\n                               b = \"another argument\",\n                               c = \"another long argument\") {\n  # As usual code is indented by two spaces.\n}\n\n# Bad\nlong_function_name &lt;- function(a = \"a long argument\",\n  b = \"another argument\",\n  c = \"another long argument\") {\n  # Here it's hard to spot where the definition ends and the\n  # code begins\n}"
  },
  {
    "objectID": "slides/12_programming-basics.html#return",
    "href": "slides/12_programming-basics.html#return",
    "title": "MATH167R: Programming Basics",
    "section": "return",
    "text": "return\nStrictly speaking, return is not necessary in a function definition. The function will output the last line of executable R code. The following function definitions will output the same results!\n\nAdd_Values &lt;- function(x, y) {\n  return(x + y)\n}\n\nAdd_Values &lt;- function(x, y) {\n  x + y\n}"
  },
  {
    "objectID": "slides/12_programming-basics.html#commenting-functions",
    "href": "slides/12_programming-basics.html#commenting-functions",
    "title": "MATH167R: Programming Basics",
    "section": "Commenting functions",
    "text": "Commenting functions\nFor now, when commenting functions, include (at least) 3 lines of comments:\n\na comment describing the purpose of a function\na comment describing each input\na comment describing the output\n\nThe function body should be commented as usual!"
  },
  {
    "objectID": "slides/12_programming-basics.html#commenting-functions-1",
    "href": "slides/12_programming-basics.html#commenting-functions-1",
    "title": "MATH167R: Programming Basics",
    "section": "Commenting functions",
    "text": "Commenting functions\n\n# Good ----\n# Function: square_plus_2, squares a number and then adds 2\n# Input: x, must be numeric\n# Output: numeric equal to x^2 + 2\nsquare_plus_2 &lt;- function(x) {\n  # check that x is numeric\n  if (!is.numeric(x)) {\n    stop(\"x must be numeric!\")\n  } else {\n    # if numeric, then square and add 2\n    y &lt;- x^2 + 2\n    return(y)\n  }\n}"
  },
  {
    "objectID": "slides/12_programming-basics.html#commenting-functions-2",
    "href": "slides/12_programming-basics.html#commenting-functions-2",
    "title": "MATH167R: Programming Basics",
    "section": "Commenting functions",
    "text": "Commenting functions\n\n# Bad ----\n# Function for problem 2c\nsquare_plus_2 &lt;- function(x) {\n  if (!is.numeric(x)) {\n    stop(\"x must be numeric!\")\n  } else {\n    y &lt;- x^2 + 2\n    return(y)\n  }\n}"
  },
  {
    "objectID": "slides/12_programming-basics.html#exercises",
    "href": "slides/12_programming-basics.html#exercises",
    "title": "MATH167R: Programming Basics",
    "section": "Exercises",
    "text": "Exercises\n\nWrite a function that takes as input three numbers, a, b, and c, and returns the sum, without using the sum function. Be sure to test your functions out on example input.\nWrite a function that takes as input one number, a, and returns its absolute value, without using the abs function."
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#warm-up",
    "href": "slides/03_functions-vectors-matrices.html#warm-up",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Warm-up",
    "text": "Warm-up\nDiscuss the following lines of code with a neighbor. What do they do?\n\nx &lt;- TRUE\ny &lt;- 3 &gt; 4\nx &lt;- x & y\nas.numeric(x)\n\n\nAnswer:\n\nx &lt;- TRUE\ny &lt;- 3 &gt; 4\nx &lt;- x & y\nas.numeric(x)\n\n[1] 0"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#overview-of-today",
    "href": "slides/03_functions-vectors-matrices.html#overview-of-today",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Overview of today",
    "text": "Overview of today\n\nFunctions and arguments\nVectors and matrices\nIndexing data"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#functions",
    "href": "slides/03_functions-vectors-matrices.html#functions",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Functions",
    "text": "Functions\n\n“To understand computations in R, two slogans are helpful: Everything that exists is an object. Everything that happens is a function call.”\n(Chambers, 2014)\n\nWe have already seen some functions, including the sample function:\n\nsides &lt;- 1:6\nrolls &lt;- sample(sides, 10, replace = T)\n\nand the typeof function:\n\nx &lt;- T\ntypeof(x)\n\n[1] \"logical\"\n\n\nFunctions provide code to execute some task given a set of inputs."
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#functions-1",
    "href": "slides/03_functions-vectors-matrices.html#functions-1",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Functions",
    "text": "Functions\nA function call is a command to execute the code of a function:\nfunction_name(argument1, argument2, ...)\nArguments or parameters are expressions/values that are the inputs to the function.\n\nexp(-1)\n\n[1] 0.3678794\n\nexp(0)\n\n[1] 1\n\n\nThe parentheses following the name of a function are still required even when there are no arguments:\n\nls()"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#functions-2",
    "href": "slides/03_functions-vectors-matrices.html#functions-2",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Functions",
    "text": "Functions\nWhenever you are using a function for the first time, it is good idea to access the documentation by typing ?function_name into the console.\n\n?exp"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#specifying-arguments",
    "href": "slides/03_functions-vectors-matrices.html#specifying-arguments",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Specifying arguments",
    "text": "Specifying arguments\nA formal argument is a named argument that is used in the code of a function.\nThe function args displays the formal arguments:\n\nargs(sample)\n\nfunction (x, size, replace = FALSE, prob = NULL) \nNULL\n\n\nAn actual argument t is the value specified by the user during a function call:\n\nsides &lt;- c(\"H\", \"T\")\nsample(x = sides, size = 1, replace = T)\n\n[1] \"H\""
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#matching-arguments",
    "href": "slides/03_functions-vectors-matrices.html#matching-arguments",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Matching arguments",
    "text": "Matching arguments\nThe two most common ways to specify arguments are positional and exact:\n\nPositional: the actual arguments are matched to the formal arguments in order:\n\n\nsample(sides, 1, T)\n\n[1] \"T\"\n\nsample(1, T, sides)\n\nError in sample.int(x, size, replace, prob): invalid 'replace' argument\n\n\n\nExact: the actual arguments are matched to the formal arguments using names:\n\n\nsample(size = 1, replace = T, x = sides)\n\n[1] \"H\""
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#check-your-understanding-functions",
    "href": "slides/03_functions-vectors-matrices.html#check-your-understanding-functions",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Check your understanding: functions",
    "text": "Check your understanding: functions\nHow can we use functions to compute (feel free to look online):\n\n\\(\\ln 10\\)\n\\(\\log_{10} 10\\)\n\n\nAnswer:\n\nlog(10)\n\n[1] 2.302585\n\nlog10(10)\n\n[1] 1"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#atomic-vectors",
    "href": "slides/03_functions-vectors-matrices.html#atomic-vectors",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Atomic Vectors",
    "text": "Atomic Vectors\n\nLast class, we introduced atomic vectors, but we only considered vectors of length one.\nGenerally, atomic vectors are sets of elements of the same type.\nWe create vectors using the function c()\n\nc(16, 3, 0, 7, -2)\n\n[1] 16  3  0  7 -2"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#accessing-elements-of-vectors",
    "href": "slides/03_functions-vectors-matrices.html#accessing-elements-of-vectors",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Accessing elements of vectors",
    "text": "Accessing elements of vectors\n\nWe index vectors using [index] after the vector name:\n\nx &lt;- c(16, 3, 0, 7, -2)\nx[3]\n\n[1] 0\n\nx[4]\n\n[1] 7\n\n\nIf we use a negative index, we return the vector with that element removed\n\nx[-4]\n\n[1] 16  3  0 -2"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#atomic-vectors-and-data-types",
    "href": "slides/03_functions-vectors-matrices.html#atomic-vectors-and-data-types",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Atomic vectors and data types",
    "text": "Atomic vectors and data types\nNote that atomic vectors can only have one type of data. So the following lines work:\n\nx &lt;- c(1, 2, 3)\ny &lt;- c(\"a\", \"b\", \"c\")\nz &lt;- c(T, F, T)\n\n\nbut when we try\n\nc(1, \"b\", 3)\n\n[1] \"1\" \"b\" \"3\"\n\n\nR will force the elements in our vector to be of the same type! This is a common source of bugs."
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#check-your-understanding-vectors",
    "href": "slides/03_functions-vectors-matrices.html#check-your-understanding-vectors",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Check your understanding: vectors",
    "text": "Check your understanding: vectors\nWhat do you expect the output of the following chunk to be?\n\nx &lt;- c(1, 2, 3)\ny &lt;- c(\"a\", \"b\", \"c\")\nc(x, y)\n\n\nAnswer:\n\nx &lt;- c(1, 2, 3)\ny &lt;- c(\"a\", \"b\", \"c\")\nc(x, y)\n\n[1] \"1\" \"2\" \"3\" \"a\" \"b\" \"c\"\n\n\nWe can use the c() function to concatenate vectors (forcing elements to be the same type)."
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#check-your-understanding-vectors-1",
    "href": "slides/03_functions-vectors-matrices.html#check-your-understanding-vectors-1",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Check your understanding: vectors",
    "text": "Check your understanding: vectors\nWhat do you expect the output of the following chunk to be?\n\nx &lt;- c(3 &gt; 4, T, 5 &gt; 6)\nx[3]\n\n\nAnswer:\n\nx &lt;- c(3 &gt; 4, T, 5 &gt; 6)\nx[3]\n\n[1] FALSE\n\n\nR evaluates expressions when creating vectors."
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#useful-functions-for-vectors",
    "href": "slides/03_functions-vectors-matrices.html#useful-functions-for-vectors",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Useful functions for vectors",
    "text": "Useful functions for vectors\n\nmax(), min(), mean(), median(), sum(), sd(), var()\nlength() returns the number of elements in the vector\nhead() and tail() return the beginning and end vectors\nsort() will sort\nsummary() returns a 5-number summary\nany() and all() to check conditions on Boolean vectors\nhist() will return a crude histogram (we’ll learn how to make this nicer later)\n\nIf you are unclear about what any of them do, use ? before the function name to read the documentation. You should get in the habit of checking function documentation a lot!"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#generating-vectors",
    "href": "slides/03_functions-vectors-matrices.html#generating-vectors",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Generating vectors",
    "text": "Generating vectors\nThe notation a:b generates integers starting at a and ending at b.\n\n1:6\n\n[1] 1 2 3 4 5 6\n\n\nThe rep function repeats values of the first argument.\n\nrep(\"Hello\", times = 3)\n\n[1] \"Hello\" \"Hello\" \"Hello\"\n\n\nThe rnorm function randomly generates n elements with the specified mean and sd.\n\nrnorm(n = 10, mean = 1, sd = 1)\n\n [1] 1.2163324 1.1123502 2.1436879 0.8103026 0.4956147 0.7263109 0.3594416\n [8] 1.7202686 0.1198069 1.1084473"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#matrices-1",
    "href": "slides/03_functions-vectors-matrices.html#matrices-1",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Matrices",
    "text": "Matrices\n\nMatrices are two-dimensional extensions of vectors: they have rows and columns\nWe can create a matrix using the function matrix()\n\n\nx &lt;- c(1, 2, 3, 4, 5)\ny &lt;- c(5, 4, 3, 2, 1)\nmy_matrix &lt;- matrix(c(x, y), nrow = 2, ncol = 5, byrow = TRUE)\nmy_matrix\n\n     [,1] [,2] [,3] [,4] [,5]\n[1,]    1    2    3    4    5\n[2,]    5    4    3    2    1"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#constructing-matrices",
    "href": "slides/03_functions-vectors-matrices.html#constructing-matrices",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Constructing matrices",
    "text": "Constructing matrices\n\n# Note: byrow = FALSE is the default\nmy_matrix2 &lt;- matrix(c(x, y), nrow = 2, ncol = 5)\nmy_matrix2\n\n     [,1] [,2] [,3] [,4] [,5]\n[1,]    1    3    5    4    2\n[2,]    2    4    5    3    1\n\n\nWarning: be careful not to call your matrix matrix! Why not?"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#constructing-matrices-1",
    "href": "slides/03_functions-vectors-matrices.html#constructing-matrices-1",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Constructing matrices",
    "text": "Constructing matrices\nWe can also generate matrices by column binding (cbind()) and row binding (rbind()) vectors\n\ncbind(x, y)\n\n     x y\n[1,] 1 5\n[2,] 2 4\n[3,] 3 3\n[4,] 4 2\n[5,] 5 1\n\nrbind(x, y)\n\n  [,1] [,2] [,3] [,4] [,5]\nx    1    2    3    4    5\ny    5    4    3    2    1"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#indexing-and-subsetting-matrices",
    "href": "slides/03_functions-vectors-matrices.html#indexing-and-subsetting-matrices",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Indexing and Subsetting Matrices",
    "text": "Indexing and Subsetting Matrices\nIndexing a matrix is similar to indexing a vector, except we must index both the row and column, in that order.\n\nmy_matrix\n\n     [,1] [,2] [,3] [,4] [,5]\n[1,]    1    2    3    4    5\n[2,]    5    4    3    2    1\n\n\nWhat is the output of the following line?\n\nmy_matrix[2, 3]\n\n\n\n\n[1] 3"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#indexing-and-subsetting-matrices-1",
    "href": "slides/03_functions-vectors-matrices.html#indexing-and-subsetting-matrices-1",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Indexing and Subsetting Matrices",
    "text": "Indexing and Subsetting Matrices\n\nmy_matrix\n\n     [,1] [,2] [,3] [,4] [,5]\n[1,]    1    2    3    4    5\n[2,]    5    4    3    2    1\n\n\nWhat is the output of the following line?\n\nmy_matrix[2, c(1, 3, 5)]\n\n\n\n\n[1] 5 3 1"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#dropping-entries",
    "href": "slides/03_functions-vectors-matrices.html#dropping-entries",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Dropping entries",
    "text": "Dropping entries\nAlso similarly to vectors, we can subset using a negative index.\n\nmy_matrix\n\n     [,1] [,2] [,3] [,4] [,5]\n[1,]    1    2    3    4    5\n[2,]    5    4    3    2    1\n\nmy_matrix[-2, -4]\n\n[1] 1 2 3 5\n\n# Note: Leaving an index blank includes all indices\nmy_matrix[, -c(1, 3, 4, 5)]\n\n[1] 2 4"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#dropping-entries-1",
    "href": "slides/03_functions-vectors-matrices.html#dropping-entries-1",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Dropping entries",
    "text": "Dropping entries\n\nmy_matrix[, -c(1, 3, 4, 5)]\n\n[1] 2 4\n\nis.matrix(my_matrix[, -c(1, 3, 4, 5)])\n\n[1] FALSE\n\n\nWhat happened here? When subsetting a matrix reduces one dimension to length 1, R automatically coerces it into a vector. We can prevent this by including drop = FALSE."
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#dropping-entries-2",
    "href": "slides/03_functions-vectors-matrices.html#dropping-entries-2",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Dropping entries",
    "text": "Dropping entries\n\nmy_matrix[, -c(1, 3, 4, 5), drop = FALSE]\n\n     [,1]\n[1,]    2\n[2,]    4\n\nis.matrix(my_matrix[, -c(1, 3, 4, 5), drop = FALSE])\n\n[1] TRUE"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#filling-in-a-matrix",
    "href": "slides/03_functions-vectors-matrices.html#filling-in-a-matrix",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Filling in a Matrix",
    "text": "Filling in a Matrix\nWe can also fill in an empty matrix using indices. In R, you should always start by initializing an empty matrix of the right size.\n\nmy_results &lt;- matrix(NA, nrow = 3, ncol = 3)\nmy_results\n\n     [,1] [,2] [,3]\n[1,]   NA   NA   NA\n[2,]   NA   NA   NA\n[3,]   NA   NA   NA"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#filling-in-a-matrix-1",
    "href": "slides/03_functions-vectors-matrices.html#filling-in-a-matrix-1",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Filling in a Matrix",
    "text": "Filling in a Matrix\nThen I can replace a single row (or column) using indices as follows.\n\nmy_results[2, ] &lt;- c(2, 4, 3)\nmy_results\n\n     [,1] [,2] [,3]\n[1,]   NA   NA   NA\n[2,]    2    4    3\n[3,]   NA   NA   NA\n\n\nWe can also fill in multiple rows (or columns) at once. (Likewise, we can also do subsets of rows/columns, or unique entries). Note that recycling applies here.\n\nmy_results[c(1, 3), ] &lt;- 7\nmy_results\n\n     [,1] [,2] [,3]\n[1,]    7    7    7\n[2,]    2    4    3\n[3,]    7    7    7"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#matrix-data-types",
    "href": "slides/03_functions-vectors-matrices.html#matrix-data-types",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Matrix Data Types",
    "text": "Matrix Data Types\nMatrices, like vectors, can only have entries of one type.\n\nrbind(c(1, 2, 3), c(\"a\", \"b\", \"c\"))\n\n     [,1] [,2] [,3]\n[1,] \"1\"  \"2\"  \"3\" \n[2,] \"a\"  \"b\"  \"c\""
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#matrix-functions",
    "href": "slides/03_functions-vectors-matrices.html#matrix-functions",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Matrix functions",
    "text": "Matrix functions\nLet’s create 3 matrices for the purposes of demonstrating matrix functions.\n\nmat1 &lt;- matrix(1:6, nrow = 2, ncol = 3, byrow = TRUE)\nmat1\n\n     [,1] [,2] [,3]\n[1,]    1    2    3\n[2,]    4    5    6\n\nmat2 &lt;- matrix(1:6, nrow = 3, ncol = 2)\nmat2\n\n     [,1] [,2]\n[1,]    1    4\n[2,]    2    5\n[3,]    3    6\n\n\n\nmat3 &lt;- matrix(5:10, nrow = 2, ncol = 3, byrow = TRUE)\nmat3\n\n     [,1] [,2] [,3]\n[1,]    5    6    7\n[2,]    8    9   10"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#matrix-functions-1",
    "href": "slides/03_functions-vectors-matrices.html#matrix-functions-1",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Matrix functions",
    "text": "Matrix functions\nMatrix Sums +\n\nmat1 + mat3\n\n     [,1] [,2] [,3]\n[1,]    6    8   10\n[2,]   12   14   16\n\n\nElement-wise Matrix Multiplication *\n\nmat1 * mat3\n\n     [,1] [,2] [,3]\n[1,]    5   12   21\n[2,]   32   45   60"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#matrix-functions-2",
    "href": "slides/03_functions-vectors-matrices.html#matrix-functions-2",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Matrix functions",
    "text": "Matrix functions\nMatrix Multiplication %*%\n\nmat_square &lt;- mat1 %*% mat2\nmat_square\n\n     [,1] [,2]\n[1,]   14   32\n[2,]   32   77\n\n\nColumn Bind Matrices cbind()\n\ncbind(mat1, mat3)\n\n     [,1] [,2] [,3] [,4] [,5] [,6]\n[1,]    1    2    3    5    6    7\n[2,]    4    5    6    8    9   10"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#matrix-functions-3",
    "href": "slides/03_functions-vectors-matrices.html#matrix-functions-3",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Matrix functions",
    "text": "Matrix functions\nTranspose t()\n\nt(mat1)\n\n     [,1] [,2]\n[1,]    1    4\n[2,]    2    5\n[3,]    3    6\n\n\nColumn Sums colSums()\n\ncolSums(mat1)\n\n[1] 5 7 9"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#matrix-functions-4",
    "href": "slides/03_functions-vectors-matrices.html#matrix-functions-4",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Matrix functions",
    "text": "Matrix functions\nRow Sums rowSums()\n\nrowSums(mat1)\n\n[1]  6 15\n\n\nColumn Means colMeans()\n\ncolMeans(mat1)\n\n[1] 2.5 3.5 4.5"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#matrix-functions-5",
    "href": "slides/03_functions-vectors-matrices.html#matrix-functions-5",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Matrix functions",
    "text": "Matrix functions\nRow Means rowMeans()\n\nrowMeans(mat1)\n\n[1] 2 5\n\n\nDimensions dim()\n\ndim(mat1)\n\n[1] 2 3"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#matrix-functions-6",
    "href": "slides/03_functions-vectors-matrices.html#matrix-functions-6",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Matrix functions",
    "text": "Matrix functions\nDeterminant det()\n\ndet(mat_square)\n\n[1] 54\n\n\nMatrix Inverse solve()\n\nsolve(mat_square)\n\n           [,1]       [,2]\n[1,]  1.4259259 -0.5925926\n[2,] -0.5925926  0.2592593\n\n\nMatrix Diagonal diag()\n\ndiag(mat_square)\n\n[1] 14 77"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#what-is-a-comment",
    "href": "slides/03_functions-vectors-matrices.html#what-is-a-comment",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "What is a comment?",
    "text": "What is a comment?\n\nComputers completely ignore comments (in R, any line preceded by #)\nComments do not impact the functionality of your code at all."
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#so-why-do-them",
    "href": "slides/03_functions-vectors-matrices.html#so-why-do-them",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "So why do them…",
    "text": "So why do them…\n\nCommenting a code allows you to write notes for readers of your code only\nUsually, that reader is you!\nCoding without comments is ill-advised, bordering on impossible\nSneak peak at functions…"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#example",
    "href": "slides/03_functions-vectors-matrices.html#example",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Example",
    "text": "Example\n\n#' Wald-type t test\n#' @param mod an object of class \\code{bbdml}\n#' @return Matrix with wald test statistics and p-values. Univariate tests only.\nwaldt &lt;- function(mod) {\n  # Covariance matrix\n  covMat &lt;- try(chol2inv(chol(hessian(mod))), silent = TRUE)\n  if (class(covMat) == \"try-error\") {\n    warning(\"Singular Hessian! Cannot calculate p-values in this setting.\")\n    np &lt;- length(mod$param)\n    se &lt;- tvalue &lt;- pvalue &lt;- rep(NA, np)\n  } else {\n    # Standard errors\n    se &lt;- sqrt(diag(covMat))\n    # test statistic\n    tvalue &lt;- mod$param/se\n    # P-value\n    pvalue &lt;- 2*stats::pt(-abs(tvalue), mod$df.residual)\n  }\n  # make table\n  coef.table &lt;- cbind(mod$param, se, tvalue, pvalue)\n  dimnames(coef.table) &lt;- list(names(mod$param),\n                               c(\"Estimate\", \"Std. Error\", \"t value\", \"Pr(&gt;|t|)\"))\n  return(coef.table)\n}"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#comment-style-guide",
    "href": "slides/03_functions-vectors-matrices.html#comment-style-guide",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Comment Style Guide",
    "text": "Comment Style Guide\nFrequent use of comments should allow most comments to be restricted to one line for readability\nA comment should go above its corresponding line, be indented equally with the next line, and use a single # to mark a comment\nUse a string of - or = to break your code into easily noticeable chunks - Example: # Data Manipulation ----------- - RStudio allows you to collapse chunks marked like this to help with clutter"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#comment-style-guide-1",
    "href": "slides/03_functions-vectors-matrices.html#comment-style-guide-1",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Comment Style Guide",
    "text": "Comment Style Guide\nThere are exceptions to every rule! Usually, comments are to help you!\nExample of breaking rules\nHere’s a snippet of a long mathematical function (lots of code omitted with ellipses for space).\nCode is divided into major steps marked by easily visible comments"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#example-of-breaking-rules",
    "href": "slides/03_functions-vectors-matrices.html#example-of-breaking-rules",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Example of breaking rules",
    "text": "Example of breaking rules\n\nobjfun &lt;- function(theta, W, M, X, X_star, np, npstar, link, phi.link) {\n\n  ### STEP 1 - Negative Log-likelihood\n\n  # extract matrix of betas (np x 1), first np entries\n  b      &lt;- utils::head(theta, np)\n  # extract matrix of beta stars (npstar x 1), last npstar entries\n  b_star &lt;- utils::tail(theta, npstar)\n\n  ...\n\n  ### STEP 2 - Gradient\n\n  # define gam\n  gam &lt;- phi/(1 - phi)"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#a-final-plea",
    "href": "slides/03_functions-vectors-matrices.html#a-final-plea",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "A final plea",
    "text": "A final plea\nBeing a successful programmer requires commenting your code\nWant to understand code you wrote &gt;24 hours ago without comments?"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#what-style",
    "href": "slides/03_functions-vectors-matrices.html#what-style",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "What style",
    "text": "What style\nWe will be using a mix of the Tidyverse Style Guide by Hadley Wickham and the Google Style Guide. Please see the links for details, but I will summarize some main points here and throughout the class as we learn more functionality, such as functions and packages.\nYou may be graded on following good code style."
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#object-names",
    "href": "slides/03_functions-vectors-matrices.html#object-names",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Object Names",
    "text": "Object Names\nUse either underscores (_) or big camel case (BigCamelCase) to separate words within an object name. Do not use dots . to separate words in R functions!\n\n# Good\nday_one\nday_1\nDayOne\n\n# Bad\ndayone"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#object-names-1",
    "href": "slides/03_functions-vectors-matrices.html#object-names-1",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Object Names",
    "text": "Object Names\nNames should be concise, meaningful, and (generally) nouns.\n\n# Good\nday_one\n\n# Bad\nfirst_day_of_the_month\ndjm1"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#object-names-2",
    "href": "slides/03_functions-vectors-matrices.html#object-names-2",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Object Names",
    "text": "Object Names\nIt is very important that object names do not write over common functions!\n\n# Very extra super bad\nc &lt;- 7\nt &lt;- 23\nT &lt;- FALSE\nmean &lt;- \"something\"\n\nNote: T and F are R shorthand for TRUE and FALSE, respectively. In general, spell them out to be as clear as possible."
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#spacing",
    "href": "slides/03_functions-vectors-matrices.html#spacing",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Spacing",
    "text": "Spacing\nPut a space after every comma, just like in English writing.\n\n# Good\nx[, 1]\n\n# Bad\nx[,1]\nx[ ,1]\nx[ , 1]\n\nDo not put spaces inside or outside parentheses for regular function calls.\n\n# Good\nmean(x, na.rm = TRUE)\n\n# Bad\nmean (x, na.rm = TRUE)\nmean( x, na.rm = TRUE )"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#spacing-with-operators",
    "href": "slides/03_functions-vectors-matrices.html#spacing-with-operators",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Spacing with Operators",
    "text": "Spacing with Operators\nMost of the time when you are doing math, conditionals, logicals, or assignment, your operators should be surrounded by spaces. (e.g. for ==, +, -, &lt;-, etc.)\n\n# Good\nheight &lt;- (feet * 12) + inches\nmean(x, na.rm = 10)\n\n# Bad\nheight&lt;-feet*12+inches\nmean(x, na.rm=10)\n\nThere are some exceptions we will learn more about later, such as the power symbol ^. See the Tidyverse Style Guide for more details!"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#extra-spacing",
    "href": "slides/03_functions-vectors-matrices.html#extra-spacing",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Extra Spacing",
    "text": "Extra Spacing\nAdding extra spaces ok if it improves alignment of = or &lt;-.\n\n# Good\nlist(\n  total = a + b + c,\n  mean  = (a + b + c) / n\n)\n\n# Also fine\nlist(\n  total = a + b + c,\n  mean = (a + b + c) / n\n)"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#long-lines-of-code",
    "href": "slides/03_functions-vectors-matrices.html#long-lines-of-code",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Long Lines of Code",
    "text": "Long Lines of Code\nStrive to limit your code to 80 characters per line. This fits comfortably on a printed page with a reasonably sized font.\nIf a function call is too long to fit on a single line, use one line each for the function name, each argument, and the closing ). This makes the code easier to read and to change later.\n\n# Good\ndo_something_very_complicated(\n  something = \"that\",\n  requires = many,\n  arguments = \"some of which may be long\"\n)\n\n# Bad\ndo_something_very_complicated(\"that\", requires, many, arguments,\n                              \"some of which may be long\"\n                              )\n\nTip! Try RStudio &gt; Preferences &gt; Code &gt; Display &gt; Show Margin with Margin column 80 to give yourself a visual cue!"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#assignment",
    "href": "slides/03_functions-vectors-matrices.html#assignment",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Assignment",
    "text": "Assignment\nWe use &lt;- instead of = for assignment. This is moderately controversial if you find yourself in the right (wrong?) communities.\n\n# Good\nx &lt;- 5\n\n# Bad\nx = 5"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#semicolons",
    "href": "slides/03_functions-vectors-matrices.html#semicolons",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Semicolons",
    "text": "Semicolons\nIn R, semi-colons (;) are used to execute pieces of R code on a single line. In general, this is bad practice and should be avoided. Also, you never need to end lines of code with semi-colons!\n\n# Bad\na &lt;- 2; b &lt;- 3\n\n# Also bad\na &lt;- 2;\nb &lt;- 3;\n\n# Good\na &lt;- 2\nb &lt;- 3"
  },
  {
    "objectID": "slides/03_functions-vectors-matrices.html#quotes-and-strings",
    "href": "slides/03_functions-vectors-matrices.html#quotes-and-strings",
    "title": "MATH167R: Functions, vectors, and matrices",
    "section": "Quotes and Strings",
    "text": "Quotes and Strings\nUse \", not ', for quoting text. The only exception is when the text already contains double quotes and no single quotes.\n\n# Bad\n'Text'\n'Text with \"double\" and \\'single\\' quotes'\n\n# Good\n\"Text\"\n'Text with \"quotes\"'\n'&lt;a href=\"http://style.tidyverse.org\"&gt;A link&lt;/a&gt;'"
  },
  {
    "objectID": "slides/24_linear-regression.html#overview-of-today",
    "href": "slides/24_linear-regression.html#overview-of-today",
    "title": "MATH167R: Linear regression",
    "section": "Overview of today",
    "text": "Overview of today\n\nCovariance and correlation\nLinear regression"
  },
  {
    "objectID": "slides/24_linear-regression.html#relating-numerical-variables",
    "href": "slides/24_linear-regression.html#relating-numerical-variables",
    "title": "MATH167R: Linear regression",
    "section": "Relating numerical variables",
    "text": "Relating numerical variables"
  },
  {
    "objectID": "slides/24_linear-regression.html#covariance-and-correlation",
    "href": "slides/24_linear-regression.html#covariance-and-correlation",
    "title": "MATH167R: Linear regression",
    "section": "Covariance and correlation",
    "text": "Covariance and correlation\nIn statistics, correlation and covariance usually refer to a specific type of association.\n\nIf \\(X\\) and \\(Y\\) are linearly associated, then they are correlated."
  },
  {
    "objectID": "slides/24_linear-regression.html#correlation",
    "href": "slides/24_linear-regression.html#correlation",
    "title": "MATH167R: Linear regression",
    "section": "Correlation",
    "text": "Correlation\nCorrelation can also refer to the correlation coefficient.\nThe (Pearson) correlation coefficient \\(R\\) is a statistic between \\(-1\\) and 1 that describes the strength and direction of the linear relationship between two variables.\n\\[R = \\frac{1}{n-1}\\sum_{i=1}^n\\frac{x_i-\\overline{x}}{s_x}\\frac{y_i-\\overline{y}}{s_y}\\]\nThe sign of \\(R\\) indicates the direction of the relationship. The absolute value of \\(R\\) indicates the strength."
  },
  {
    "objectID": "slides/24_linear-regression.html#correlation-and-covariance",
    "href": "slides/24_linear-regression.html#correlation-and-covariance",
    "title": "MATH167R: Linear regression",
    "section": "Correlation and covariance",
    "text": "Correlation and covariance\n\nattach(mtcars)\ncor(mpg, wt)\n\n[1] -0.8676594\n\ncov(mpg, wt)\n\n[1] -5.116685"
  },
  {
    "objectID": "slides/24_linear-regression.html#pairs-plots-for-assessing-many-relationships",
    "href": "slides/24_linear-regression.html#pairs-plots-for-assessing-many-relationships",
    "title": "MATH167R: Linear regression",
    "section": "Pairs plots for assessing many relationships",
    "text": "Pairs plots for assessing many relationships\n\npairs(~mpg + hp + wt, mtcars)"
  },
  {
    "objectID": "slides/24_linear-regression.html#regression-methods",
    "href": "slides/24_linear-regression.html#regression-methods",
    "title": "MATH167R: Linear regression",
    "section": "Regression methods",
    "text": "Regression methods\nAssume we have some data:\n\n\\(X_1,\\ldots, X_p\\): \\(p\\) independent variables/explanatory variables/covariates/predictors\n\\(Y\\): the dependent variables/response/outcome.\n\nWe want to know the relationship between our covariates and our response, we can do this with a method called regression. Regression provides us with a statistical method to conduct inference and prediction."
  },
  {
    "objectID": "slides/24_linear-regression.html#regression-methods-1",
    "href": "slides/24_linear-regression.html#regression-methods-1",
    "title": "MATH167R: Linear regression",
    "section": "Regression methods",
    "text": "Regression methods\n\ninference: assess the relationship between our variables, our statistical model as a whole, predictor importance\n\nWhat is the relationship between sleep and GPA?\nIs parents’ education or parents’ income more important for explaining income?\n\nprediction: predict new/future outcomes from new/future covariates\n\nCan we predict test scores based on hours spent studying?"
  },
  {
    "objectID": "slides/24_linear-regression.html#why-is-it-called-regression",
    "href": "slides/24_linear-regression.html#why-is-it-called-regression",
    "title": "MATH167R: Linear regression",
    "section": "Why is it called regression?",
    "text": "Why is it called regression?"
  },
  {
    "objectID": "slides/24_linear-regression.html#simple-linear-regression",
    "href": "slides/24_linear-regression.html#simple-linear-regression",
    "title": "MATH167R: Linear regression",
    "section": "Simple linear regression",
    "text": "Simple linear regression\nHow does the speed of a car affect its stopping distance?\n\nplot(dist ~ speed, data = cars,\n     xlab = \"Speed (mph)\",\n     ylab = \"Stopping Distance (ft)\",\n     pch  = 16, col = \"blue\")"
  },
  {
    "objectID": "slides/24_linear-regression.html#simple-linear-regression-1",
    "href": "slides/24_linear-regression.html#simple-linear-regression-1",
    "title": "MATH167R: Linear regression",
    "section": "Simple linear regression",
    "text": "Simple linear regression\nSuppose \\(x_1,\\ldots, x_n\\) represent the speed values of each car in our dataset. Let \\(Y_1,\\ldots, Y_n\\) represent the dist variable.\nThe simple linear regression model is given by \\[Y_i=\\beta_0+\\beta_1x_i+\\epsilon_i\\] where:\n\n\\(\\beta_0\\) is the intercept parameter\n\\(\\beta_1\\) is the slope parameter\n\\(\\epsilon_i\\) represents iid \\(N(0,\\sigma^2)\\) errors, where \\(\\sigma^2\\) is the variance of \\(\\epsilon_i\\)."
  },
  {
    "objectID": "slides/24_linear-regression.html#simple-linear-regression-2",
    "href": "slides/24_linear-regression.html#simple-linear-regression-2",
    "title": "MATH167R: Linear regression",
    "section": "Simple linear regression",
    "text": "Simple linear regression\nUnder this model, we can also write that \\[Y_i\\mid X_i= x_i\\sim N(\\beta_0+\\beta_1x_i, \\sigma^2)\\] As a result \\[E(Y_i\\mid X_i= x_i)= \\beta_0+\\beta_1x_i\\] \\[\\mathrm{Var}(Y_i\\mid X_i= x_i)= \\sigma^2\\]"
  },
  {
    "objectID": "slides/24_linear-regression.html#simple-linear-regression-3",
    "href": "slides/24_linear-regression.html#simple-linear-regression-3",
    "title": "MATH167R: Linear regression",
    "section": "Simple linear regression",
    "text": "Simple linear regression\nTypically, we say there are four assumptions for simple linear regression:\n\nLinearity: The relationship between \\(X\\) and \\(E(Y\\mid X)\\) is linear: \\[E(Y_i\\mid X_i= x_i)= \\beta_0+\\beta_1x_i\\]\nIndependence: The observations \\(Y_1,\\ldots, Y_n\\) are independent of each other.\nNormality: \\[Y_i\\mid X_i= x_i\\sim N(\\beta_0+\\beta_1x_i, \\sigma^2)\\]\nEqual variance: The variance of the errors \\(\\epsilon_i\\) is the same for all values of \\(x_i\\).\n\nNote that even if one or more of these assumptions breaks, linear regression can still be useful if used with caution."
  },
  {
    "objectID": "slides/24_linear-regression.html#simple-linear-regression-least-squares",
    "href": "slides/24_linear-regression.html#simple-linear-regression-least-squares",
    "title": "MATH167R: Linear regression",
    "section": "Simple linear regression: Least squares",
    "text": "Simple linear regression: Least squares\nTypically, we start with data \\(Y_1,\\ldots, Y_n\\) and \\(x_1,\\ldots, x_n\\). How do we estimate \\(\\beta_0\\) and \\(\\beta_1\\)?\nIn other words, what is the best line to use for modeling the relationship between \\(X\\) and \\(Y\\)?\nUsually, we use the least squares line, which is the solution to the following optimization problem: \\[\\arg\\min\\sum_{i=1}^n (y_i-(\\beta_0+\\beta_1x_i))^2=\\arg\\min\\sum_{i=1}^n (y_i-\\widehat{y}_i)^2\\] where \\(\\widehat{y}_i\\) is the model prediction for \\(y_i\\)."
  },
  {
    "objectID": "slides/24_linear-regression.html#simple-linear-regression-the-lm-function",
    "href": "slides/24_linear-regression.html#simple-linear-regression-the-lm-function",
    "title": "MATH167R: Linear regression",
    "section": "Simple linear regression: the lm function",
    "text": "Simple linear regression: the lm function\n\nlm_res = lm(dist ~ speed, data = cars)\nlm_res\n\n\nCall:\nlm(formula = dist ~ speed, data = cars)\n\nCoefficients:\n(Intercept)        speed  \n    -17.579        3.932"
  },
  {
    "objectID": "slides/24_linear-regression.html#simple-linear-regression-the-lm-function-1",
    "href": "slides/24_linear-regression.html#simple-linear-regression-the-lm-function-1",
    "title": "MATH167R: Linear regression",
    "section": "Simple linear regression: the lm function",
    "text": "Simple linear regression: the lm function\n\nplot(dist ~ speed, data = cars,\n     xlab = \"Speed (mph)\",\n     ylab = \"Stopping Distance (ft)\", \n     pch  = 16, col  = \"blue\")\nabline(lm_res,  col = \"red\")"
  },
  {
    "objectID": "slides/24_linear-regression.html#simple-linear-regression-inference",
    "href": "slides/24_linear-regression.html#simple-linear-regression-inference",
    "title": "MATH167R: Linear regression",
    "section": "Simple linear regression: Inference",
    "text": "Simple linear regression: Inference\nFor the simple linear regression model, typically we wish to carry out inference on \\(\\beta_1\\). One way to do so is via a hypothesis test:\n\\(H_0:\\beta_1=0\\) \\(H_a:\\beta_1\\not=0\\)\n\nsummary(lm_res)\n\n\nCall:\nlm(formula = dist ~ speed, data = cars)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-29.069  -9.525  -2.272   9.215  43.201 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept) -17.5791     6.7584  -2.601   0.0123 *  \nspeed         3.9324     0.4155   9.464 1.49e-12 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 15.38 on 48 degrees of freedom\nMultiple R-squared:  0.6511,    Adjusted R-squared:  0.6438 \nF-statistic: 89.57 on 1 and 48 DF,  p-value: 1.49e-12"
  },
  {
    "objectID": "slides/24_linear-regression.html#simple-linear-regression-inference-1",
    "href": "slides/24_linear-regression.html#simple-linear-regression-inference-1",
    "title": "MATH167R: Linear regression",
    "section": "Simple linear regression: Inference",
    "text": "Simple linear regression: Inference\nWe can also construct a confidence interval for \\(\\beta_1\\) if our focus isn’t on developing evidence against any null hypothesis:\n\nconfint(lm_res)\n\n                 2.5 %    97.5 %\n(Intercept) -31.167850 -3.990340\nspeed         3.096964  4.767853"
  },
  {
    "objectID": "slides/24_linear-regression.html#simple-linear-regression-prediction",
    "href": "slides/24_linear-regression.html#simple-linear-regression-prediction",
    "title": "MATH167R: Linear regression",
    "section": "Simple linear regression: Prediction",
    "text": "Simple linear regression: Prediction\nPrediction generally involves estimating the value of new data \\(Y_{n+1}\\) given \\(X_{n+1}\\). We can use the predict() function with our lm() results:\n\npredict(lm_res,\n        newdata = list(speed = 19.5))\n\n       1 \n59.10288 \n\n# get prediction interval\npredict(lm_res, \n        newdata = list(speed = 19.5),\n        interval = \"prediction\")\n\n       fit      lwr      upr\n1 59.10288 27.68517 90.52059"
  },
  {
    "objectID": "slides/24_linear-regression.html#simple-linear-regression-prediction-1",
    "href": "slides/24_linear-regression.html#simple-linear-regression-prediction-1",
    "title": "MATH167R: Linear regression",
    "section": "Simple linear regression: Prediction",
    "text": "Simple linear regression: Prediction\nNote that the predict() function can also be used to generate “confidence” intervals:\n\ninterval = \"prediction\": Construct a confidence interval for \\(Y_{n+1}|X_{n+1}=x_{n+1}\\), the value of a new observation for which \\(X_{n+1}=x_{n+1}\\)\ninterval = \"confidence\": Construct a confidence interval for \\(E(Y_{n+1}|X_{n+1}=x_{n+1})\\), the value of the conditional mean when \\(X_{n+1}=x_{n+1}\\)"
  },
  {
    "objectID": "slides/24_linear-regression.html#simple-linear-regression-prediction-2",
    "href": "slides/24_linear-regression.html#simple-linear-regression-prediction-2",
    "title": "MATH167R: Linear regression",
    "section": "Simple linear regression: Prediction",
    "text": "Simple linear regression: Prediction\n\n# prediction interval\npredict(lm_res, \n        newdata = list(speed = 19.5),\n        interval = \"prediction\")\n\n       fit      lwr      upr\n1 59.10288 27.68517 90.52059\n\n# confidence interval\npredict(lm_res, \n        newdata = list(speed = 19.5),\n        interval = \"confidence\")\n\n       fit      lwr     upr\n1 59.10288 53.54796 64.6578"
  },
  {
    "objectID": "slides/24_linear-regression.html#warm-up",
    "href": "slides/24_linear-regression.html#warm-up",
    "title": "MATH167R: Linear regression",
    "section": "Warm-up",
    "text": "Warm-up\nWhat is the method of least squares and how does it relate to linear regression?\nClassify the following questions as inference or prediction:\n\nCan we use high school students’ SAT/ACT scores to estimate their college GPAs?\nIs there an association between political candidates’ heights and the number of votes they receive?\nDo states with higher minimum wages have lower poverty rates?"
  },
  {
    "objectID": "slides/24_linear-regression.html#simple-linear-regression-checking-assumptions",
    "href": "slides/24_linear-regression.html#simple-linear-regression-checking-assumptions",
    "title": "MATH167R: Linear regression",
    "section": "Simple linear regression: Checking assumptions",
    "text": "Simple linear regression: Checking assumptions\nTypically, we say there are four assumptions for simple linear regression:\n\nLinearity: The relationship between \\(X\\) and \\(E(Y\\mid X)\\) is linear: \\[E(Y_i\\mid X_i= x_i)= \\beta_0+\\beta_1x_i\\]\nIndependence: The observations \\(Y_1,\\ldots, Y_n\\) are independent of each other.\nNormality: \\[Y_i\\mid X_i= x_i\\sim N(\\beta_0+\\beta_1x_i, \\sigma^2)\\]\nEqual variance: The variance of the errors \\(\\epsilon_i\\) is the same for all values of \\(x_i\\)."
  },
  {
    "objectID": "slides/24_linear-regression.html#checking-linearity",
    "href": "slides/24_linear-regression.html#checking-linearity",
    "title": "MATH167R: Linear regression",
    "section": "Checking linearity",
    "text": "Checking linearity\n\n\nLinear\n\n\n\n\n\n\n\n\n\n\nNonlinear"
  },
  {
    "objectID": "slides/24_linear-regression.html#checking-linearity-with-residual-plot",
    "href": "slides/24_linear-regression.html#checking-linearity-with-residual-plot",
    "title": "MATH167R: Linear regression",
    "section": "Checking linearity with residual plot",
    "text": "Checking linearity with residual plot\nWe can also plot the residuals against our independent variable, where we define the residual as follows: \\[\\widehat{\\epsilon}_i = \\mathrm{Residual} = \\mathrm{Observed} - \\mathrm{Predicted}=y -\\widehat{y}\\]"
  },
  {
    "objectID": "slides/24_linear-regression.html#checking-linearity-with-residual-plot-1",
    "href": "slides/24_linear-regression.html#checking-linearity-with-residual-plot-1",
    "title": "MATH167R: Linear regression",
    "section": "Checking linearity with residual plot",
    "text": "Checking linearity with residual plot\n\n\nLinear\n\n\n\n\n\n\n\n\n\n\nNonlinear"
  },
  {
    "objectID": "slides/24_linear-regression.html#checking-independence",
    "href": "slides/24_linear-regression.html#checking-independence",
    "title": "MATH167R: Linear regression",
    "section": "Checking independence",
    "text": "Checking independence\nChecking independence is typically more difficult. We require that conditional on the dependent variables \\(x_1,\\ldots, x_n\\), the response variables \\(Y_1,\\ldots, Y_n\\) are independent.\nExample of independence: survey data obtained via simple random sampling\nExample of dependence: height and weight measurements of penguins, where each penguin is measured twice"
  },
  {
    "objectID": "slides/24_linear-regression.html#checking-normality-of-errors",
    "href": "slides/24_linear-regression.html#checking-normality-of-errors",
    "title": "MATH167R: Linear regression",
    "section": "Checking normality of errors",
    "text": "Checking normality of errors\nCan you spot the difference?\n\n\nNormal errors\n\n\n\n\n\n\n\n\n\n\nNon-normal errors"
  },
  {
    "objectID": "slides/24_linear-regression.html#checking-normality-of-errors-with-quantile-quantile-plot",
    "href": "slides/24_linear-regression.html#checking-normality-of-errors-with-quantile-quantile-plot",
    "title": "MATH167R: Linear regression",
    "section": "Checking normality of errors with quantile-quantile plot",
    "text": "Checking normality of errors with quantile-quantile plot\nWe can use a quantile-quantile plot to see whether our estimated residuals are approximately normally distributed.\n\nlm_res &lt;- lm(dist ~ speed, cars)\nqqnorm(resid(lm_res))\nqqline(resid(lm_res))"
  },
  {
    "objectID": "slides/24_linear-regression.html#checking-normality-of-errors-with-quantile-quantile-plot-1",
    "href": "slides/24_linear-regression.html#checking-normality-of-errors-with-quantile-quantile-plot-1",
    "title": "MATH167R: Linear regression",
    "section": "Checking normality of errors with quantile-quantile plot",
    "text": "Checking normality of errors with quantile-quantile plot\nWhat do you notice?"
  },
  {
    "objectID": "slides/24_linear-regression.html#checking-normality-of-errors-with-quantile-quantile-plot-2",
    "href": "slides/24_linear-regression.html#checking-normality-of-errors-with-quantile-quantile-plot-2",
    "title": "MATH167R: Linear regression",
    "section": "Checking normality of errors with quantile-quantile plot",
    "text": "Checking normality of errors with quantile-quantile plot\n\n\nNormal errors\n\n\n\n\n\n\n\n\n\n\nNon-normal errors"
  },
  {
    "objectID": "slides/24_linear-regression.html#checking-equal-variances-homoskedasticity",
    "href": "slides/24_linear-regression.html#checking-equal-variances-homoskedasticity",
    "title": "MATH167R: Linear regression",
    "section": "Checking equal variances (homoskedasticity)",
    "text": "Checking equal variances (homoskedasticity)\nCan you spot the difference?\n\n\nEqual variances\n\n\n\n\n\n\n\n\n\n\nUnequal variances"
  },
  {
    "objectID": "slides/24_linear-regression.html#checking-equal-variances-homoskedasticity-with-residual-plot",
    "href": "slides/24_linear-regression.html#checking-equal-variances-homoskedasticity-with-residual-plot",
    "title": "MATH167R: Linear regression",
    "section": "Checking equal variances (homoskedasticity) with residual plot",
    "text": "Checking equal variances (homoskedasticity) with residual plot\nCan you spot the difference using the residual plot?\n\n\nEqual variances\n\n\n\n\n\n\n\n\n\n\nUnequal variances"
  },
  {
    "objectID": "slides/24_linear-regression.html#multiple-linear-regression",
    "href": "slides/24_linear-regression.html#multiple-linear-regression",
    "title": "MATH167R: Linear regression",
    "section": "Multiple linear regression",
    "text": "Multiple linear regression\nWhat if we have multiple input variables?\n\ndata(mtcars)\nhead(mtcars)\n\n                   mpg cyl disp  hp drat    wt  qsec vs am gear carb\nMazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4\nMazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4\nDatsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1\nHornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1\nHornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2\nValiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1"
  },
  {
    "objectID": "slides/24_linear-regression.html#multiple-linear-regression-1",
    "href": "slides/24_linear-regression.html#multiple-linear-regression-1",
    "title": "MATH167R: Linear regression",
    "section": "Multiple linear regression",
    "text": "Multiple linear regression\nGiven our response \\(Y\\) and our predictors \\(X_1, \\ldots, X_p\\), a linear regression model takes the form:\n\\[\n\\begin{align}\nY &= \\beta_0 + \\beta_1 X_1 + \\cdots + \\beta_p X_p + \\epsilon,\\\\\n\\epsilon &\\sim N(0,\\sigma^2)\n\\end{align}\n\\]\nNote: If we wish to include a categorical covariate, we can add indicator variables for each category."
  },
  {
    "objectID": "slides/24_linear-regression.html#multiple-linear-regression-2",
    "href": "slides/24_linear-regression.html#multiple-linear-regression-2",
    "title": "MATH167R: Linear regression",
    "section": "Multiple linear regression",
    "text": "Multiple linear regression\n\\[\n\\begin{align}\nY &= \\beta_0 + \\beta_1 X_1 + \\cdots + \\beta_p X_p + \\epsilon,\\\\\n\\epsilon &\\sim N(0,\\sigma^2)\n\\end{align}\n\\]\n\n\\(Y\\): dependent variable, outcome, response\n\\(X_j\\): independent variable, covariate, predictor\n\\(\\beta_0\\): Intercept\n\\(\\beta_j\\): coefficient, the expected difference in the response between two observations differing by one unit in \\(X_j\\), with all other covariates identical.\n\\(\\epsilon\\): error, noise, with mean \\(0\\) and variance \\(\\sigma^2\\)"
  },
  {
    "objectID": "slides/24_linear-regression.html#multiple-linear-regression-example",
    "href": "slides/24_linear-regression.html#multiple-linear-regression-example",
    "title": "MATH167R: Linear regression",
    "section": "Multiple linear regression: example",
    "text": "Multiple linear regression: example\nConsider the following example using the penguins data.\n\nlibrary(palmerpenguins)\ndata(penguins)\nhead(penguins)\n\n# A tibble: 6 × 8\n  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g\n  &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;\n1 Adelie  Torgersen           39.1          18.7               181        3750\n2 Adelie  Torgersen           39.5          17.4               186        3800\n3 Adelie  Torgersen           40.3          18                 195        3250\n4 Adelie  Torgersen           NA            NA                  NA          NA\n5 Adelie  Torgersen           36.7          19.3               193        3450\n6 Adelie  Torgersen           39.3          20.6               190        3650\n# ℹ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;"
  },
  {
    "objectID": "slides/24_linear-regression.html#multiple-linear-regression-example-1",
    "href": "slides/24_linear-regression.html#multiple-linear-regression-example-1",
    "title": "MATH167R: Linear regression",
    "section": "Multiple linear regression: example",
    "text": "Multiple linear regression: example\nSuppose we are interested in predicting body_mass_g using flipper_length_mm.\n\nggplot(penguins, mapping = aes(x = flipper_length_mm, y = body_mass_g)) +\n  geom_point() +\n  geom_smooth(method = \"lm\")"
  },
  {
    "objectID": "slides/24_linear-regression.html#multiple-linear-regression-example-2",
    "href": "slides/24_linear-regression.html#multiple-linear-regression-example-2",
    "title": "MATH167R: Linear regression",
    "section": "Multiple linear regression: example",
    "text": "Multiple linear regression: example\n\nlm_res &lt;- lm(body_mass_g ~ flipper_length_mm, data = penguins)\nsummary(lm_res)\n\n\nCall:\nlm(formula = body_mass_g ~ flipper_length_mm, data = penguins)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-1058.80  -259.27   -26.88   247.33  1288.69 \n\nCoefficients:\n                   Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)       -5780.831    305.815  -18.90   &lt;2e-16 ***\nflipper_length_mm    49.686      1.518   32.72   &lt;2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 394.3 on 340 degrees of freedom\n  (2 observations deleted due to missingness)\nMultiple R-squared:  0.759, Adjusted R-squared:  0.7583 \nF-statistic:  1071 on 1 and 340 DF,  p-value: &lt; 2.2e-16"
  },
  {
    "objectID": "slides/24_linear-regression.html#multiple-linear-regression-example-3",
    "href": "slides/24_linear-regression.html#multiple-linear-regression-example-3",
    "title": "MATH167R: Linear regression",
    "section": "Multiple linear regression: example",
    "text": "Multiple linear regression: example\nConsider the following residual plot, where we define the residual as follows: \\[\\mathrm{Residual} = \\mathrm{Observed} - \\mathrm{Predicted}=y -\\widehat{y}\\]"
  },
  {
    "objectID": "slides/24_linear-regression.html#multiple-linear-regression-example-4",
    "href": "slides/24_linear-regression.html#multiple-linear-regression-example-4",
    "title": "MATH167R: Linear regression",
    "section": "Multiple linear regression: example",
    "text": "Multiple linear regression: example\nWhat if I also want to include species in the model? There are a few ways to do so."
  },
  {
    "objectID": "slides/24_linear-regression.html#multiple-linear-regression-group-intercepts",
    "href": "slides/24_linear-regression.html#multiple-linear-regression-group-intercepts",
    "title": "MATH167R: Linear regression",
    "section": "Multiple linear regression: Group intercepts",
    "text": "Multiple linear regression: Group intercepts\nThe first way is to add species into the formula for our linear regression model:\n\nlm_species_res &lt;- lm(body_mass_g ~ flipper_length_mm + species,\n                     data = penguins)\nsummary(lm_species_res)\n\n\nCall:\nlm(formula = body_mass_g ~ flipper_length_mm + species, data = penguins)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-927.70 -254.82  -23.92  241.16 1191.68 \n\nCoefficients:\n                   Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)       -4031.477    584.151  -6.901 2.55e-11 ***\nflipper_length_mm    40.705      3.071  13.255  &lt; 2e-16 ***\nspeciesChinstrap   -206.510     57.731  -3.577 0.000398 ***\nspeciesGentoo       266.810     95.264   2.801 0.005392 ** \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 375.5 on 338 degrees of freedom\n  (2 observations deleted due to missingness)\nMultiple R-squared:  0.7826,    Adjusted R-squared:  0.7807 \nF-statistic: 405.7 on 3 and 338 DF,  p-value: &lt; 2.2e-16"
  },
  {
    "objectID": "slides/24_linear-regression.html#multiple-linear-regression-group-intercepts-1",
    "href": "slides/24_linear-regression.html#multiple-linear-regression-group-intercepts-1",
    "title": "MATH167R: Linear regression",
    "section": "Multiple linear regression: Group intercepts",
    "text": "Multiple linear regression: Group intercepts\nIn this case, the model is as follows: \\[Y=\\beta_0+\\beta_1x_1+\\beta_2x_2+\\beta_3x_3+\\epsilon_i\\] where:\n\n\\(Y\\) is body_mass_g\n\\(x_1\\) is flipper_length_mm\n\\(x_2\\) is a dummy variable equal to 1 if the penguin is Chinstrap and 0 otherwise.\n\\(x_3\\) is a dummy variable equal to 1 if the penguin is Gentoo and 0 otherwise.\n\nWhat happened to the Adelie penguins?"
  },
  {
    "objectID": "slides/24_linear-regression.html#multiple-linear-regression-group-intercepts-2",
    "href": "slides/24_linear-regression.html#multiple-linear-regression-group-intercepts-2",
    "title": "MATH167R: Linear regression",
    "section": "Multiple linear regression: Group intercepts",
    "text": "Multiple linear regression: Group intercepts\nWhen including a categorical variable in a linear regression model, R automatically treats one category as the reference group.\nThe value of the intercept \\(\\beta_0\\) thus represents the expected value of \\(Y\\) when \\(x_1\\) is zero for an Adelie penguin.\nHow do we interpret the other \\(\\beta\\) parameters?"
  },
  {
    "objectID": "slides/24_linear-regression.html#multiple-linear-regression-group-intercepts-3",
    "href": "slides/24_linear-regression.html#multiple-linear-regression-group-intercepts-3",
    "title": "MATH167R: Linear regression",
    "section": "Multiple linear regression: Group intercepts",
    "text": "Multiple linear regression: Group intercepts\n\n\\(\\beta_1\\) represents the expected change in \\(Y\\) when flipper length increases by 1 mm.\n\\(\\beta_2+\\beta_0\\) represents the expected value of \\(Y\\) when \\(x_1\\) is zero for a Chinstrap penguin.\n\\(\\beta_2+\\beta_0\\) represents the expected value of \\(Y\\) when \\(x_1\\) is zero for a Gentoo penguin."
  },
  {
    "objectID": "slides/24_linear-regression.html#multiple-linear-regression-group-intercepts-4",
    "href": "slides/24_linear-regression.html#multiple-linear-regression-group-intercepts-4",
    "title": "MATH167R: Linear regression",
    "section": "Multiple linear regression: Group intercepts",
    "text": "Multiple linear regression: Group intercepts\nThis model thus yields three parallel lines, one for each group."
  },
  {
    "objectID": "slides/24_linear-regression.html#multiple-linear-regression-example-5",
    "href": "slides/24_linear-regression.html#multiple-linear-regression-example-5",
    "title": "MATH167R: Linear regression",
    "section": "Multiple linear regression: example",
    "text": "Multiple linear regression: example\nNow we obtain the following residual plot:"
  },
  {
    "objectID": "slides/24_linear-regression.html#multiple-linear-regression-group-specific-slopes",
    "href": "slides/24_linear-regression.html#multiple-linear-regression-group-specific-slopes",
    "title": "MATH167R: Linear regression",
    "section": "Multiple linear regression: Group-specific slopes",
    "text": "Multiple linear regression: Group-specific slopes\nThe previous model gave us group-specific intercepts, resulting in parallel lines. What if we want to let the slope vary across each species?"
  },
  {
    "objectID": "slides/24_linear-regression.html#multiple-linear-regression-group-specific-slopes-1",
    "href": "slides/24_linear-regression.html#multiple-linear-regression-group-specific-slopes-1",
    "title": "MATH167R: Linear regression",
    "section": "Multiple linear regression: Group-specific slopes",
    "text": "Multiple linear regression: Group-specific slopes\nThe standard approach is to introduce interaction terms:\n\nlm_int_res &lt;- lm(body_mass_g ~ flipper_length_mm * species,\n                     data = penguins)\nsummary(lm_int_res)\n\n\nCall:\nlm(formula = body_mass_g ~ flipper_length_mm * species, data = penguins)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-911.18 -251.93  -31.77  197.82 1144.81 \n\nCoefficients:\n                                    Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)                        -2535.837    879.468  -2.883  0.00419 ** \nflipper_length_mm                     32.832      4.627   7.095 7.69e-12 ***\nspeciesChinstrap                    -501.359   1523.459  -0.329  0.74229    \nspeciesGentoo                      -4251.444   1427.332  -2.979  0.00311 ** \nflipper_length_mm:speciesChinstrap     1.742      7.856   0.222  0.82467    \nflipper_length_mm:speciesGentoo       21.791      6.941   3.139  0.00184 ** \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 370.6 on 336 degrees of freedom\n  (2 observations deleted due to missingness)\nMultiple R-squared:  0.7896,    Adjusted R-squared:  0.7864 \nF-statistic: 252.2 on 5 and 336 DF,  p-value: &lt; 2.2e-16"
  },
  {
    "objectID": "slides/24_linear-regression.html#multiple-linear-regression-group-specific-slopes-2",
    "href": "slides/24_linear-regression.html#multiple-linear-regression-group-specific-slopes-2",
    "title": "MATH167R: Linear regression",
    "section": "Multiple linear regression: Group-specific slopes",
    "text": "Multiple linear regression: Group-specific slopes\nThe standard approach is to introduce interaction terms:\n\\[Y=\\beta_0+\\beta_1x_1+\\beta_2x_2+\\beta_3x_3+\\beta_4(x_1 * x_2) + \\beta_5(x_1*x_3)+\\epsilon_i\\] where:\n\n\\(\\beta_1\\) is now the slope for our reference group (Adelie)\n\\(\\beta_1+\\beta_4\\) is the slope for Chinstrap\n\\(\\beta_1+\\beta_5\\) is the slope for Gentoo"
  },
  {
    "objectID": "slides/24_linear-regression.html#linear-regression",
    "href": "slides/24_linear-regression.html#linear-regression",
    "title": "MATH167R: Linear regression",
    "section": "Linear Regression",
    "text": "Linear Regression\nWe can fully write out a linear regression model\n\\[\n\\begin{equation}\n\\begin{bmatrix} y_1 \\\\ y_2\\\\ \\vdots \\\\ y_n \\end{bmatrix} =\n\\begin{bmatrix} 1 & x_{1,1} & \\cdots & x_{1,k}\\\\\n1 & x_{2,1} & \\cdots & x_{2, k}\\\\\n\\vdots & \\vdots & \\ddots & \\vdots \\\\\n1 & x_{n,1} & \\cdots & x_{n, k}\\end{bmatrix}\n\\begin{bmatrix} \\beta_0 \\\\ \\beta_1 \\\\ \\vdots \\\\ \\beta_{k} \\end{bmatrix} +\n\\begin{bmatrix} \\epsilon_1 \\\\ \\epsilon_2 \\\\ \\vdots \\\\ \\epsilon_{n} \\end{bmatrix}\n\\end{equation}\n\\]"
  },
  {
    "objectID": "slides/24_linear-regression.html#matrix-notation",
    "href": "slides/24_linear-regression.html#matrix-notation",
    "title": "MATH167R: Linear regression",
    "section": "Matrix Notation",
    "text": "Matrix Notation\nThis can also be expressed in matrix form:\n\\[\n\\begin{align}\n\\mathbf{Y} &= \\mathbf{X}\\beta + \\epsilon,\\\\\n\\epsilon &\\sim N(0,1)\n\\end{align}\n\\]\n\n\\(\\mathbf{Y} \\in \\mathbb{R}^{n \\times 1}\\): an n-dimensional vector of the response\n\\(\\mathbf{X} \\in \\mathbb{R}^{n \\times (k+1)}\\): a \\(((k+1)\\times n)\\) matrix of the predictors (including intercept)\n\\(\\beta \\in \\mathbb{R}^{((k+1)\\times 1)}\\): a \\((k+1)\\)-dimensional vector of regression parameters\n\\(\\epsilon \\in \\mathbb{R}^{n \\times 1}\\): an n-dimensional vector of the error term"
  },
  {
    "objectID": "slides/24_linear-regression.html#large-epsilon-error-term",
    "href": "slides/24_linear-regression.html#large-epsilon-error-term",
    "title": "MATH167R: Linear regression",
    "section": "\\(\\large \\epsilon\\): Error term",
    "text": "\\(\\large \\epsilon\\): Error term\n\\(\\epsilon\\), pronounced epsilon, represents the error term of our model. We can model \\(Y\\) as a linear function of the \\(X\\)’s, but in the real world, the relationship won’t always be perfect. There is noise! It can come from\n\nMeasurement error in the \\(X\\)’s\nMeasurement error in the \\(Y\\)’s\nUnobserved/missing variables in the model\nDeviations in the true model from linearity\nTrue randomness\n\nIn linear regression, we assume that this error term is normally distributed with mean zero and variance \\(\\sigma^2\\)."
  },
  {
    "objectID": "slides/24_linear-regression.html#beta_0-intercept",
    "href": "slides/24_linear-regression.html#beta_0-intercept",
    "title": "MATH167R: Linear regression",
    "section": "\\(\\beta_0\\): Intercept",
    "text": "\\(\\beta_0\\): Intercept\n\\(\\beta_0\\) is the intercept term of our model. Notice that\n\\[\\mathbb{E}[Y|X_1 = X_2 = \\cdots = X_p = 0] = \\beta_0\\]\nThus, \\(\\beta_0\\) is the expected value of our response if all the covariates are equal to \\(0\\). This is also known as the y-intercept of our model."
  },
  {
    "objectID": "slides/24_linear-regression.html#x_j-independent-variable",
    "href": "slides/24_linear-regression.html#x_j-independent-variable",
    "title": "MATH167R: Linear regression",
    "section": "\\(X_j\\): Independent variable",
    "text": "\\(X_j\\): Independent variable\n\\(X_j\\) represents the \\(j\\)th independent variable in our model. Notice that \\[\\mathbb{E}[Y|X_1,\\ldots, X_p] = \\beta_0 + \\beta_1 X_1 + \\cdots + \\beta_p X_p\\] What happens to this expectation if we increase \\(X_j\\) by 1 unit, holding everything else constant?\nThe conditional expectation of \\(Y\\) increases by \\(\\beta_j\\)."
  },
  {
    "objectID": "slides/24_linear-regression.html#beta_j-coefficient",
    "href": "slides/24_linear-regression.html#beta_j-coefficient",
    "title": "MATH167R: Linear regression",
    "section": "\\(\\beta_j\\): Coefficient",
    "text": "\\(\\beta_j\\): Coefficient\n\\(\\beta_j\\) represents the \\(j\\)th regression coefficient in our model. From the previous slide, we saw that for every 1 unit increase in \\(X_j\\), holding all other variables constant, the expected value of the response increases by \\(\\beta_j\\). From this we can derive an interpretation.\nInterpretation of \\(\\beta_j\\): the expected difference in the response between two observations differing by one unit in \\(X_j\\), with all other covariates identical."
  },
  {
    "objectID": "slides/24_linear-regression.html#lm-linear-model",
    "href": "slides/24_linear-regression.html#lm-linear-model",
    "title": "MATH167R: Linear regression",
    "section": "lm(): Linear Model",
    "text": "lm(): Linear Model\nWe fit a linear regression model in R using lm(). The first argument is a formula, which is a type of R object. Formulas typically take the following form: Y ~ X_1 + X_2 + ... + X_p.\nThe dependent variable, Y goes on the left-hand side of the tilde ~, which marks the formula. The independent variables are added on the right-hand side. Using this formula will give us a model in the form of\n\\[\n\\begin{align}\nY &= \\beta_0 + \\beta_1 X_1 + \\cdots + \\beta_p X_p + \\epsilon,\\\\\n\\epsilon &\\sim N(0,\\sigma^2)\n\\end{align}\n\\]"
  },
  {
    "objectID": "slides/24_linear-regression.html#lm-linear-model-1",
    "href": "slides/24_linear-regression.html#lm-linear-model-1",
    "title": "MATH167R: Linear regression",
    "section": "lm(): Linear Model",
    "text": "lm(): Linear Model\n\ndata(mtcars)\nmy_lm &lt;- lm(mpg ~ hp + wt, data = mtcars)\nclass(my_lm)\n\n[1] \"lm\"\n\nmy_lm\n\n\nCall:\nlm(formula = mpg ~ hp + wt, data = mtcars)\n\nCoefficients:\n(Intercept)           hp           wt  \n   37.22727     -0.03177     -3.87783"
  },
  {
    "objectID": "slides/24_linear-regression.html#lm-linear-model-2",
    "href": "slides/24_linear-regression.html#lm-linear-model-2",
    "title": "MATH167R: Linear regression",
    "section": "lm(): Linear Model",
    "text": "lm(): Linear Model\nWe can see from names() that lm objects contain a lot more than they print out by default.\n\nnames(my_lm)\n\n [1] \"coefficients\"  \"residuals\"     \"effects\"       \"rank\"         \n [5] \"fitted.values\" \"assign\"        \"qr\"            \"df.residual\"  \n [9] \"xlevels\"       \"call\"          \"terms\"         \"model\""
  },
  {
    "objectID": "slides/24_linear-regression.html#summary-model-summaries",
    "href": "slides/24_linear-regression.html#summary-model-summaries",
    "title": "MATH167R: Linear regression",
    "section": "summary() Model summaries",
    "text": "summary() Model summaries\nsummary() or summary.lm() gives us a summary of our lm object in R.\n\nThe quantiles of the residuals: hopefully, they match a normal distribution.\nCoefficients, their standard errors, and their individual significances\n(Adjusted) R-squared value: how much of the overall variability in the response is explained by the model?\nF-statistic: hypothesis test for the significance of the overall model"
  },
  {
    "objectID": "slides/24_linear-regression.html#summary-model-summaries-1",
    "href": "slides/24_linear-regression.html#summary-model-summaries-1",
    "title": "MATH167R: Linear regression",
    "section": "summary() Model summaries",
    "text": "summary() Model summaries\n\nsummary(my_lm)\n\n\nCall:\nlm(formula = mpg ~ hp + wt, data = mtcars)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n-3.941 -1.600 -0.182  1.050  5.854 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept) 37.22727    1.59879  23.285  &lt; 2e-16 ***\nhp          -0.03177    0.00903  -3.519  0.00145 ** \nwt          -3.87783    0.63273  -6.129 1.12e-06 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 2.593 on 29 degrees of freedom\nMultiple R-squared:  0.8268,    Adjusted R-squared:  0.8148 \nF-statistic: 69.21 on 2 and 29 DF,  p-value: 9.109e-12"
  },
  {
    "objectID": "slides/24_linear-regression.html#plot-regression-model-diagnostics",
    "href": "slides/24_linear-regression.html#plot-regression-model-diagnostics",
    "title": "MATH167R: Linear regression",
    "section": "plot(): Regression model diagnostics",
    "text": "plot(): Regression model diagnostics\nCalling plot(my_lm) will return several diagnostic plots. Remember that we want our error term to look normally distributed with mean zero. We won’t go into all the details for this class, but here are some tips:\n\nResiduals vs Fitted: these are your errors (residuals) plotted over the predicted outcome (fitted). Errors should be random, so here you want to see randomly scattered points with no discernable pattern. You want the trend line to be approximately horizontal.\nNormal Q-Q plot: These are the quantiles of your errors against the quantiles of a normal distribution. In theory, your errors should be normally distributed, so you are hoping that points are mostly along the 45-degree \\(y=x\\) line."
  },
  {
    "objectID": "slides/24_linear-regression.html#plot-regression-model-diagnostics-1",
    "href": "slides/24_linear-regression.html#plot-regression-model-diagnostics-1",
    "title": "MATH167R: Linear regression",
    "section": "plot(): Regression model diagnostics",
    "text": "plot(): Regression model diagnostics\n\nScale-location: This looks at the magnitude of standardized residuals over the predicted outcome. Similar interpretation as residuals vs fitted. This can make it slightly easier to identify undesireable patterns.\nResiduals vs leverage: This can help identify highly influential points, such as outliers. If points are outside dotted red lines, then removing them would noticeably alter your results. Never just remove outliers! If it’s real data, it’s valid and removing it will bias your results. It is much more important to understand why outliers are there than to remove them."
  },
  {
    "objectID": "slides/24_linear-regression.html#plot-regression-model-diagnostics-2",
    "href": "slides/24_linear-regression.html#plot-regression-model-diagnostics-2",
    "title": "MATH167R: Linear regression",
    "section": "plot(): Regression model diagnostics",
    "text": "plot(): Regression model diagnostics\n\nplot(my_lm)"
  },
  {
    "objectID": "slides/24_linear-regression.html#plot-regression-model-diagnostics-3",
    "href": "slides/24_linear-regression.html#plot-regression-model-diagnostics-3",
    "title": "MATH167R: Linear regression",
    "section": "plot(): Regression model diagnostics",
    "text": "plot(): Regression model diagnostics"
  },
  {
    "objectID": "slides/24_linear-regression.html#plot-regression-model-diagnostics-4",
    "href": "slides/24_linear-regression.html#plot-regression-model-diagnostics-4",
    "title": "MATH167R: Linear regression",
    "section": "plot(): Regression model diagnostics",
    "text": "plot(): Regression model diagnostics"
  },
  {
    "objectID": "slides/24_linear-regression.html#plot-regression-model-diagnostics-5",
    "href": "slides/24_linear-regression.html#plot-regression-model-diagnostics-5",
    "title": "MATH167R: Linear regression",
    "section": "plot(): Regression model diagnostics",
    "text": "plot(): Regression model diagnostics"
  },
  {
    "objectID": "slides/24_linear-regression.html#coef-extract-coefficients",
    "href": "slides/24_linear-regression.html#coef-extract-coefficients",
    "title": "MATH167R: Linear regression",
    "section": "coef(): Extract coefficients",
    "text": "coef(): Extract coefficients\nUse coef() to extract estimated coefficients as a vector.\n\ncoef(my_lm)\n\n(Intercept)          hp          wt \n37.22727012 -0.03177295 -3.87783074"
  },
  {
    "objectID": "slides/24_linear-regression.html#fitted-extract-fitted-values",
    "href": "slides/24_linear-regression.html#fitted-extract-fitted-values",
    "title": "MATH167R: Linear regression",
    "section": "fitted() Extract fitted values",
    "text": "fitted() Extract fitted values\nUse fitted() to extract the fitted/estimated values for the response. This can be useful to compare how our fitted values compare to the estimated values to help assess model fit.\n\nlibrary(ggplot2)\nmod_fits &lt;- fitted(my_lm)\nmy_df &lt;- data.frame(actual = mtcars$mpg, fitted = mod_fits)\nggplot(my_df, aes(x = fitted, y = actual)) +\n  geom_point() +\n  geom_abline(slope = 1, intercept = 0, col = \"red\", lty = 2) + \n  theme_bw(base_size = 15) +\n  labs(x = \"Fitted values\", y = \"Actual values\", title = \"Actual vs. Fitted\") +\n  theme(plot.title = element_text(hjust = 0.5))"
  },
  {
    "objectID": "slides/24_linear-regression.html#fitted-extract-fitted-values-1",
    "href": "slides/24_linear-regression.html#fitted-extract-fitted-values-1",
    "title": "MATH167R: Linear regression",
    "section": "fitted() Extract fitted values",
    "text": "fitted() Extract fitted values"
  },
  {
    "objectID": "slides/24_linear-regression.html#predict-predict-new-outcomes",
    "href": "slides/24_linear-regression.html#predict-predict-new-outcomes",
    "title": "MATH167R: Linear regression",
    "section": "predict(): Predict new outcomes",
    "text": "predict(): Predict new outcomes\nUse predict() to predict new outcomes given new explanatory variables. For example, pretend we observe two new cars with horsepowers of 100 and 150, respectively, and weights of 3000 and 3500, respectively.\n\n# Note: wt is in 1000s of lbs\nnew_obs &lt;- data.frame(hp = c(100, 150), wt = c(3, 3.5))\npredict(my_lm, new_obs)\n\n       1        2 \n22.41648 18.88892 \n\n\nWe’ll come back to prediction in future lectures."
  },
  {
    "objectID": "slides/24_linear-regression.html#residuals-compute-residuals",
    "href": "slides/24_linear-regression.html#residuals-compute-residuals",
    "title": "MATH167R: Linear regression",
    "section": "residuals(): Compute residuals",
    "text": "residuals(): Compute residuals\nUse residuals() to compute the residuals for fitted values.\n\nresiduals(my_lm)\n\n          Mazda RX4       Mazda RX4 Wag          Datsun 710      Hornet 4 Drive \n        -2.57232940         -1.58348256         -2.47581872          0.13497989 \n  Hornet Sportabout             Valiant          Duster 360           Merc 240D \n         0.37273336         -2.37381631         -1.29904236          1.51293266 \n           Merc 230            Merc 280           Merc 280C          Merc 450SE \n         0.80632669         -0.77945988         -2.17945988          0.67463146 \n         Merc 450SL         Merc 450SLC  Cadillac Fleetwood Lincoln Continental \n         0.25616901         -1.64993945          0.04479541          1.03726743 \n  Chrysler Imperial            Fiat 128         Honda Civic      Toyota Corolla \n         5.50751301          5.80097202          1.08761978          5.85379085 \n      Toyota Corona    Dodge Challenger         AMC Javelin          Camaro Z28 \n        -3.08644148         -3.31136386         -3.94097947         -1.25202805 \n   Pontiac Firebird           Fiat X1-9       Porsche 914-2        Lotus Europa \n         2.44325481         -0.32665313         -0.03737415          2.63023081 \n     Ford Pantera L        Ferrari Dino       Maserati Bora          Volvo 142E \n        -0.74648866         -1.22541324          2.26052287         -1.58364943"
  },
  {
    "objectID": "slides/24_linear-regression.html#manipulating-formulas",
    "href": "slides/24_linear-regression.html#manipulating-formulas",
    "title": "MATH167R: Linear regression",
    "section": "Manipulating formulas",
    "text": "Manipulating formulas\nWorking with formulas in R can be somewhat confusing, so it is important to understand how formulas work to make sure you are fitting the intended model."
  },
  {
    "objectID": "slides/24_linear-regression.html#section",
    "href": "slides/24_linear-regression.html#section",
    "title": "MATH167R: Linear regression",
    "section": "- 1",
    "text": "- 1\nUse - 1 to remove an intercept from your model. Only do this if you are very sure that what you are doing is appropriate. I don’t recommend doing this in practice.\n\nno_intercept &lt;- lm(mpg ~ hp + wt - 1, data = mtcars)\nsummary(no_intercept)\n\n\nCall:\nlm(formula = mpg ~ hp + wt - 1, data = mtcars)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-19.407  -2.382   2.511   7.091  23.885 \n\nCoefficients:\n   Estimate Std. Error t value Pr(&gt;|t|)   \nhp -0.03394    0.03940  -0.861   0.3959   \nwt  6.84045    1.89425   3.611   0.0011 **\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 11.32 on 30 degrees of freedom\nMultiple R-squared:  0.7264,    Adjusted R-squared:  0.7082 \nF-statistic: 39.83 on 2 and 30 DF,  p-value: 3.599e-09"
  },
  {
    "objectID": "slides/24_linear-regression.html#operator",
    "href": "slides/24_linear-regression.html#operator",
    "title": "MATH167R: Linear regression",
    "section": ": operator",
    "text": ": operator\nUse X1:X2 to include an interaction effect in your model. This is useful if you have reason to believe two covariates interact, such as gender and education in a wage model. In our case, we’ll assume horsepower and weight interact in their effect on mpg.\nTypically (always?), if you include an interaction effect, you should also include the marginal effects. You can do this automatically using X1*X2."
  },
  {
    "objectID": "slides/24_linear-regression.html#operator-1",
    "href": "slides/24_linear-regression.html#operator-1",
    "title": "MATH167R: Linear regression",
    "section": ": operator",
    "text": ": operator\n\ninteract &lt;- lm(mpg ~ hp:wt, data = mtcars)\nsummary(interact)\n\n\nCall:\nlm(formula = mpg ~ hp:wt, data = mtcars)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-4.8831 -2.0952 -0.4577  1.2262  7.9282 \n\nCoefficients:\n             Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept) 27.745642   1.062236   26.12  &lt; 2e-16 ***\nhp:wt       -0.014872   0.001727   -8.61 1.32e-09 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 3.288 on 30 degrees of freedom\nMultiple R-squared:  0.7119,    Adjusted R-squared:  0.7023 \nF-statistic: 74.14 on 1 and 30 DF,  p-value: 1.321e-09"
  },
  {
    "objectID": "slides/24_linear-regression.html#operator-2",
    "href": "slides/24_linear-regression.html#operator-2",
    "title": "MATH167R: Linear regression",
    "section": "* operator",
    "text": "* operator\n\ninteract &lt;- lm(mpg ~ hp*wt, data = mtcars)\nsummary(interact)\n\n\nCall:\nlm(formula = mpg ~ hp * wt, data = mtcars)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-3.0632 -1.6491 -0.7362  1.4211  4.5513 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept) 49.80842    3.60516  13.816 5.01e-14 ***\nhp          -0.12010    0.02470  -4.863 4.04e-05 ***\nwt          -8.21662    1.26971  -6.471 5.20e-07 ***\nhp:wt        0.02785    0.00742   3.753 0.000811 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 2.153 on 28 degrees of freedom\nMultiple R-squared:  0.8848,    Adjusted R-squared:  0.8724 \nF-statistic: 71.66 on 3 and 28 DF,  p-value: 2.981e-13"
  },
  {
    "objectID": "slides/24_linear-regression.html#operator-3",
    "href": "slides/24_linear-regression.html#operator-3",
    "title": "MATH167R: Linear regression",
    "section": ". operator",
    "text": ". operator\nUse ~ . to include all non-response variables in the input data as independent variables.\n\n\n\nCall:\nlm(formula = mpg ~ ., data = mtcars)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-3.4506 -1.6044 -0.1196  1.2193  4.6271 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)  \n(Intercept) 12.30337   18.71788   0.657   0.5181  \ncyl         -0.11144    1.04502  -0.107   0.9161  \ndisp         0.01334    0.01786   0.747   0.4635  \nhp          -0.02148    0.02177  -0.987   0.3350  \ndrat         0.78711    1.63537   0.481   0.6353  \nwt          -3.71530    1.89441  -1.961   0.0633 .\nqsec         0.82104    0.73084   1.123   0.2739  \nvs           0.31776    2.10451   0.151   0.8814  \nam           2.52023    2.05665   1.225   0.2340  \ngear         0.65541    1.49326   0.439   0.6652  \ncarb        -0.19942    0.82875  -0.241   0.8122  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 2.65 on 21 degrees of freedom\nMultiple R-squared:  0.869, Adjusted R-squared:  0.8066 \nF-statistic: 13.93 on 10 and 21 DF,  p-value: 3.793e-07"
  },
  {
    "objectID": "slides/24_linear-regression.html#estimation",
    "href": "slides/24_linear-regression.html#estimation",
    "title": "MATH167R: Linear regression",
    "section": "Estimation",
    "text": "Estimation\nHow do we choose/estimate \\(\\beta_{(k+1)\\times1}\\)?\nLeast squares finds the line that minimizes the squared distance between the points and the line, i.e. makes \\[\\left[y_i - (\\beta_0 + \\beta_1 x_{i, 1} + \\dots + \\beta_k x_{i,k})\\right]^2\\] as small as possible for all \\(i = 1, \\dots, n\\).\nThe vector \\(\\widehat{\\beta}\\) that minimizes the sum of the squared distances is ()\n\\[ \\widehat{\\beta}=\\left(\\mathbf{X}^T \\mathbf{X} \\right)^{-1}\\mathbf{X}^T \\mathbf{Y}.\\]\nNote: In statistics, once we have estimated a parameter we put a “hat” on it, e.g. \\(\\widehat{\\beta_0}\\) is the estimate of the true parameter \\(\\beta_0\\)."
  },
  {
    "objectID": "slides/24_linear-regression.html#overview-of-today-1",
    "href": "slides/24_linear-regression.html#overview-of-today-1",
    "title": "MATH167R: Linear regression",
    "section": "Overview of today",
    "text": "Overview of today\n\nReview of linear regression\nWhy use a linear model?\nPitfalls of linear regression: breaking assumptions and more"
  },
  {
    "objectID": "slides/24_linear-regression.html#why-linear-regression",
    "href": "slides/24_linear-regression.html#why-linear-regression",
    "title": "MATH167R: Linear regression",
    "section": "Why linear regression?",
    "text": "Why linear regression?\nRegression methods focus on modeling the relationship between response \\(Y\\) and explanatory variables \\(X_1,\\ldots, X_p\\).\nLinear regression proposes a model of the form \\[Y=\\beta_0+\\beta_1X_1+\\cdots +\\beta_p X_p+\\epsilon; \\hspace{1em} \\epsilon\\sim N(0, \\sigma^2)\\] Sometimes, the following weaker form is used (why is this weaker?) \\[E(Y\\mid X_1,\\ldots, X_p)=\\beta_0+\\beta_1X_1+\\cdots +\\beta_p X_p\\] In other words, the expected value of \\(Y\\) (given \\(X_1,\\ldots, X_p\\)) is a linear transformation of \\(X_1,\\ldots, X_p\\)."
  },
  {
    "objectID": "slides/24_linear-regression.html#why-linear-regression-1",
    "href": "slides/24_linear-regression.html#why-linear-regression-1",
    "title": "MATH167R: Linear regression",
    "section": "Why linear regression?",
    "text": "Why linear regression?\n\nSimplicity: Easy to fit, usually gets the general trend correct, hard to overfit\nInterpretability: Consider the following log-normal model: \\[Y=\\exp(\\beta_0+\\beta_1X_1+\\cdots +\\beta_p X_p+\\epsilon); \\hspace{1em} \\epsilon\\sim N(0, \\sigma^2)\\] How do we interpret \\(\\beta_1\\)?"
  },
  {
    "objectID": "slides/24_linear-regression.html#additivity",
    "href": "slides/24_linear-regression.html#additivity",
    "title": "MATH167R: Linear regression",
    "section": "Additivity",
    "text": "Additivity\nNote that linear regression can often be generalized to encompass other models. Consider the following model: \\[Y=\\beta_0+\\beta_1X_1 +\\beta_2X_1^2\\] This is an example of polynomial regression, but the methods for fitting this model are essentially the same as ordinary least squares, using \\(X_1^2\\) as an extra covariate.\nMany alternative models can be written in this form by transforming the covariates or transforming the response \\(Y\\)."
  },
  {
    "objectID": "slides/24_linear-regression.html#assumptions-of-linear-regression",
    "href": "slides/24_linear-regression.html#assumptions-of-linear-regression",
    "title": "MATH167R: Linear regression",
    "section": "Assumptions of linear regression",
    "text": "Assumptions of linear regression\n\nLinearity: The relationship between \\(X\\) and \\(E(Y\\mid X)\\) is linear: \\[E(Y_i\\mid X_i= x_i)= \\beta_0+\\beta_1x_i\\]\nIndependence: The observations \\(Y_1,\\ldots, Y_n\\) are independent of each other.\nNormality: \\[Y_i\\mid X_i= x_i\\sim N(\\beta_0+\\beta_1x_i, \\sigma^2)\\]\nEqual variance: The variance of the errors \\(\\epsilon_i\\) is the same for all values of \\(x_i\\)."
  },
  {
    "objectID": "slides/24_linear-regression.html#all-assumptions-true",
    "href": "slides/24_linear-regression.html#all-assumptions-true",
    "title": "MATH167R: Linear regression",
    "section": "All assumptions true",
    "text": "All assumptions true\n\n\n\n\nlibrary(tidyverse)\nx &lt;- runif(n = 40, min = 0, max = 5)\ny &lt;- rnorm(n = 40, mean = 1 + 2 * x)\nlm_res &lt;- lm(y ~ x)\nggplot(mapping = aes(x = x, y = y)) +\n  geom_point(size = 1.5) +\n  geom_abline(\n    slope = lm_res$coefficients[2], \n    intercept = lm_res$coefficients[1],\n    color = \"red\"\n  ) + \n  theme_minimal()"
  },
  {
    "objectID": "slides/24_linear-regression.html#all-assumptions-true-1",
    "href": "slides/24_linear-regression.html#all-assumptions-true-1",
    "title": "MATH167R: Linear regression",
    "section": "All assumptions true",
    "text": "All assumptions true\n\n\n\nInference: Asymptotically valid confidence intervals and hypothesis tests for \\(\\beta_0\\) and \\(\\beta_1\\).\n\n\n\nsummary(lm_res)\n\n\nCall:\nlm(formula = y ~ x)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-1.5577 -0.6187 -0.0789  0.6198  3.1659 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)   0.8980     0.3527   2.546   0.0151 *  \nx             2.0373     0.1170  17.420   &lt;2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 1.066 on 38 degrees of freedom\nMultiple R-squared:  0.8887,    Adjusted R-squared:  0.8858 \nF-statistic: 303.4 on 1 and 38 DF,  p-value: &lt; 2.2e-16"
  },
  {
    "objectID": "slides/24_linear-regression.html#all-assumptions-true-2",
    "href": "slides/24_linear-regression.html#all-assumptions-true-2",
    "title": "MATH167R: Linear regression",
    "section": "All assumptions true",
    "text": "All assumptions true\n\n\n\nPrediction: Assuming the model holds for new data, unbiased point predictions and asymptotically valid prediction intervals for \\(Y_{n+1}\\).\n\n\n\npredict(lm_res, \n        newdata = list(x = 1), \n        interval = \"prediction\")\n\n       fit       lwr      upr\n1 2.935285 0.7165113 5.154058"
  },
  {
    "objectID": "slides/24_linear-regression.html#breaking-linearity",
    "href": "slides/24_linear-regression.html#breaking-linearity",
    "title": "MATH167R: Linear regression",
    "section": "Breaking linearity",
    "text": "Breaking linearity\nWhat if \\(E(Y_i\\mid X_i= x_i)\\not= \\beta_0+\\beta_1x_i\\)?\n\n\n\n\nx &lt;- runif(n = 40, min = 0, max = 5)\ny &lt;- rnorm(n = 40, mean = 1 + 2 * x^3)\nlm_res &lt;- lm(y ~ x)\nggplot(mapping = aes(x = x, y = y)) +\n  geom_point(size = 1.5) +\n  geom_abline(\n    slope = lm_res$coefficients[2], \n    intercept = lm_res$coefficients[1],\n    color = \"red\"\n  ) + \n  theme_minimal()"
  },
  {
    "objectID": "slides/24_linear-regression.html#breaking-linearity-1",
    "href": "slides/24_linear-regression.html#breaking-linearity-1",
    "title": "MATH167R: Linear regression",
    "section": "Breaking linearity",
    "text": "Breaking linearity\nOur standard inference and prediction strategies no longer work in general.\nInference: Confidence intervals and hypothesis tests for \\(\\beta_0\\) and \\(\\beta_1\\) are no longer valid.\nPrediction: Point predictions are no longer unbiased and prediction intervals are no longer valid."
  },
  {
    "objectID": "slides/24_linear-regression.html#collinearity",
    "href": "slides/24_linear-regression.html#collinearity",
    "title": "MATH167R: Linear regression",
    "section": "Collinearity",
    "text": "Collinearity\nWhat if our predictor variables are closely related? Consider the following simulation:\n\nn &lt;- 50\nx1 &lt;- rnorm(n)\nx2 &lt;- x1 * 2\ne &lt;- rnorm(n)\ny &lt;- 1 + 3 * x1 + e\nlm(y ~ x1)\n\n\nCall:\nlm(formula = y ~ x1)\n\nCoefficients:\n(Intercept)           x1  \n      1.156        2.814  \n\nlm(y ~ x1 + x2)\n\n\nCall:\nlm(formula = y ~ x1 + x2)\n\nCoefficients:\n(Intercept)           x1           x2  \n      1.156        2.814           NA"
  },
  {
    "objectID": "slides/24_linear-regression.html#collinearity-1",
    "href": "slides/24_linear-regression.html#collinearity-1",
    "title": "MATH167R: Linear regression",
    "section": "Collinearity",
    "text": "Collinearity\nWhat if our predictor variables are closely related? Consider the following simulation:\n\nx2b &lt;- x1 * 2 + rnorm(n, sd = .01)\nlm(y ~ x1 + x2b)\n\n\nCall:\nlm(formula = y ~ x1 + x2b)\n\nCoefficients:\n(Intercept)           x1          x2b  \n      1.156       -2.759        2.787"
  },
  {
    "objectID": "slides/04_lists-data-frames.html#warm-up",
    "href": "slides/04_lists-data-frames.html#warm-up",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Warm-up",
    "text": "Warm-up\nDiscuss the following lines of code. What do they do?\n\nx &lt;- c(3 &gt; 4, T, 5 &gt; 6)\ny &lt;- c(1, 0, 1)\nrbind(x, y)\n\n\nAnswer:\n\nx &lt;- c(3 &gt; 4, T, 5 &gt; 6)\ny &lt;- c(1, 0, 1)\nrbind(x, y)\n\n  [,1] [,2] [,3]\nx    0    1    0\ny    1    0    1"
  },
  {
    "objectID": "slides/04_lists-data-frames.html#overview-of-today",
    "href": "slides/04_lists-data-frames.html#overview-of-today",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Overview of today",
    "text": "Overview of today\n\nVectorized functions\nLists\nData frames"
  },
  {
    "objectID": "slides/04_lists-data-frames.html#vector-arithmetic",
    "href": "slides/04_lists-data-frames.html#vector-arithmetic",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Vector Arithmetic",
    "text": "Vector Arithmetic\nVectorization: applying a function repeatedly to every entry in a vector/array\nVectorization allows us to quickly carry out computations for every individual in a dataset.\n\nx &lt;- 1:5\ny &lt;- -1:-5\ny\n\n[1] -1 -2 -3 -4 -5\n\nx + y\n\n[1] 0 0 0 0 0\n\nx * y\n\n[1]  -1  -4  -9 -16 -25"
  },
  {
    "objectID": "slides/04_lists-data-frames.html#vector-arithmetic-1",
    "href": "slides/04_lists-data-frames.html#vector-arithmetic-1",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Vector Arithmetic",
    "text": "Vector Arithmetic\nNote that R recycles, repeating elements of shorter vectors to match longer vectors. This is incredibly useful when done on purpose, but can also easily lead to hard-to-catch bugs in your code!\n\n2 * x\n\n[1]  2  4  6  8 10\n\nc(1, -1) * x\n\n[1]  1 -2  3 -4  5\n\nc(1, -1) + x\n\n[1] 2 1 4 3 6"
  },
  {
    "objectID": "slides/04_lists-data-frames.html#vector-arithmetic-2",
    "href": "slides/04_lists-data-frames.html#vector-arithmetic-2",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Vector Arithmetic",
    "text": "Vector Arithmetic\nWe can apply many functions component-wise to vectors, including comparison operators.\n\nx &gt;= 3\n\n[1] FALSE FALSE  TRUE  TRUE  TRUE\n\ny &lt; -2\n\n[1] FALSE FALSE  TRUE  TRUE  TRUE\n\n(x &gt;= 3) & (y &lt; -2)\n\n[1] FALSE FALSE  TRUE  TRUE  TRUE\n\nx == c(1, 3, 2, 4, 5)\n\n[1]  TRUE FALSE FALSE  TRUE  TRUE"
  },
  {
    "objectID": "slides/04_lists-data-frames.html#boolean-vectors",
    "href": "slides/04_lists-data-frames.html#boolean-vectors",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Boolean Vectors",
    "text": "Boolean Vectors\nIn code, entries that are TRUE or FALSE are called booleans (logicals in R). These are incredibly important, because they can be used to give your computer conditions. What will the following code do?\n\nx[x &gt; 3] &lt;- 3\nx\n\n\n\n\n[1] 1 2 3 3 3"
  },
  {
    "objectID": "slides/04_lists-data-frames.html#boolean-vectors-1",
    "href": "slides/04_lists-data-frames.html#boolean-vectors-1",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Boolean Vectors",
    "text": "Boolean Vectors\nWe can also do basic arithmetic with booleans. TRUE is encoded as 1 and FALSE is encoded as 0.\n\n# First reset x\nx &lt;- 1:5\nsum(x &gt;= 3)\n\n\n\n\n[1] 3\n\n\n\n\n\nmean(x &gt;= 3)\n\n\n\n\n\n[1] 0.6\n\n\n\n\nWhat is this last quantity telling us?\n\n\nBy taking the mean, we are looking at the proportion of our vector that is TRUE."
  },
  {
    "objectID": "slides/04_lists-data-frames.html#complicated-indexing",
    "href": "slides/04_lists-data-frames.html#complicated-indexing",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Complicated indexing",
    "text": "Complicated indexing\nWe can also get more complicated with our indexing.\n\n# Return the second and third elements of \ny[c(2, 3)]\n\n[1] -2 -3\n\n# Return the values of x greater than 3\nx[x &gt;= 3]\n\n[1] 3 4 5"
  },
  {
    "objectID": "slides/04_lists-data-frames.html#complicated-indexing-1",
    "href": "slides/04_lists-data-frames.html#complicated-indexing-1",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Complicated indexing",
    "text": "Complicated indexing\nWe can also get more complicated with our indexing.\n\n# Values of x that match the index of the values of y that are less than -2\nx[y &lt; -2]\n\n[1] 3 4 5\n\n# which() returns the index of entries that are TRUE\nwhich(y &lt; -2)\n\n[1] 3 4 5"
  },
  {
    "objectID": "slides/04_lists-data-frames.html#complicated-indexing-2",
    "href": "slides/04_lists-data-frames.html#complicated-indexing-2",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Complicated indexing",
    "text": "Complicated indexing\nWe can compare entire vectors using identical()\n\nidentical(x, -rev(y))\n\n[1] FALSE\n\n\nWhat do you think the function rev() is doing in the code above?\nHint: Use ?rev to read the help files for the function"
  },
  {
    "objectID": "slides/04_lists-data-frames.html#lists-1",
    "href": "slides/04_lists-data-frames.html#lists-1",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Lists",
    "text": "Lists\nLists, like vectors and matrices, are a class of objects in R. Lists are special because they can store multiple different types of data.\n\nmy_list &lt;- list(\"some_numbers\" = 1:5,\n                \"some_characters\" = c(\"a\", \"b\", \"c\"),\n                \"a_matrix\" = diag(2))\nmy_list\n\n$some_numbers\n[1] 1 2 3 4 5\n\n$some_characters\n[1] \"a\" \"b\" \"c\"\n\n$a_matrix\n     [,1] [,2]\n[1,]    1    0\n[2,]    0    1\n\n\nMake sure to store items within a list using the = operator for assigning arguments, not the assignment arrow &lt;-"
  },
  {
    "objectID": "slides/04_lists-data-frames.html#accessing-list-elements",
    "href": "slides/04_lists-data-frames.html#accessing-list-elements",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Accessing List Elements",
    "text": "Accessing List Elements\nThere are three ways to access an item within a list\n\ndouble brackets [[]] with its name in quotes\ndouble brackets [[]] with its index as a number\ndollar sign $ followed by its name without quotes"
  },
  {
    "objectID": "slides/04_lists-data-frames.html#accessing-list-elements-1",
    "href": "slides/04_lists-data-frames.html#accessing-list-elements-1",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Accessing List Elements",
    "text": "Accessing List Elements\n\nmy_list[[\"some_numbers\"]]\n\n[1] 1 2 3 4 5\n\nmy_list[[1]]\n\n[1] 1 2 3 4 5\n\nmy_list$some_numbers\n\n[1] 1 2 3 4 5"
  },
  {
    "objectID": "slides/04_lists-data-frames.html#why-double-brackets",
    "href": "slides/04_lists-data-frames.html#why-double-brackets",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Why double brackets?",
    "text": "Why double brackets?\nIf you use a single bracket to index, like we do with matrices and vectors, you will return a list with a single element.\n\nmy_list[1]\n\n$some_numbers\n[1] 1 2 3 4 5\n\nmy_list[[1]]\n\n[1] 1 2 3 4 5\n\n\nNote that this means you can only return a single item in a list using double brackets or the dollar sign! (Why?)"
  },
  {
    "objectID": "slides/04_lists-data-frames.html#why-double-brackets-1",
    "href": "slides/04_lists-data-frames.html#why-double-brackets-1",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Why double brackets?",
    "text": "Why double brackets?\nThis is a subtle but important difference!\n\nmy_list[1] + 1\n\nError in my_list[1] + 1: non-numeric argument to binary operator\n\n\n\nmy_list[[1]] + 1\n\n[1] 2 3 4 5 6"
  },
  {
    "objectID": "slides/04_lists-data-frames.html#subsetting-a-list",
    "href": "slides/04_lists-data-frames.html#subsetting-a-list",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Subsetting a list",
    "text": "Subsetting a list\nYou can subset a list similarly to vectors and matrices using single brackets.\n\nmy_list[1:2]\n\n$some_numbers\n[1] 1 2 3 4 5\n\n$some_characters\n[1] \"a\" \"b\" \"c\"\n\nmy_list[-2]\n\n$some_numbers\n[1] 1 2 3 4 5\n\n$a_matrix\n     [,1] [,2]\n[1,]    1    0\n[2,]    0    1"
  },
  {
    "objectID": "slides/04_lists-data-frames.html#adding-to-a-list",
    "href": "slides/04_lists-data-frames.html#adding-to-a-list",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Adding to a list",
    "text": "Adding to a list\nWe can use the same tools we used to access list elements to add to a list. However, if we use double brackets, we must use quotes, otherwise R will search for something that does not yet exist."
  },
  {
    "objectID": "slides/04_lists-data-frames.html#adding-to-a-list-1",
    "href": "slides/04_lists-data-frames.html#adding-to-a-list-1",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Adding to a list",
    "text": "Adding to a list\n\nmy_list$a_boolean &lt;- FALSE\nmy_list[[\"a_list\"]] &lt;- list(\"recursive\" = TRUE)\nmy_list\n\n$some_numbers\n[1] 1 2 3 4 5\n\n$some_characters\n[1] \"a\" \"b\" \"c\"\n\n$a_matrix\n     [,1] [,2]\n[1,]    1    0\n[2,]    0    1\n\n$a_boolean\n[1] FALSE\n\n$a_list\n$a_list$recursive\n[1] TRUE"
  },
  {
    "objectID": "slides/04_lists-data-frames.html#names-of-list-items",
    "href": "slides/04_lists-data-frames.html#names-of-list-items",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Names of List Items",
    "text": "Names of List Items\nCall names() to get a vector of list item names.\n\nnames(my_list)\n\n[1] \"some_numbers\"    \"some_characters\" \"a_matrix\"        \"a_boolean\"      \n[5] \"a_list\""
  },
  {
    "objectID": "slides/04_lists-data-frames.html#why-bother",
    "href": "slides/04_lists-data-frames.html#why-bother",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Why bother?",
    "text": "Why bother?\n\nLists give us key-value pairs, also known as dictionaries or associative arrays\nThis means we can look up items in a list by name, rather than location\nFor example, if we know we are looking for output within a list, we can always search for it, regardless of how the list was created or what else it contains"
  },
  {
    "objectID": "slides/04_lists-data-frames.html#data-frames-1",
    "href": "slides/04_lists-data-frames.html#data-frames-1",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Data frames",
    "text": "Data frames\nA data frame in R is essentially a special type of list, where each item is a vector of equal length. Typically, we say that data has \\(n\\) rows (one for each observation) and \\(p\\) columns (one for each variable)\nUnlike a matrix, columns can have different types. However, many column functions still apply! (such as colSums, summary, etc.)"
  },
  {
    "objectID": "slides/04_lists-data-frames.html#example-data-frames-in-r",
    "href": "slides/04_lists-data-frames.html#example-data-frames-in-r",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Example data frames in R",
    "text": "Example data frames in R\nThere are plenty of free datasets available through R and its packages. If you haven’t already, run install.packages(\"palmerpenguins\") in your console. Then, we can load the penguins dataset.\n\n# load palmer penguins package\nlibrary(palmerpenguins)\n\n# open penguins data as a data frame\ndata(penguins)\npenguins &lt;- as.data.frame(penguins)"
  },
  {
    "objectID": "slides/04_lists-data-frames.html#penguins-data",
    "href": "slides/04_lists-data-frames.html#penguins-data",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Penguins data",
    "text": "Penguins data\nWe can use the head function to look at the first several rows:\n\nhead(penguins)\n\n  species    island bill_length_mm bill_depth_mm flipper_length_mm body_mass_g\n1  Adelie Torgersen           39.1          18.7               181        3750\n2  Adelie Torgersen           39.5          17.4               186        3800\n3  Adelie Torgersen           40.3          18.0               195        3250\n4  Adelie Torgersen             NA            NA                NA          NA\n5  Adelie Torgersen           36.7          19.3               193        3450\n6  Adelie Torgersen           39.3          20.6               190        3650\n     sex year\n1   male 2007\n2 female 2007\n3 female 2007\n4   &lt;NA&gt; 2007\n5 female 2007\n6   male 2007\n\n\n\nHow many columns are in this dataset?\nHow many rows are in this dataset?"
  },
  {
    "objectID": "slides/04_lists-data-frames.html#penguins-data-1",
    "href": "slides/04_lists-data-frames.html#penguins-data-1",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Penguins data",
    "text": "Penguins data\nUsing the $ operator, we can access individual columns.\n\nhead(penguins$bill_length_mm)\n\n[1] 39.1 39.5 40.3   NA 36.7 39.3\n\n\nWe can then use any of our useful functions for vectors to summarize this column (ex. max(), min(), mean(), median(), sum(), sd(), var(), length())."
  },
  {
    "objectID": "slides/04_lists-data-frames.html#penguins-data-2",
    "href": "slides/04_lists-data-frames.html#penguins-data-2",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Penguins data",
    "text": "Penguins data\n\nmean(penguins$bill_length_mm)\n\n[1] NA\n\n\n\nNote that we may have to drop missing values, using the argument na.rm = T.\n\nmean(penguins$bill_length_mm, na.rm = T)\n\n[1] 43.92193"
  },
  {
    "objectID": "slides/04_lists-data-frames.html#creating-a-data-frame",
    "href": "slides/04_lists-data-frames.html#creating-a-data-frame",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Creating a data frame",
    "text": "Creating a data frame\nAn easy way to create a data frame is to use the function data.frame().\nLike lists, make sure you define the names using = and not &lt;-!\n\nmy_data &lt;- data.frame(\"var1\" = 1:3,\n                      \"var2\" = c(\"a\", \"b\", \"c\"),\n                      \"var3\" = c(TRUE, FALSE, TRUE))\nmy_data\n\n  var1 var2  var3\n1    1    a  TRUE\n2    2    b FALSE\n3    3    c  TRUE"
  },
  {
    "objectID": "slides/04_lists-data-frames.html#creating-a-data-frame-1",
    "href": "slides/04_lists-data-frames.html#creating-a-data-frame-1",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Creating a data frame",
    "text": "Creating a data frame\nIf you import or create numeric data as a matrix, you can also convert it easily using as.data.frame()\n\nmy_matrix &lt;- matrix(1:9, nrow = 3, ncol = 3)\nmy_matrix\n\n     [,1] [,2] [,3]\n[1,]    1    4    7\n[2,]    2    5    8\n[3,]    3    6    9\n\nas.data.frame(my_matrix)\n\n  V1 V2 V3\n1  1  4  7\n2  2  5  8\n3  3  6  9"
  },
  {
    "objectID": "slides/04_lists-data-frames.html#subsetting-data-frames",
    "href": "slides/04_lists-data-frames.html#subsetting-data-frames",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Subsetting data frames",
    "text": "Subsetting data frames\nWe can subset data frames using most of the tools we’ve learned about subsetting so far. We can use keys or indices.\n\nmy_data$var1\n\n[1] 1 2 3\n\nmy_data[\"var1\"]\n\n  var1\n1    1\n2    2\n3    3\n\nmy_data[[\"var1\"]]\n\n[1] 1 2 3"
  },
  {
    "objectID": "slides/04_lists-data-frames.html#subsetting-data-frames-1",
    "href": "slides/04_lists-data-frames.html#subsetting-data-frames-1",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Subsetting data frames",
    "text": "Subsetting data frames\n\nmy_data[1]\n\n  var1\n1    1\n2    2\n3    3\n\nmy_data[[1]]\n\n[1] 1 2 3\n\nmy_data[, 1]\n\n[1] 1 2 3\n\nmy_data[1, ]\n\n  var1 var2 var3\n1    1    a TRUE"
  },
  {
    "objectID": "slides/04_lists-data-frames.html#adding-to-a-data-frame",
    "href": "slides/04_lists-data-frames.html#adding-to-a-data-frame",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Adding to a data frame",
    "text": "Adding to a data frame\nWe can add to a data frame using rbind() and cbind(), but be careful with type mismatches! We can also add columns using the column index methods.\n\n# These all do the same thing\nmy_data &lt;- cbind(my_data, \"var4\" = c(3, 2, 1))\nmy_data$var4 &lt;- c(3, 2, 1)\nmy_data[, \"var4\"] &lt;- c(3, 2, 1)\nmy_data[[\"var4\"]] &lt;- c(3, 2, 1)\nmy_data\n\n  var1 var2  var3 var4\n1    1    a  TRUE    3\n2    2    b FALSE    2\n3    3    c  TRUE    1"
  },
  {
    "objectID": "slides/04_lists-data-frames.html#adding-to-a-data-frame-1",
    "href": "slides/04_lists-data-frames.html#adding-to-a-data-frame-1",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Adding to a data frame",
    "text": "Adding to a data frame\n\nrbind(my_data, c(1, 2, 3, 4))\n\n  var1 var2 var3 var4\n1    1    a    1    3\n2    2    b    0    2\n3    3    c    1    1\n4    1    2    3    4\n\nrbind(my_data, list(4, \"d\", FALSE, 0))\n\n  var1 var2  var3 var4\n1    1    a  TRUE    3\n2    2    b FALSE    2\n3    3    c  TRUE    1\n4    4    d FALSE    0"
  },
  {
    "objectID": "slides/04_lists-data-frames.html#investigating-a-data-frame",
    "href": "slides/04_lists-data-frames.html#investigating-a-data-frame",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Investigating a data frame",
    "text": "Investigating a data frame\nWe can use str() to see the structure of a data frame (or any other object!)\n\nmy_data2 &lt;- rbind(my_data, c(1, 2, 3, 4))\nstr(my_data2)\n\n'data.frame':   4 obs. of  4 variables:\n $ var1: num  1 2 3 1\n $ var2: chr  \"a\" \"b\" \"c\" \"2\"\n $ var3: num  1 0 1 3\n $ var4: num  3 2 1 4\n\nmy_data2 &lt;- rbind(my_data, list(4, \"d\", FALSE, 0))\nstr(my_data2)\n\n'data.frame':   4 obs. of  4 variables:\n $ var1: num  1 2 3 4\n $ var2: chr  \"a\" \"b\" \"c\" \"d\"\n $ var3: logi  TRUE FALSE TRUE FALSE\n $ var4: num  3 2 1 0"
  },
  {
    "objectID": "slides/04_lists-data-frames.html#investigating-a-data-frame-1",
    "href": "slides/04_lists-data-frames.html#investigating-a-data-frame-1",
    "title": "MATH167R: Vectorized functions and lists",
    "section": "Investigating a data frame",
    "text": "Investigating a data frame\nMost data frames will have column names describing the variables. They can also include rownames, which we can add using rownames().\n\nrownames(my_data2) &lt;- c(\"Obs1\", \"Obs2\", \"Obs3\", \"Obs4\")\nmy_data2\n\n     var1 var2  var3 var4\nObs1    1    a  TRUE    3\nObs2    2    b FALSE    2\nObs3    3    c  TRUE    1\nObs4    4    d FALSE    0"
  },
  {
    "objectID": "slides/09_merging-data.html#overview-of-today",
    "href": "slides/09_merging-data.html#overview-of-today",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Overview of today",
    "text": "Overview of today\n\nTidying datasets\nExploratory analysis"
  },
  {
    "objectID": "slides/09_merging-data.html#one-dataset-four-ways",
    "href": "slides/09_merging-data.html#one-dataset-four-ways",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "One dataset, four ways",
    "text": "One dataset, four ways\n\n\n\nlibrary(tidyverse)\ntable1\n\n# A tibble: 6 × 4\n  country      year  cases population\n  &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt;      &lt;dbl&gt;\n1 Afghanistan  1999    745   19987071\n2 Afghanistan  2000   2666   20595360\n3 Brazil       1999  37737  172006362\n4 Brazil       2000  80488  174504898\n5 China        1999 212258 1272915272\n6 China        2000 213766 1280428583\n\n\n\ntable2\n\n# A tibble: 12 × 4\n   country      year type            count\n   &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;           &lt;dbl&gt;\n 1 Afghanistan  1999 cases             745\n 2 Afghanistan  1999 population   19987071\n 3 Afghanistan  2000 cases            2666\n 4 Afghanistan  2000 population   20595360\n 5 Brazil       1999 cases           37737\n 6 Brazil       1999 population  172006362\n 7 Brazil       2000 cases           80488\n 8 Brazil       2000 population  174504898\n 9 China        1999 cases          212258\n10 China        1999 population 1272915272\n11 China        2000 cases          213766\n12 China        2000 population 1280428583\n\n\n\n\nlibrary(tidyverse)\ntable3\n\n# A tibble: 6 × 3\n  country      year rate             \n  &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;            \n1 Afghanistan  1999 745/19987071     \n2 Afghanistan  2000 2666/20595360    \n3 Brazil       1999 37737/172006362  \n4 Brazil       2000 80488/174504898  \n5 China        1999 212258/1272915272\n6 China        2000 213766/1280428583\n\n\n\ntable4a\n\n# A tibble: 3 × 3\n  country     `1999` `2000`\n  &lt;chr&gt;        &lt;dbl&gt;  &lt;dbl&gt;\n1 Afghanistan    745   2666\n2 Brazil       37737  80488\n3 China       212258 213766\n\n\n\ntable4b\n\n# A tibble: 3 × 3\n  country         `1999`     `2000`\n  &lt;chr&gt;            &lt;dbl&gt;      &lt;dbl&gt;\n1 Afghanistan   19987071   20595360\n2 Brazil       172006362  174504898\n3 China       1272915272 1280428583"
  },
  {
    "objectID": "slides/09_merging-data.html#which-way",
    "href": "slides/09_merging-data.html#which-way",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Which way?",
    "text": "Which way?\nSuppose I wanted to create the following plot:\n\nWhich format should I use? Try to recreate this plot.\nWhat if we wanted to compute the number of cases per capita, for each country and year?"
  },
  {
    "objectID": "slides/09_merging-data.html#munging-data",
    "href": "slides/09_merging-data.html#munging-data",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Munging data",
    "text": "Munging data\nWhat if we want to convert from table2 or table4a and table4b to table1?\nToday, we’ll discuss how to do this in both base R and the tidyverse."
  },
  {
    "objectID": "slides/09_merging-data.html#pivot_longer-and-pivot_wider",
    "href": "slides/09_merging-data.html#pivot_longer-and-pivot_wider",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "pivot_longer() and pivot_wider()",
    "text": "pivot_longer() and pivot_wider()\nThe pivot_longer() and pivot_wider() functions are useful for reshaping data: pivot_longer() “lengthens” datasets and pivot_wider() does the opposite.\nThey are challenging to use because you need to have a clear vision of the data frame you want, not because they are complicated in R."
  },
  {
    "objectID": "slides/09_merging-data.html#example-pivot_longer",
    "href": "slides/09_merging-data.html#example-pivot_longer",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Example: pivot_longer()",
    "text": "Example: pivot_longer()\n\nrelig_income\n\n\n\n\n\n\n\nreligion\n&lt;$10k\n$10-20k\n$20-30k\n$30-40k\n$40-50k\n$50-75k\n$75-100k\n$100-150k\n&gt;150k\nDon't know/refused\n\n\n\n\nAgnostic\n27\n34\n60\n81\n76\n137\n122\n109\n84\n96\n\n\nAtheist\n12\n27\n37\n52\n35\n70\n73\n59\n74\n76\n\n\nBuddhist\n27\n21\n30\n34\n33\n58\n62\n39\n53\n54\n\n\nCatholic\n418\n617\n732\n670\n638\n1116\n949\n792\n633\n1489\n\n\nDon’t know/refused\n15\n14\n15\n11\n10\n35\n21\n17\n18\n116\n\n\nEvangelical Prot\n575\n869\n1064\n982\n881\n1486\n949\n723\n414\n1529\n\n\nHindu\n1\n9\n7\n9\n11\n34\n47\n48\n54\n37\n\n\nHistorically Black Prot\n228\n244\n236\n238\n197\n223\n131\n81\n78\n339\n\n\nJehovah's Witness\n20\n27\n24\n24\n21\n30\n15\n11\n6\n37\n\n\nJewish\n19\n19\n25\n25\n30\n95\n69\n87\n151\n162\n\n\nMainline Prot\n289\n495\n619\n655\n651\n1107\n939\n753\n634\n1328\n\n\nMormon\n29\n40\n48\n51\n56\n112\n85\n49\n42\n69\n\n\nMuslim\n6\n7\n9\n10\n9\n23\n16\n8\n6\n22\n\n\nOrthodox\n13\n17\n23\n32\n32\n47\n38\n42\n46\n73\n\n\nOther Christian\n9\n7\n11\n13\n13\n14\n18\n14\n12\n18\n\n\nOther Faiths\n20\n33\n40\n46\n49\n63\n46\n40\n41\n71\n\n\nOther World Religions\n5\n2\n3\n4\n2\n7\n3\n4\n4\n8\n\n\nUnaffiliated\n217\n299\n374\n365\n341\n528\n407\n321\n258\n597"
  },
  {
    "objectID": "slides/09_merging-data.html#example-pivot_longer-1",
    "href": "slides/09_merging-data.html#example-pivot_longer-1",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Example: pivot_longer()",
    "text": "Example: pivot_longer()"
  },
  {
    "objectID": "slides/09_merging-data.html#example-pivot_longer-2",
    "href": "slides/09_merging-data.html#example-pivot_longer-2",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Example: pivot_longer()",
    "text": "Example: pivot_longer()\n\nrelig_income |&gt;\n  pivot_longer(cols = !religion, names_to = \"income\", values_to = \"count\")\n\n\n\n\n\n\n\nreligion\nincome\ncount\n\n\n\n\nAgnostic\n&lt;$10k\n27\n\n\nAgnostic\n$10-20k\n34\n\n\nAgnostic\n$20-30k\n60\n\n\nAgnostic\n$30-40k\n81\n\n\nAgnostic\n$40-50k\n76\n\n\nAgnostic\n$50-75k\n137\n\n\nAgnostic\n$75-100k\n122\n\n\nAgnostic\n$100-150k\n109\n\n\nAgnostic\n&gt;150k\n84\n\n\nAgnostic\nDon't know/refused\n96\n\n\nAtheist\n&lt;$10k\n12\n\n\nAtheist\n$10-20k\n27\n\n\nAtheist\n$20-30k\n37\n\n\nAtheist\n$30-40k\n52\n\n\nAtheist\n$40-50k\n35\n\n\nAtheist\n$50-75k\n70\n\n\nAtheist\n$75-100k\n73\n\n\nAtheist\n$100-150k\n59\n\n\nAtheist\n&gt;150k\n74\n\n\nAtheist\nDon't know/refused\n76\n\n\nBuddhist\n&lt;$10k\n27\n\n\nBuddhist\n$10-20k\n21\n\n\nBuddhist\n$20-30k\n30\n\n\nBuddhist\n$30-40k\n34\n\n\nBuddhist\n$40-50k\n33\n\n\nBuddhist\n$50-75k\n58\n\n\nBuddhist\n$75-100k\n62\n\n\nBuddhist\n$100-150k\n39\n\n\nBuddhist\n&gt;150k\n53\n\n\nBuddhist\nDon't know/refused\n54\n\n\nCatholic\n&lt;$10k\n418\n\n\nCatholic\n$10-20k\n617\n\n\nCatholic\n$20-30k\n732\n\n\nCatholic\n$30-40k\n670\n\n\nCatholic\n$40-50k\n638\n\n\nCatholic\n$50-75k\n1116\n\n\nCatholic\n$75-100k\n949\n\n\nCatholic\n$100-150k\n792\n\n\nCatholic\n&gt;150k\n633\n\n\nCatholic\nDon't know/refused\n1489\n\n\nDon’t know/refused\n&lt;$10k\n15\n\n\nDon’t know/refused\n$10-20k\n14\n\n\nDon’t know/refused\n$20-30k\n15\n\n\nDon’t know/refused\n$30-40k\n11\n\n\nDon’t know/refused\n$40-50k\n10\n\n\nDon’t know/refused\n$50-75k\n35\n\n\nDon’t know/refused\n$75-100k\n21\n\n\nDon’t know/refused\n$100-150k\n17\n\n\nDon’t know/refused\n&gt;150k\n18\n\n\nDon’t know/refused\nDon't know/refused\n116\n\n\nEvangelical Prot\n&lt;$10k\n575\n\n\nEvangelical Prot\n$10-20k\n869\n\n\nEvangelical Prot\n$20-30k\n1064\n\n\nEvangelical Prot\n$30-40k\n982\n\n\nEvangelical Prot\n$40-50k\n881\n\n\nEvangelical Prot\n$50-75k\n1486\n\n\nEvangelical Prot\n$75-100k\n949\n\n\nEvangelical Prot\n$100-150k\n723\n\n\nEvangelical Prot\n&gt;150k\n414\n\n\nEvangelical Prot\nDon't know/refused\n1529\n\n\nHindu\n&lt;$10k\n1\n\n\nHindu\n$10-20k\n9\n\n\nHindu\n$20-30k\n7\n\n\nHindu\n$30-40k\n9\n\n\nHindu\n$40-50k\n11\n\n\nHindu\n$50-75k\n34\n\n\nHindu\n$75-100k\n47\n\n\nHindu\n$100-150k\n48\n\n\nHindu\n&gt;150k\n54\n\n\nHindu\nDon't know/refused\n37\n\n\nHistorically Black Prot\n&lt;$10k\n228\n\n\nHistorically Black Prot\n$10-20k\n244\n\n\nHistorically Black Prot\n$20-30k\n236\n\n\nHistorically Black Prot\n$30-40k\n238\n\n\nHistorically Black Prot\n$40-50k\n197\n\n\nHistorically Black Prot\n$50-75k\n223\n\n\nHistorically Black Prot\n$75-100k\n131\n\n\nHistorically Black Prot\n$100-150k\n81\n\n\nHistorically Black Prot\n&gt;150k\n78\n\n\nHistorically Black Prot\nDon't know/refused\n339\n\n\nJehovah's Witness\n&lt;$10k\n20\n\n\nJehovah's Witness\n$10-20k\n27\n\n\nJehovah's Witness\n$20-30k\n24\n\n\nJehovah's Witness\n$30-40k\n24\n\n\nJehovah's Witness\n$40-50k\n21\n\n\nJehovah's Witness\n$50-75k\n30\n\n\nJehovah's Witness\n$75-100k\n15\n\n\nJehovah's Witness\n$100-150k\n11\n\n\nJehovah's Witness\n&gt;150k\n6\n\n\nJehovah's Witness\nDon't know/refused\n37\n\n\nJewish\n&lt;$10k\n19\n\n\nJewish\n$10-20k\n19\n\n\nJewish\n$20-30k\n25\n\n\nJewish\n$30-40k\n25\n\n\nJewish\n$40-50k\n30\n\n\nJewish\n$50-75k\n95\n\n\nJewish\n$75-100k\n69\n\n\nJewish\n$100-150k\n87\n\n\nJewish\n&gt;150k\n151\n\n\nJewish\nDon't know/refused\n162\n\n\nMainline Prot\n&lt;$10k\n289\n\n\nMainline Prot\n$10-20k\n495\n\n\nMainline Prot\n$20-30k\n619\n\n\nMainline Prot\n$30-40k\n655\n\n\nMainline Prot\n$40-50k\n651\n\n\nMainline Prot\n$50-75k\n1107\n\n\nMainline Prot\n$75-100k\n939\n\n\nMainline Prot\n$100-150k\n753\n\n\nMainline Prot\n&gt;150k\n634\n\n\nMainline Prot\nDon't know/refused\n1328\n\n\nMormon\n&lt;$10k\n29\n\n\nMormon\n$10-20k\n40\n\n\nMormon\n$20-30k\n48\n\n\nMormon\n$30-40k\n51\n\n\nMormon\n$40-50k\n56\n\n\nMormon\n$50-75k\n112\n\n\nMormon\n$75-100k\n85\n\n\nMormon\n$100-150k\n49\n\n\nMormon\n&gt;150k\n42\n\n\nMormon\nDon't know/refused\n69\n\n\nMuslim\n&lt;$10k\n6\n\n\nMuslim\n$10-20k\n7\n\n\nMuslim\n$20-30k\n9\n\n\nMuslim\n$30-40k\n10\n\n\nMuslim\n$40-50k\n9\n\n\nMuslim\n$50-75k\n23\n\n\nMuslim\n$75-100k\n16\n\n\nMuslim\n$100-150k\n8\n\n\nMuslim\n&gt;150k\n6\n\n\nMuslim\nDon't know/refused\n22\n\n\nOrthodox\n&lt;$10k\n13\n\n\nOrthodox\n$10-20k\n17\n\n\nOrthodox\n$20-30k\n23\n\n\nOrthodox\n$30-40k\n32\n\n\nOrthodox\n$40-50k\n32\n\n\nOrthodox\n$50-75k\n47\n\n\nOrthodox\n$75-100k\n38\n\n\nOrthodox\n$100-150k\n42\n\n\nOrthodox\n&gt;150k\n46\n\n\nOrthodox\nDon't know/refused\n73\n\n\nOther Christian\n&lt;$10k\n9\n\n\nOther Christian\n$10-20k\n7\n\n\nOther Christian\n$20-30k\n11\n\n\nOther Christian\n$30-40k\n13\n\n\nOther Christian\n$40-50k\n13\n\n\nOther Christian\n$50-75k\n14\n\n\nOther Christian\n$75-100k\n18\n\n\nOther Christian\n$100-150k\n14\n\n\nOther Christian\n&gt;150k\n12\n\n\nOther Christian\nDon't know/refused\n18\n\n\nOther Faiths\n&lt;$10k\n20\n\n\nOther Faiths\n$10-20k\n33\n\n\nOther Faiths\n$20-30k\n40\n\n\nOther Faiths\n$30-40k\n46\n\n\nOther Faiths\n$40-50k\n49\n\n\nOther Faiths\n$50-75k\n63\n\n\nOther Faiths\n$75-100k\n46\n\n\nOther Faiths\n$100-150k\n40\n\n\nOther Faiths\n&gt;150k\n41\n\n\nOther Faiths\nDon't know/refused\n71\n\n\nOther World Religions\n&lt;$10k\n5\n\n\nOther World Religions\n$10-20k\n2\n\n\nOther World Religions\n$20-30k\n3\n\n\nOther World Religions\n$30-40k\n4\n\n\nOther World Religions\n$40-50k\n2\n\n\nOther World Religions\n$50-75k\n7\n\n\nOther World Religions\n$75-100k\n3\n\n\nOther World Religions\n$100-150k\n4\n\n\nOther World Religions\n&gt;150k\n4\n\n\nOther World Religions\nDon't know/refused\n8\n\n\nUnaffiliated\n&lt;$10k\n217\n\n\nUnaffiliated\n$10-20k\n299\n\n\nUnaffiliated\n$20-30k\n374\n\n\nUnaffiliated\n$30-40k\n365\n\n\nUnaffiliated\n$40-50k\n341\n\n\nUnaffiliated\n$50-75k\n528\n\n\nUnaffiliated\n$75-100k\n407\n\n\nUnaffiliated\n$100-150k\n321\n\n\nUnaffiliated\n&gt;150k\n258\n\n\nUnaffiliated\nDon't know/refused\n597"
  },
  {
    "objectID": "slides/09_merging-data.html#example-pivot_longer-3",
    "href": "slides/09_merging-data.html#example-pivot_longer-3",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Example: pivot_longer()",
    "text": "Example: pivot_longer()\n\nhead(billboard)\n\n\n\n\n\n\n\nartist\ntrack\ndate.entered\nwk1\nwk2\nwk3\nwk4\nwk5\nwk6\nwk7\nwk8\nwk9\nwk10\nwk11\nwk12\nwk13\nwk14\nwk15\nwk16\nwk17\nwk18\nwk19\nwk20\nwk21\nwk22\nwk23\nwk24\nwk25\nwk26\nwk27\nwk28\nwk29\nwk30\nwk31\nwk32\nwk33\nwk34\nwk35\nwk36\nwk37\nwk38\nwk39\nwk40\nwk41\nwk42\nwk43\nwk44\nwk45\nwk46\nwk47\nwk48\nwk49\nwk50\nwk51\nwk52\nwk53\nwk54\nwk55\nwk56\nwk57\nwk58\nwk59\nwk60\nwk61\nwk62\nwk63\nwk64\nwk65\nwk66\nwk67\nwk68\nwk69\nwk70\nwk71\nwk72\nwk73\nwk74\nwk75\nwk76\n\n\n\n\n2 Pac\nBaby Don't Cry (Keep...\n2000-02-26\n87\n82\n72\n77\n87\n94\n99\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\n2Ge+her\nThe Hardest Part Of ...\n2000-09-02\n91\n87\n92\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\n3 Doors Down\nKryptonite\n2000-04-08\n81\n70\n68\n67\n66\n57\n54\n53\n51\n51\n51\n51\n47\n44\n38\n28\n22\n18\n18\n14\n12\n7\n6\n6\n6\n5\n5\n4\n4\n4\n4\n3\n3\n3\n4\n5\n5\n9\n9\n15\n14\n13\n14\n16\n17\n21\n22\n24\n28\n33\n42\n42\n49\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\n3 Doors Down\nLoser\n2000-10-21\n76\n76\n72\n69\n67\n65\n55\n59\n62\n61\n61\n59\n61\n66\n72\n76\n75\n67\n73\n70\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\n504 Boyz\nWobble Wobble\n2000-04-15\n57\n34\n25\n17\n17\n31\n36\n49\n53\n57\n64\n70\n75\n76\n78\n85\n92\n96\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\n98^0\nGive Me Just One Nig...\n2000-08-19\n51\n39\n34\n26\n26\n19\n2\n2\n3\n6\n7\n22\n29\n36\n47\n67\n66\n84\n93\n94\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA"
  },
  {
    "objectID": "slides/09_merging-data.html#example-pivot_longer-4",
    "href": "slides/09_merging-data.html#example-pivot_longer-4",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Example: pivot_longer()",
    "text": "Example: pivot_longer()\n\nbillboard |&gt;\n  pivot_longer(\n    cols = starts_with(\"wk\"),\n    names_to = \"week\",\n    names_prefix = \"wk\",\n    values_to = \"rank\",\n    values_drop_na = TRUE\n  )\n\n\n\n\n\n\n\nartist\ntrack\ndate.entered\nweek\nrank\n\n\n\n\n2 Pac\nBaby Don't Cry (Keep...\n2000-02-26\n1\n87\n\n\n2 Pac\nBaby Don't Cry (Keep...\n2000-02-26\n2\n82\n\n\n2 Pac\nBaby Don't Cry (Keep...\n2000-02-26\n3\n72\n\n\n2 Pac\nBaby Don't Cry (Keep...\n2000-02-26\n4\n77\n\n\n2 Pac\nBaby Don't Cry (Keep...\n2000-02-26\n5\n87\n\n\n2 Pac\nBaby Don't Cry (Keep...\n2000-02-26\n6\n94\n\n\n2 Pac\nBaby Don't Cry (Keep...\n2000-02-26\n7\n99\n\n\n2Ge+her\nThe Hardest Part Of ...\n2000-09-02\n1\n91\n\n\n2Ge+her\nThe Hardest Part Of ...\n2000-09-02\n2\n87\n\n\n2Ge+her\nThe Hardest Part Of ...\n2000-09-02\n3\n92\n\n\n3 Doors Down\nKryptonite\n2000-04-08\n1\n81\n\n\n3 Doors Down\nKryptonite\n2000-04-08\n2\n70\n\n\n3 Doors Down\nKryptonite\n2000-04-08\n3\n68\n\n\n3 Doors Down\nKryptonite\n2000-04-08\n4\n67\n\n\n3 Doors Down\nKryptonite\n2000-04-08\n5\n66\n\n\n3 Doors Down\nKryptonite\n2000-04-08\n6\n57\n\n\n3 Doors Down\nKryptonite\n2000-04-08\n7\n54\n\n\n3 Doors Down\nKryptonite\n2000-04-08\n8\n53\n\n\n3 Doors Down\nKryptonite\n2000-04-08\n9\n51\n\n\n3 Doors Down\nKryptonite\n2000-04-08\n10\n51"
  },
  {
    "objectID": "slides/09_merging-data.html#example-pivot_wider",
    "href": "slides/09_merging-data.html#example-pivot_wider",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Example: pivot_wider()",
    "text": "Example: pivot_wider()\n\nfish_encounters\n\n\n\n\n\n\n\nfish\nstation\nseen\n\n\n\n\n4842\nRelease\n1\n\n\n4842\nI80_1\n1\n\n\n4842\nLisbon\n1\n\n\n4842\nRstr\n1\n\n\n4842\nBase_TD\n1\n\n\n4842\nBCE\n1\n\n\n4842\nBCW\n1\n\n\n4842\nBCE2\n1\n\n\n4842\nBCW2\n1\n\n\n4842\nMAE\n1\n\n\n4842\nMAW\n1\n\n\n4843\nRelease\n1\n\n\n4843\nI80_1\n1\n\n\n4843\nLisbon\n1\n\n\n4843\nRstr\n1\n\n\n4843\nBase_TD\n1\n\n\n4843\nBCE\n1\n\n\n4843\nBCW\n1\n\n\n4843\nBCE2\n1\n\n\n4843\nBCW2\n1\n\n\n4843\nMAE\n1\n\n\n4843\nMAW\n1\n\n\n4844\nRelease\n1\n\n\n4844\nI80_1\n1\n\n\n4844\nLisbon\n1\n\n\n4844\nRstr\n1\n\n\n4844\nBase_TD\n1\n\n\n4844\nBCE\n1\n\n\n4844\nBCW\n1\n\n\n4844\nBCE2\n1\n\n\n4844\nBCW2\n1\n\n\n4844\nMAE\n1\n\n\n4844\nMAW\n1\n\n\n4845\nRelease\n1\n\n\n4845\nI80_1\n1\n\n\n4845\nLisbon\n1\n\n\n4845\nRstr\n1\n\n\n4845\nBase_TD\n1\n\n\n4847\nRelease\n1\n\n\n4847\nI80_1\n1\n\n\n4847\nLisbon\n1\n\n\n4848\nRelease\n1\n\n\n4848\nI80_1\n1\n\n\n4848\nLisbon\n1\n\n\n4848\nRstr\n1\n\n\n4849\nRelease\n1\n\n\n4849\nI80_1\n1\n\n\n4850\nRelease\n1\n\n\n4850\nI80_1\n1\n\n\n4850\nRstr\n1\n\n\n4850\nBase_TD\n1\n\n\n4850\nBCE\n1\n\n\n4850\nBCW\n1\n\n\n4851\nRelease\n1\n\n\n4851\nI80_1\n1\n\n\n4854\nRelease\n1\n\n\n4854\nI80_1\n1\n\n\n4855\nRelease\n1\n\n\n4855\nI80_1\n1\n\n\n4855\nLisbon\n1\n\n\n4855\nRstr\n1\n\n\n4855\nBase_TD\n1\n\n\n4857\nRelease\n1\n\n\n4857\nI80_1\n1\n\n\n4857\nLisbon\n1\n\n\n4857\nRstr\n1\n\n\n4857\nBase_TD\n1\n\n\n4857\nBCE\n1\n\n\n4857\nBCW\n1\n\n\n4857\nBCE2\n1\n\n\n4857\nBCW2\n1\n\n\n4858\nRelease\n1\n\n\n4858\nI80_1\n1\n\n\n4858\nLisbon\n1\n\n\n4858\nRstr\n1\n\n\n4858\nBase_TD\n1\n\n\n4858\nBCE\n1\n\n\n4858\nBCW\n1\n\n\n4858\nBCE2\n1\n\n\n4858\nBCW2\n1\n\n\n4858\nMAE\n1\n\n\n4858\nMAW\n1\n\n\n4859\nRelease\n1\n\n\n4859\nI80_1\n1\n\n\n4859\nLisbon\n1\n\n\n4859\nRstr\n1\n\n\n4859\nBase_TD\n1\n\n\n4861\nRelease\n1\n\n\n4861\nI80_1\n1\n\n\n4861\nLisbon\n1\n\n\n4861\nRstr\n1\n\n\n4861\nBase_TD\n1\n\n\n4861\nBCE\n1\n\n\n4861\nBCW\n1\n\n\n4861\nBCE2\n1\n\n\n4861\nBCW2\n1\n\n\n4861\nMAE\n1\n\n\n4861\nMAW\n1\n\n\n4862\nRelease\n1\n\n\n4862\nI80_1\n1\n\n\n4862\nLisbon\n1\n\n\n4862\nRstr\n1\n\n\n4862\nBase_TD\n1\n\n\n4862\nBCE\n1\n\n\n4862\nBCW\n1\n\n\n4862\nBCE2\n1\n\n\n4862\nBCW2\n1\n\n\n4863\nRelease\n1\n\n\n4863\nI80_1\n1\n\n\n4864\nRelease\n1\n\n\n4864\nI80_1\n1\n\n\n4865\nRelease\n1\n\n\n4865\nI80_1\n1\n\n\n4865\nLisbon\n1"
  },
  {
    "objectID": "slides/09_merging-data.html#example-pivot_wider-1",
    "href": "slides/09_merging-data.html#example-pivot_wider-1",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Example: pivot_wider()",
    "text": "Example: pivot_wider()\n\nfish_encounters |&gt;\n  pivot_wider(names_from = station, values_from = seen)\n\n\n\n\n\n\n\nfish\nRelease\nI80_1\nLisbon\nRstr\nBase_TD\nBCE\nBCW\nBCE2\nBCW2\nMAE\nMAW\n\n\n\n\n4842\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n\n\n4843\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n\n\n4844\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n\n\n4845\n1\n1\n1\n1\n1\nNA\nNA\nNA\nNA\nNA\nNA\n\n\n4847\n1\n1\n1\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\n4848\n1\n1\n1\n1\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\n4849\n1\n1\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\n4850\n1\n1\nNA\n1\n1\n1\n1\nNA\nNA\nNA\nNA\n\n\n4851\n1\n1\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\n4854\n1\n1\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\n4855\n1\n1\n1\n1\n1\nNA\nNA\nNA\nNA\nNA\nNA\n\n\n4857\n1\n1\n1\n1\n1\n1\n1\n1\n1\nNA\nNA\n\n\n4858\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n\n\n4859\n1\n1\n1\n1\n1\nNA\nNA\nNA\nNA\nNA\nNA\n\n\n4861\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n\n\n4862\n1\n1\n1\n1\n1\n1\n1\n1\n1\nNA\nNA\n\n\n4863\n1\n1\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\n4864\n1\n1\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\n4865\n1\n1\n1\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA"
  },
  {
    "objectID": "slides/09_merging-data.html#example-pivot_wider-2",
    "href": "slides/09_merging-data.html#example-pivot_wider-2",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Example: pivot_wider()",
    "text": "Example: pivot_wider()\n\nus_rent_income\n\n\n\n\n\n\n\nGEOID\nNAME\nvariable\nestimate\nmoe\n\n\n\n\n01\nAlabama\nincome\n24476\n136\n\n\n01\nAlabama\nrent\n747\n3\n\n\n02\nAlaska\nincome\n32940\n508\n\n\n02\nAlaska\nrent\n1200\n13\n\n\n04\nArizona\nincome\n27517\n148\n\n\n04\nArizona\nrent\n972\n4\n\n\n05\nArkansas\nincome\n23789\n165\n\n\n05\nArkansas\nrent\n709\n5\n\n\n06\nCalifornia\nincome\n29454\n109\n\n\n06\nCalifornia\nrent\n1358\n3\n\n\n08\nColorado\nincome\n32401\n109\n\n\n08\nColorado\nrent\n1125\n5\n\n\n09\nConnecticut\nincome\n35326\n195\n\n\n09\nConnecticut\nrent\n1123\n5\n\n\n10\nDelaware\nincome\n31560\n247\n\n\n10\nDelaware\nrent\n1076\n10\n\n\n11\nDistrict of Columbia\nincome\n43198\n681\n\n\n11\nDistrict of Columbia\nrent\n1424\n17\n\n\n12\nFlorida\nincome\n25952\n70\n\n\n12\nFlorida\nrent\n1077\n3\n\n\n13\nGeorgia\nincome\n27024\n106\n\n\n13\nGeorgia\nrent\n927\n3\n\n\n15\nHawaii\nincome\n32453\n218\n\n\n15\nHawaii\nrent\n1507\n18\n\n\n16\nIdaho\nincome\n25298\n208\n\n\n16\nIdaho\nrent\n792\n7\n\n\n17\nIllinois\nincome\n30684\n83\n\n\n17\nIllinois\nrent\n952\n3\n\n\n18\nIndiana\nincome\n27247\n117\n\n\n18\nIndiana\nrent\n782\n3\n\n\n19\nIowa\nincome\n30002\n143\n\n\n19\nIowa\nrent\n740\n4\n\n\n20\nKansas\nincome\n29126\n208\n\n\n20\nKansas\nrent\n801\n5\n\n\n21\nKentucky\nincome\n24702\n159\n\n\n21\nKentucky\nrent\n713\n4\n\n\n22\nLouisiana\nincome\n25086\n155\n\n\n22\nLouisiana\nrent\n825\n4\n\n\n23\nMaine\nincome\n26841\n187\n\n\n23\nMaine\nrent\n808\n7\n\n\n24\nMaryland\nincome\n37147\n152\n\n\n24\nMaryland\nrent\n1311\n5\n\n\n25\nMassachusetts\nincome\n34498\n199\n\n\n25\nMassachusetts\nrent\n1173\n5\n\n\n26\nMichigan\nincome\n26987\n82\n\n\n26\nMichigan\nrent\n824\n3\n\n\n27\nMinnesota\nincome\n32734\n189\n\n\n27\nMinnesota\nrent\n906\n4\n\n\n28\nMississippi\nincome\n22766\n194\n\n\n28\nMississippi\nrent\n740\n5\n\n\n29\nMissouri\nincome\n26999\n113\n\n\n29\nMissouri\nrent\n784\n4\n\n\n30\nMontana\nincome\n26249\n206\n\n\n30\nMontana\nrent\n751\n9\n\n\n31\nNebraska\nincome\n30020\n146\n\n\n31\nNebraska\nrent\n773\n4\n\n\n32\nNevada\nincome\n29019\n213\n\n\n32\nNevada\nrent\n1017\n6\n\n\n33\nNew Hampshire\nincome\n33172\n387\n\n\n33\nNew Hampshire\nrent\n1052\n9\n\n\n34\nNew Jersey\nincome\n35075\n148\n\n\n34\nNew Jersey\nrent\n1249\n4\n\n\n35\nNew Mexico\nincome\n24457\n214\n\n\n35\nNew Mexico\nrent\n809\n6\n\n\n36\nNew York\nincome\n31057\n69\n\n\n36\nNew York\nrent\n1194\n3\n\n\n37\nNorth Carolina\nincome\n26482\n111\n\n\n37\nNorth Carolina\nrent\n844\n3\n\n\n38\nNorth Dakota\nincome\n32336\n245\n\n\n38\nNorth Dakota\nrent\n775\n9\n\n\n39\nOhio\nincome\n27435\n94\n\n\n39\nOhio\nrent\n764\n2\n\n\n40\nOklahoma\nincome\n26207\n101\n\n\n40\nOklahoma\nrent\n766\n3\n\n\n41\nOregon\nincome\n27389\n146\n\n\n41\nOregon\nrent\n988\n4\n\n\n42\nPennsylvania\nincome\n28923\n119\n\n\n42\nPennsylvania\nrent\n885\n3\n\n\n44\nRhode Island\nincome\n30210\n259\n\n\n44\nRhode Island\nrent\n957\n6\n\n\n45\nSouth Carolina\nincome\n25454\n123\n\n\n45\nSouth Carolina\nrent\n836\n4\n\n\n46\nSouth Dakota\nincome\n28821\n276\n\n\n46\nSouth Dakota\nrent\n696\n7\n\n\n47\nTennessee\nincome\n25453\n102\n\n\n47\nTennessee\nrent\n808\n4\n\n\n48\nTexas\nincome\n28063\n110\n\n\n48\nTexas\nrent\n952\n2\n\n\n49\nUtah\nincome\n27928\n239\n\n\n49\nUtah\nrent\n948\n6\n\n\n50\nVermont\nincome\n29351\n361\n\n\n50\nVermont\nrent\n945\n11\n\n\n51\nVirginia\nincome\n32545\n202\n\n\n51\nVirginia\nrent\n1166\n5\n\n\n53\nWashington\nincome\n32318\n113\n\n\n53\nWashington\nrent\n1120\n4\n\n\n54\nWest Virginia\nincome\n23707\n203\n\n\n54\nWest Virginia\nrent\n681\n6\n\n\n55\nWisconsin\nincome\n29868\n135\n\n\n55\nWisconsin\nrent\n813\n3\n\n\n56\nWyoming\nincome\n30854\n342\n\n\n56\nWyoming\nrent\n828\n11\n\n\n72\nPuerto Rico\nincome\nNA\nNA\n\n\n72\nPuerto Rico\nrent\n464\n6"
  },
  {
    "objectID": "slides/09_merging-data.html#example-pivot_wider-3",
    "href": "slides/09_merging-data.html#example-pivot_wider-3",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Example: pivot_wider()",
    "text": "Example: pivot_wider()\n\nus_rent_income |&gt;\n  pivot_wider(\n    names_from = variable,\n    values_from = c(estimate, moe)\n  )\n\n\n\n\n\n\n\nGEOID\nNAME\nestimate_income\nestimate_rent\nmoe_income\nmoe_rent\n\n\n\n\n01\nAlabama\n24476\n747\n136\n3\n\n\n02\nAlaska\n32940\n1200\n508\n13\n\n\n04\nArizona\n27517\n972\n148\n4\n\n\n05\nArkansas\n23789\n709\n165\n5\n\n\n06\nCalifornia\n29454\n1358\n109\n3\n\n\n08\nColorado\n32401\n1125\n109\n5\n\n\n09\nConnecticut\n35326\n1123\n195\n5\n\n\n10\nDelaware\n31560\n1076\n247\n10\n\n\n11\nDistrict of Columbia\n43198\n1424\n681\n17\n\n\n12\nFlorida\n25952\n1077\n70\n3\n\n\n13\nGeorgia\n27024\n927\n106\n3\n\n\n15\nHawaii\n32453\n1507\n218\n18\n\n\n16\nIdaho\n25298\n792\n208\n7\n\n\n17\nIllinois\n30684\n952\n83\n3\n\n\n18\nIndiana\n27247\n782\n117\n3\n\n\n19\nIowa\n30002\n740\n143\n4\n\n\n20\nKansas\n29126\n801\n208\n5\n\n\n21\nKentucky\n24702\n713\n159\n4\n\n\n22\nLouisiana\n25086\n825\n155\n4\n\n\n23\nMaine\n26841\n808\n187\n7\n\n\n24\nMaryland\n37147\n1311\n152\n5\n\n\n25\nMassachusetts\n34498\n1173\n199\n5\n\n\n26\nMichigan\n26987\n824\n82\n3\n\n\n27\nMinnesota\n32734\n906\n189\n4\n\n\n28\nMississippi\n22766\n740\n194\n5\n\n\n29\nMissouri\n26999\n784\n113\n4\n\n\n30\nMontana\n26249\n751\n206\n9\n\n\n31\nNebraska\n30020\n773\n146\n4\n\n\n32\nNevada\n29019\n1017\n213\n6\n\n\n33\nNew Hampshire\n33172\n1052\n387\n9\n\n\n34\nNew Jersey\n35075\n1249\n148\n4\n\n\n35\nNew Mexico\n24457\n809\n214\n6\n\n\n36\nNew York\n31057\n1194\n69\n3\n\n\n37\nNorth Carolina\n26482\n844\n111\n3\n\n\n38\nNorth Dakota\n32336\n775\n245\n9\n\n\n39\nOhio\n27435\n764\n94\n2\n\n\n40\nOklahoma\n26207\n766\n101\n3\n\n\n41\nOregon\n27389\n988\n146\n4\n\n\n42\nPennsylvania\n28923\n885\n119\n3\n\n\n44\nRhode Island\n30210\n957\n259\n6\n\n\n45\nSouth Carolina\n25454\n836\n123\n4\n\n\n46\nSouth Dakota\n28821\n696\n276\n7\n\n\n47\nTennessee\n25453\n808\n102\n4\n\n\n48\nTexas\n28063\n952\n110\n2\n\n\n49\nUtah\n27928\n948\n239\n6\n\n\n50\nVermont\n29351\n945\n361\n11\n\n\n51\nVirginia\n32545\n1166\n202\n5\n\n\n53\nWashington\n32318\n1120\n113\n4\n\n\n54\nWest Virginia\n23707\n681\n203\n6\n\n\n55\nWisconsin\n29868\n813\n135\n3\n\n\n56\nWyoming\n30854\n828\n342\n11\n\n\n72\nPuerto Rico\nNA\n464\nNA\n6"
  },
  {
    "objectID": "slides/09_merging-data.html#one-dataset-four-ways-1",
    "href": "slides/09_merging-data.html#one-dataset-four-ways-1",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "One dataset, four ways",
    "text": "One dataset, four ways\n\n\n\nlibrary(tidyverse)\ntable1\n\n# A tibble: 6 × 4\n  country      year  cases population\n  &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt;      &lt;dbl&gt;\n1 Afghanistan  1999    745   19987071\n2 Afghanistan  2000   2666   20595360\n3 Brazil       1999  37737  172006362\n4 Brazil       2000  80488  174504898\n5 China        1999 212258 1272915272\n6 China        2000 213766 1280428583\n\n\n\ntable2\n\n# A tibble: 12 × 4\n   country      year type            count\n   &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;           &lt;dbl&gt;\n 1 Afghanistan  1999 cases             745\n 2 Afghanistan  1999 population   19987071\n 3 Afghanistan  2000 cases            2666\n 4 Afghanistan  2000 population   20595360\n 5 Brazil       1999 cases           37737\n 6 Brazil       1999 population  172006362\n 7 Brazil       2000 cases           80488\n 8 Brazil       2000 population  174504898\n 9 China        1999 cases          212258\n10 China        1999 population 1272915272\n11 China        2000 cases          213766\n12 China        2000 population 1280428583\n\n\n\n\nlibrary(tidyverse)\ntable3\n\n# A tibble: 6 × 3\n  country      year rate             \n  &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;            \n1 Afghanistan  1999 745/19987071     \n2 Afghanistan  2000 2666/20595360    \n3 Brazil       1999 37737/172006362  \n4 Brazil       2000 80488/174504898  \n5 China        1999 212258/1272915272\n6 China        2000 213766/1280428583\n\n\n\ntable4a\n\n# A tibble: 3 × 3\n  country     `1999` `2000`\n  &lt;chr&gt;        &lt;dbl&gt;  &lt;dbl&gt;\n1 Afghanistan    745   2666\n2 Brazil       37737  80488\n3 China       212258 213766\n\n\n\ntable4b\n\n# A tibble: 3 × 3\n  country         `1999`     `2000`\n  &lt;chr&gt;            &lt;dbl&gt;      &lt;dbl&gt;\n1 Afghanistan   19987071   20595360\n2 Brazil       172006362  174504898\n3 China       1272915272 1280428583"
  },
  {
    "objectID": "slides/09_merging-data.html#munging-data-1",
    "href": "slides/09_merging-data.html#munging-data-1",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Munging data",
    "text": "Munging data\nWhat if we want to convert from table2 or table4a and table4b to table1?\nGroup work: Work through how to convert table2 to table1 (and back). If time permits, try converting table4a and table4b table1 (and back)."
  },
  {
    "objectID": "slides/09_merging-data.html#working-with-messier-data-us-population-2010-2020",
    "href": "slides/09_merging-data.html#working-with-messier-data-us-population-2010-2020",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Working with messier data: US population, 2010-2020",
    "text": "Working with messier data: US population, 2010-2020\n\nstate_population &lt;- readr::read_csv(\"https://www2.census.gov/programs-surveys/popest/datasets/2010-2020/national/totals/nst-est2020.csv\")\n\n\n\n\n\n\n\nSUMLEV\nREGION\nDIVISION\nSTATE\nNAME\nCENSUS2010POP\nESTIMATESBASE2010\nPOPESTIMATE2010\nPOPESTIMATE2011\nPOPESTIMATE2012\nPOPESTIMATE2013\nPOPESTIMATE2014\nPOPESTIMATE2015\nPOPESTIMATE2016\nPOPESTIMATE2017\nPOPESTIMATE2018\nPOPESTIMATE2019\nPOPESTIMATE042020\nPOPESTIMATE2020\n\n\n\n\n010\n0\n0\n00\nUnited States\n308745538\n308758105\n309327143\n311583481\n313877662\n316059947\n318386329\n320738994\n323071755\n325122128\n326838199\n328329953\n329398742\n329484123\n\n\n020\n1\n0\n00\nNortheast Region\n55317240\n55318414\n55380764\n55608318\n55782661\n55912775\n56021339\n56052790\n56063777\n56083383\n56084543\n56002934\n55924275\n55849869\n\n\n020\n2\n0\n00\nMidwest Region\n66927001\n66929737\n66975328\n67164092\n67348275\n67576524\n67765576\n67885682\n68018175\n68160342\n68263019\n68340091\n68357895\n68316744\n\n\n020\n3\n0\n00\nSouth Region\n114555744\n114563042\n114869421\n116019483\n117264196\n118397213\n119666248\n121049223\n122419547\n123611036\n124649156\n125686544\n126494232\n126662754\n\n\n020\n4\n0\n00\nWest Region\n71945553\n71946912\n72101630\n72791588\n73482530\n74173435\n74933166\n75751299\n76570256\n77267367\n77841481\n78300384\n78622340\n78654756\n\n\n040\n3\n6\n01\nAlabama\n4779736\n4780118\n4785514\n4799642\n4816632\n4831586\n4843737\n4854803\n4866824\n4877989\n4891628\n4907965\n4920706\n4921532\n\n\n040\n4\n9\n02\nAlaska\n710231\n710246\n713982\n722349\n730810\n737626\n737075\n738430\n742575\n740983\n736624\n733603\n732074\n731158\n\n\n040\n4\n8\n04\nArizona\n6392017\n6392292\n6407342\n6473416\n6556344\n6634690\n6732873\n6832810\n6944767\n7048088\n7164228\n7291843\n7393900\n7421401\n\n\n040\n3\n7\n05\nArkansas\n2915918\n2916029\n2921998\n2941038\n2952876\n2960459\n2968759\n2979732\n2991815\n3003855\n3012161\n3020985\n3029672\n3030522\n\n\n040\n4\n9\n06\nCalifornia\n37253956\n37254522\n37319550\n37636311\n37944551\n38253768\n38586706\n38904296\n39149186\n39337785\n39437463\n39437610\n39418894\n39368078\n\n\n040\n4\n8\n08\nColorado\n5029196\n5029319\n5047539\n5121900\n5193660\n5270774\n5352637\n5454328\n5543844\n5617421\n5697155\n5758486\n5798266\n5807719\n\n\n040\n1\n1\n09\nConnecticut\n3574097\n3574151\n3579173\n3588632\n3595211\n3595792\n3595697\n3588561\n3579830\n3575324\n3574561\n3566022\n3561494\n3557006\n\n\n040\n3\n5\n10\nDelaware\n897934\n897947\n899647\n907590\n915518\n924062\n933131\n942065\n949989\n957942\n966985\n976668\n984899\n986809\n\n\n040\n3\n5\n11\nDistrict of Columbia\n601723\n601767\n605282\n620290\n635737\n651559\n663603\n677014\n687576\n697079\n704147\n708253\n712185\n712816\n\n\n040\n3\n5\n12\nFlorida\n18801310\n18804589\n18846143\n19055607\n19302016\n19551678\n19853880\n20219111\n20627237\n20977089\n21254926\n21492056\n21688239\n21733312\n\n\n040\n3\n5\n13\nGeorgia\n9687653\n9688737\n9712209\n9803630\n9903580\n9975592\n10071204\n10183353\n10308442\n10417031\n10519389\n10628020\n10695662\n10710017\n\n\n040\n4\n9\n15\nHawaii\n1360301\n1360304\n1364004\n1379562\n1395199\n1408822\n1415335\n1422999\n1428885\n1425763\n1423102\n1415615\n1410587\n1407006\n\n\n040\n4\n8\n16\nIdaho\n1567582\n1567658\n1570819\n1584272\n1595910\n1612053\n1632248\n1652495\n1684036\n1719745\n1752074\n1789060\n1818238\n1826913\n\n\n040\n2\n3\n17\nIllinois\n12830632\n12831572\n12840545\n12867783\n12883029\n12895778\n12885092\n12859585\n12821709\n12779893\n12724685\n12667017\n12615162\n12587530\n\n\n040\n2\n3\n18\nIndiana\n6483802\n6484050\n6490555\n6517250\n6538989\n6570575\n6596019\n6611442\n6637898\n6662068\n6698481\n6731010\n6752183\n6754953\n\n\n040\n2\n4\n19\nIowa\n3046355\n3046877\n3050819\n3066772\n3076844\n3093935\n3110643\n3122541\n3133210\n3143734\n3149900\n3159596\n3164115\n3163561\n\n\n040\n2\n4\n20\nKansas\n2853118\n2853120\n2858266\n2869677\n2886024\n2894306\n2901861\n2910717\n2912977\n2910892\n2912748\n2912635\n2915024\n2913805\n\n\n040\n3\n6\n21\nKentucky\n4339367\n4339330\n4348464\n4370817\n4387865\n4406906\n4416992\n4429126\n4440306\n4455590\n4464273\n4472345\n4477899\n4477251\n\n\n040\n3\n7\n22\nLouisiana\n4533372\n4533500\n4544635\n4576244\n4602067\n4626040\n4645938\n4666998\n4681346\n4673673\n4664450\n4658285\n4650984\n4645318\n\n\n040\n1\n1\n23\nMaine\n1328361\n1328354\n1327651\n1328473\n1328094\n1328543\n1331217\n1329098\n1332348\n1335743\n1340123\n1345770\n1349647\n1350141\n\n\n040\n3\n5\n24\nMaryland\n5773552\n5773787\n5788784\n5840241\n5888375\n5925197\n5960064\n5988528\n6007014\n6028186\n6042153\n6054954\n6059529\n6055802\n\n\n040\n1\n1\n25\nMassachusetts\n6547629\n6547788\n6566440\n6614218\n6664269\n6715158\n6764864\n6797484\n6827280\n6863560\n6885720\n6894883\n6898116\n6893574\n\n\n040\n2\n3\n26\nMichigan\n9883640\n9884112\n9877597\n9883053\n9898289\n9914802\n9932033\n9934483\n9954117\n9976752\n9987286\n9984795\n9976330\n9966555\n\n\n040\n2\n4\n27\nMinnesota\n5303925\n5303933\n5310934\n5346620\n5377500\n5414722\n5452665\n5484002\n5525360\n5569283\n5608762\n5640053\n5655855\n5657342\n\n\n040\n3\n6\n28\nMississippi\n2967297\n2968129\n2970615\n2979147\n2984599\n2989839\n2991892\n2990231\n2990595\n2990674\n2982879\n2978227\n2971253\n2966786\n\n\n040\n2\n4\n29\nMissouri\n5988927\n5988941\n5996089\n6011182\n6026027\n6042989\n6059130\n6075411\n6091384\n6111382\n6125986\n6140475\n6151737\n6151548\n\n\n040\n4\n8\n30\nMontana\n989415\n989400\n990730\n997518\n1004168\n1014158\n1022657\n1031495\n1042137\n1053862\n1061818\n1070123\n1078405\n1080577\n\n\n040\n2\n4\n31\nNebraska\n1826341\n1826311\n1829591\n1840914\n1853691\n1865813\n1879955\n1892059\n1906483\n1916998\n1925512\n1932571\n1937258\n1937552\n\n\n040\n4\n8\n32\nNevada\n2700551\n2700683\n2702483\n2713114\n2744670\n2776956\n2818935\n2868531\n2919555\n2972097\n3030725\n3090771\n3128500\n3138259\n\n\n040\n1\n1\n33\nNew Hampshire\n1316470\n1316457\n1316807\n1320444\n1324677\n1327272\n1334257\n1337480\n1343694\n1350395\n1355064\n1360783\n1365533\n1366275\n\n\n040\n1\n2\n34\nNew Jersey\n8791894\n8791959\n8799451\n8828552\n8845671\n8857821\n8867277\n8870312\n8873584\n8888147\n8891730\n8891258\n8890883\n8882371\n\n\n040\n4\n8\n35\nNew Mexico\n2059179\n2059199\n2064614\n2080707\n2087715\n2092833\n2090236\n2090071\n2092555\n2092844\n2093754\n2099634\n2106117\n2106319\n\n\n040\n1\n2\n36\nNew York\n19378102\n19378117\n19399956\n19499921\n19574362\n19626488\n19653431\n19657321\n19636391\n19593849\n19544098\n19463131\n19382373\n19336776\n\n\n040\n3\n5\n37\nNorth Carolina\n9535483\n9535762\n9574586\n9658913\n9751810\n9846717\n9937295\n10037218\n10161802\n10275758\n10391358\n10501384\n10581885\n10600823\n\n\n040\n2\n4\n38\nNorth Dakota\n672591\n672575\n674752\n685526\n702227\n723149\n738736\n755537\n756114\n756755\n760062\n763724\n765224\n765309\n\n\n040\n2\n3\n39\nOhio\n11536504\n11536763\n11539449\n11545735\n11550971\n11579692\n11606573\n11622315\n11640060\n11665706\n11680892\n11696507\n11699855\n11693217\n\n\n040\n3\n7\n40\nOklahoma\n3751351\n3751582\n3760014\n3788824\n3819320\n3853891\n3879187\n3910518\n3928143\n3933602\n3943488\n3960676\n3977682\n3980783\n\n\n040\n4\n9\n41\nOregon\n3831074\n3831083\n3837614\n3872672\n3900102\n3924110\n3965447\n4018542\n4093271\n4147294\n4183538\n4216116\n4237408\n4241507\n\n\n040\n1\n2\n42\nPennsylvania\n12702379\n12702891\n12711406\n12747052\n12769123\n12779538\n12792392\n12789838\n12788468\n12794679\n12809107\n12798883\n12794404\n12783254\n\n\n040\n1\n1\n44\nRhode Island\n1052567\n1052970\n1053994\n1053829\n1054893\n1055560\n1056511\n1056886\n1057816\n1056554\n1059338\n1058158\n1058004\n1057125\n\n\n040\n3\n5\n45\nSouth Carolina\n4625364\n4625358\n4635846\n4672655\n4719027\n4766469\n4826858\n4896006\n4963031\n5027102\n5091702\n5157702\n5205864\n5218040\n\n\n040\n2\n4\n46\nSouth Dakota\n814180\n814198\n816193\n823740\n833859\n842751\n849670\n854663\n863693\n873732\n879386\n887127\n891688\n892717\n\n\n040\n3\n6\n47\nTennessee\n6346105\n6346281\n6355518\n6400298\n6455752\n6496943\n6544617\n6595354\n6651277\n6714748\n6778180\n6830325\n6875939\n6886834\n\n\n040\n3\n7\n48\nTexas\n25145561\n25146072\n25241897\n25645504\n26084120\n26479646\n26963092\n27468531\n27914064\n28291024\n28624564\n28986794\n29286467\n29360759\n\n\n040\n4\n8\n49\nUtah\n2763885\n2763891\n2775413\n2814797\n2854146\n2898773\n2938327\n2983626\n3044241\n3103540\n3155153\n3203383\n3239542\n3249879\n\n\n040\n1\n1\n50\nVermont\n625741\n625727\n625886\n627197\n626361\n626603\n625693\n625810\n624366\n625132\n624802\n624046\n623821\n623347\n\n\n040\n3\n5\n51\nVirginia\n8001024\n8001046\n8024004\n8102437\n8187456\n8255861\n8315430\n8367303\n8417651\n8471011\n8510920\n8556642\n8587217\n8590563\n\n\n040\n4\n9\n53\nWashington\n6724540\n6724540\n6743009\n6827479\n6898599\n6966252\n7057531\n7167287\n7299961\n7427951\n7526793\n7614024\n7678379\n7693612\n\n\n040\n3\n5\n54\nWest Virginia\n1852994\n1853008\n1854265\n1856606\n1857446\n1854768\n1850569\n1843332\n1832435\n1818683\n1805953\n1795263\n1788150\n1784787\n\n\n040\n2\n3\n55\nWisconsin\n5686986\n5687285\n5690538\n5705840\n5720825\n5738012\n5753199\n5762927\n5775170\n5793147\n5809319\n5824581\n5833464\n5832655\n\n\n040\n4\n8\n56\nWyoming\n563626\n563775\n564531\n567491\n576656\n582620\n583159\n586389\n585243\n579994\n579054\n580116\n582030\n582328\n\n\n040\nX\nX\n72\nPuerto Rico\n3725789\n3726157\n3721525\n3678732\n3634488\n3593077\n3534874\n3473232\n3406672\n3325284\n3193344\n3193553\n3167851\n3159343"
  },
  {
    "objectID": "slides/09_merging-data.html#national-population-data",
    "href": "slides/09_merging-data.html#national-population-data",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "National population data",
    "text": "National population data\nWe can use the SUMLEV variable to obtain only national data:\n\nlibrary(tidyverse)\nUS_pop &lt;- state_population |&gt;\n  filter(SUMLEV == \"010\")\n\n\n\n\n\n\nSUMLEV\nREGION\nDIVISION\nSTATE\nNAME\nCENSUS2010POP\nESTIMATESBASE2010\nPOPESTIMATE2010\nPOPESTIMATE2011\nPOPESTIMATE2012\nPOPESTIMATE2013\nPOPESTIMATE2014\nPOPESTIMATE2015\nPOPESTIMATE2016\nPOPESTIMATE2017\nPOPESTIMATE2018\nPOPESTIMATE2019\nPOPESTIMATE042020\nPOPESTIMATE2020\n\n\n\n\n010\n0\n0\n00\nUnited States\n308745538\n308758105\n309327143\n311583481\n313877662\n316059947\n318386329\n320738994\n323071755\n325122128\n326838199\n328329953\n329398742\n329484123"
  },
  {
    "objectID": "slides/09_merging-data.html#national-population-data-1",
    "href": "slides/09_merging-data.html#national-population-data-1",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "National population data",
    "text": "National population data\nHow can we generate the following plot?"
  },
  {
    "objectID": "slides/09_merging-data.html#national-population-data-2",
    "href": "slides/09_merging-data.html#national-population-data-2",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "National population data",
    "text": "National population data\nNote that our data cannot be readily used with ggplot to generate the previous plot. Ideally, we would like two vectors of the same length: one representing Year and one representing Population."
  },
  {
    "objectID": "slides/09_merging-data.html#manipulating-data-for-visualization",
    "href": "slides/09_merging-data.html#manipulating-data-for-visualization",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Manipulating data for visualization",
    "text": "Manipulating data for visualization\n\nlibrary(tidyverse)\nUS_pop &lt;- state_population |&gt;\n  filter(SUMLEV == \"010\")\n\n\n\n\n\n\n\nSUMLEV\nREGION\nDIVISION\nSTATE\nNAME\nCENSUS2010POP\nESTIMATESBASE2010\nPOPESTIMATE2010\nPOPESTIMATE2011\nPOPESTIMATE2012\nPOPESTIMATE2013\nPOPESTIMATE2014\nPOPESTIMATE2015\nPOPESTIMATE2016\nPOPESTIMATE2017\nPOPESTIMATE2018\nPOPESTIMATE2019\nPOPESTIMATE042020\nPOPESTIMATE2020\n\n\n\n\n010\n0\n0\n00\nUnited States\n308745538\n308758105\n309327143\n311583481\n313877662\n316059947\n318386329\n320738994\n323071755\n325122128\n326838199\n328329953\n329398742\n329484123"
  },
  {
    "objectID": "slides/09_merging-data.html#approach-1-build-a-data-frame-manually",
    "href": "slides/09_merging-data.html#approach-1-build-a-data-frame-manually",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Approach 1: Build a data frame manually",
    "text": "Approach 1: Build a data frame manually\n\n# base R\nplot_dat &lt;- data.frame(\n  Year = 2010:2020,\n  Population = US_pop[1, 8:19]\n)\nhead(plot_dat)\n\n\n\n\n  Year Population.POPESTIMATE2010 Population.POPESTIMATE2011\n1 2010                  309327143                  311583481\n2 2011                  309327143                  311583481\n3 2012                  309327143                  311583481\n4 2013                  309327143                  311583481\n5 2014                  309327143                  311583481\n6 2015                  309327143                  311583481\n  Population.POPESTIMATE2012 Population.POPESTIMATE2013\n1                  313877662                  316059947\n2                  313877662                  316059947\n3                  313877662                  316059947\n4                  313877662                  316059947\n5                  313877662                  316059947\n6                  313877662                  316059947\n  Population.POPESTIMATE2014 Population.POPESTIMATE2015\n1                  318386329                  320738994\n2                  318386329                  320738994\n3                  318386329                  320738994\n4                  318386329                  320738994\n5                  318386329                  320738994\n6                  318386329                  320738994\n  Population.POPESTIMATE2016 Population.POPESTIMATE2017\n1                  323071755                  325122128\n2                  323071755                  325122128\n3                  323071755                  325122128\n4                  323071755                  325122128\n5                  323071755                  325122128\n6                  323071755                  325122128\n  Population.POPESTIMATE2018 Population.POPESTIMATE2019\n1                  326838199                  328329953\n2                  326838199                  328329953\n3                  326838199                  328329953\n4                  326838199                  328329953\n5                  326838199                  328329953\n6                  326838199                  328329953\n  Population.POPESTIMATE042020 Population.POPESTIMATE2020\n1                    329398742                  329484123\n2                    329398742                  329484123\n3                    329398742                  329484123\n4                    329398742                  329484123\n5                    329398742                  329484123\n6                    329398742                  329484123"
  },
  {
    "objectID": "slides/09_merging-data.html#national-population-data-3",
    "href": "slides/09_merging-data.html#national-population-data-3",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "National population data",
    "text": "National population data\nWhat went wrong? US_pop[1, 8:19] is a tibble, and we need a numeric.\n\n\nplot_dat &lt;- data.frame(\n  Year = 2010:2020,\n  Population = as.numeric(US_pop[1, 8:19])\n)\n\n\n\n\n\nError in data.frame(Year = 2010:2020, Population = as.numeric(US_pop[1, : arguments imply differing number of rows: 11, 12"
  },
  {
    "objectID": "slides/09_merging-data.html#national-population-data-4",
    "href": "slides/09_merging-data.html#national-population-data-4",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "National population data",
    "text": "National population data\nNow what? US_pop has an extra column POPESTIMATE042020 which we need to remove.\n\n\n# base R\nplot_dat &lt;- data.frame(\n  Year = 2010:2020,\n  Population = as.numeric(US_pop[, c(8:17, 19)])\n)\nhead(plot_dat)\n\n  Year Population\n1 2010  309327143\n2 2011  311583481\n3 2012  313877662\n4 2013  316059947\n5 2014  318386329\n6 2015  320738994"
  },
  {
    "objectID": "slides/09_merging-data.html#national-population-data-5",
    "href": "slides/09_merging-data.html#national-population-data-5",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "National population data",
    "text": "National population data\nFinally, we can use the plot function to get our desired visualization:\n\nplot(plot_dat$Year, plot_dat$Population)"
  },
  {
    "objectID": "slides/09_merging-data.html#approach-2-tidyverse",
    "href": "slides/09_merging-data.html#approach-2-tidyverse",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Approach 2: Tidyverse",
    "text": "Approach 2: Tidyverse\nNow let’s see how we might approach the same task in the tidyverse. Our strategy will be to “tidy” the data so we have one row for each observation and one column for each observation.\nFirst, let’s remove the unnecessary column using the select() function.\n\nUS_pop |&gt; \n  select(-POPESTIMATE042020)  \n\n\n\n\n\n\n\nSUMLEV\nREGION\nDIVISION\nSTATE\nNAME\nCENSUS2010POP\nESTIMATESBASE2010\nPOPESTIMATE2010\nPOPESTIMATE2011\nPOPESTIMATE2012\nPOPESTIMATE2013\nPOPESTIMATE2014\nPOPESTIMATE2015\nPOPESTIMATE2016\nPOPESTIMATE2017\nPOPESTIMATE2018\nPOPESTIMATE2019\nPOPESTIMATE2020\n\n\n\n\n010\n0\n0\n00\nUnited States\n308745538\n308758105\n309327143\n311583481\n313877662\n316059947\n318386329\n320738994\n323071755\n325122128\n326838199\n328329953\n329484123"
  },
  {
    "objectID": "slides/09_merging-data.html#tidyverse-strategy",
    "href": "slides/09_merging-data.html#tidyverse-strategy",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Tidyverse strategy",
    "text": "Tidyverse strategy\nNow let’s use the pivot_longer function to combine the POPESTIMATE columns into two variables: Year and Population:\n\nUS_pop |&gt; \n  select(-POPESTIMATE042020) |&gt;\n  pivot_longer(contains(\"POPESTIMATE\"), \n               names_to = \"Year\",\n               values_to = \"Population\")"
  },
  {
    "objectID": "slides/09_merging-data.html#tidyverse-strategy-1",
    "href": "slides/09_merging-data.html#tidyverse-strategy-1",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Tidyverse strategy",
    "text": "Tidyverse strategy\n\n\n\n\n\n\nSUMLEV\nREGION\nDIVISION\nSTATE\nNAME\nCENSUS2010POP\nESTIMATESBASE2010\nYear\nPopulation\n\n\n\n\n010\n0\n0\n00\nUnited States\n308745538\n308758105\nPOPESTIMATE2010\n309327143\n\n\n010\n0\n0\n00\nUnited States\n308745538\n308758105\nPOPESTIMATE2011\n311583481\n\n\n010\n0\n0\n00\nUnited States\n308745538\n308758105\nPOPESTIMATE2012\n313877662\n\n\n010\n0\n0\n00\nUnited States\n308745538\n308758105\nPOPESTIMATE2013\n316059947\n\n\n010\n0\n0\n00\nUnited States\n308745538\n308758105\nPOPESTIMATE2014\n318386329\n\n\n010\n0\n0\n00\nUnited States\n308745538\n308758105\nPOPESTIMATE2015\n320738994\n\n\n010\n0\n0\n00\nUnited States\n308745538\n308758105\nPOPESTIMATE2016\n323071755\n\n\n010\n0\n0\n00\nUnited States\n308745538\n308758105\nPOPESTIMATE2017\n325122128\n\n\n010\n0\n0\n00\nUnited States\n308745538\n308758105\nPOPESTIMATE2018\n326838199\n\n\n010\n0\n0\n00\nUnited States\n308745538\n308758105\nPOPESTIMATE2019\n328329953\n\n\n010\n0\n0\n00\nUnited States\n308745538\n308758105\nPOPESTIMATE2020\n329484123\n\n\n\n\n\n\n\nWhat do we need to do next?"
  },
  {
    "objectID": "slides/09_merging-data.html#tidyverse-strategy-2",
    "href": "slides/09_merging-data.html#tidyverse-strategy-2",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Tidyverse strategy",
    "text": "Tidyverse strategy\nFinally, we need to use the str_sub() function to shorten our Year variable before turning it into a numeric.\n\nUS_pop |&gt; \n  select(-POPESTIMATE042020) |&gt;\n  pivot_longer(contains(\"POPESTIMATE\"), \n               names_to = \"Year\",\n               values_to = \"Population\") |&gt;\n  mutate(Year = as.numeric(stringr::str_sub(Year, start = 12)))"
  },
  {
    "objectID": "slides/09_merging-data.html#tidyverse-strategy-3",
    "href": "slides/09_merging-data.html#tidyverse-strategy-3",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Tidyverse strategy",
    "text": "Tidyverse strategy\nNow, Year is numeric as desired:\n\n\n\n\n\n\nSUMLEV\nREGION\nDIVISION\nSTATE\nNAME\nCENSUS2010POP\nESTIMATESBASE2010\nYear\nPopulation\n\n\n\n\n010\n0\n0\n00\nUnited States\n308745538\n308758105\n2010\n309327143\n\n\n010\n0\n0\n00\nUnited States\n308745538\n308758105\n2011\n311583481\n\n\n010\n0\n0\n00\nUnited States\n308745538\n308758105\n2012\n313877662\n\n\n010\n0\n0\n00\nUnited States\n308745538\n308758105\n2013\n316059947\n\n\n010\n0\n0\n00\nUnited States\n308745538\n308758105\n2014\n318386329\n\n\n010\n0\n0\n00\nUnited States\n308745538\n308758105\n2015\n320738994\n\n\n010\n0\n0\n00\nUnited States\n308745538\n308758105\n2016\n323071755\n\n\n010\n0\n0\n00\nUnited States\n308745538\n308758105\n2017\n325122128\n\n\n010\n0\n0\n00\nUnited States\n308745538\n308758105\n2018\n326838199\n\n\n010\n0\n0\n00\nUnited States\n308745538\n308758105\n2019\n328329953\n\n\n010\n0\n0\n00\nUnited States\n308745538\n308758105\n2020\n329484123"
  },
  {
    "objectID": "slides/09_merging-data.html#tidyverse-strategy-4",
    "href": "slides/09_merging-data.html#tidyverse-strategy-4",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Tidyverse strategy",
    "text": "Tidyverse strategy\nNow we can |&gt; it to ggplot:\n\nUS_pop |&gt; \n  select(-POPESTIMATE042020) |&gt;\n  pivot_longer(contains(\"POPESTIMATE\"), \n               names_to = \"Year\",\n               values_to = \"Population\") |&gt;\n  mutate(Year = as.numeric(stringr::str_sub(Year, start = 12))) |&gt;\n  ggplot(aes(x = Year, y = Population)) + \n  geom_line()"
  },
  {
    "objectID": "slides/09_merging-data.html#tidyverse-strategy-5",
    "href": "slides/09_merging-data.html#tidyverse-strategy-5",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Tidyverse strategy",
    "text": "Tidyverse strategy"
  },
  {
    "objectID": "slides/09_merging-data.html#tidyverse-strategy-more-complicated-plots",
    "href": "slides/09_merging-data.html#tidyverse-strategy-more-complicated-plots",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Tidyverse strategy: More complicated plots",
    "text": "Tidyverse strategy: More complicated plots\nWe can also work with the region level data, mapping the color aesthetic to the region:\n\nstate_population |&gt; \n  filter(SUMLEV == \"020\") |&gt;\n  select(-POPESTIMATE042020) |&gt;\n  pivot_longer(contains(\"POPESTIMATE\"), \n               names_to = \"Year\",\n               values_to = \"Population\") |&gt;\n  mutate(Year = as.numeric(stringr::str_sub(Year, start = 12))) |&gt;\n  ggplot(aes(x = Year, y = Population, color = NAME)) + \n  geom_line()"
  },
  {
    "objectID": "slides/09_merging-data.html#tidyverse-strategy-more-complicated-plots-1",
    "href": "slides/09_merging-data.html#tidyverse-strategy-more-complicated-plots-1",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Tidyverse strategy: More complicated plots",
    "text": "Tidyverse strategy: More complicated plots"
  },
  {
    "objectID": "slides/09_merging-data.html#example-world-bank-inflation-data",
    "href": "slides/09_merging-data.html#example-world-bank-inflation-data",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Example: World Bank Inflation Data",
    "text": "Example: World Bank Inflation Data\nThe World Bank provides historical data on inflation in countries around the world here.\nIn particular, let’s explore the annual consumer price inflation data for the US.\n\nThe consumer price inflation measures the “annual percentage change in the cost to the average consumer of acquiring a basket of goods.”"
  },
  {
    "objectID": "slides/09_merging-data.html#example-world-bank-inflation-data-1",
    "href": "slides/09_merging-data.html#example-world-bank-inflation-data-1",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Example: World Bank Inflation Data",
    "text": "Example: World Bank Inflation Data\n\nlibrary(openxlsx)\ncpi &lt;- read.xlsx(\"https://thedocs.worldbank.org/en/doc/1ad246272dbbc437c74323719506aa0c-0350012021/original/Inflation-data.xlsx\",\n                 sheet = 5)\ncpi &lt;- cpi[1:203,]\n\n\n\n\n\n\n\nCountry.Code\nIMF.Country.Code\nCountry\nIndicator.Type\nSeries.Name\n1970\n1971\n1972\n1973\n1974\n1975\n1976\n1977\n1978\n1979\n1980\n1981\n1982\n1983\n1984\n1985\n1986\n1987\n1988\n1989\n1990\n1991\n1992\n1993\n1994\n1995\n1996\n1997\n1998\n1999\n2000\n2001\n2002\n2003\n2004\n2005\n2006\n2007\n2008\n2009\n2010\n2011\n2012\n2013\n2014\n2015\n2016\n2017\n2018\n2019\n2020\n2021\n2022\n2023\nNote\n\n\n\n\nAFG\n512\nAfghanistan\nInflation\nHeadline Consumer Price Inflation\n25.510\n25.510\n-12.520\n-10.680\n10.230\n11.850\n0.600\n7.650\n5.000\n9.900\n13.400\n22.200\n18.200\n15.900\n20.400\n8.700\n-2.100\n18.400\n27.500\n71.500\n47.400\n43.800\n58.190\n33.990\n20.010\n14.000\n14.010\n14.010\n14.010\n14.010\n0.001\n-43.400\n51.930\n35.663\n16.358\n10.569\n6.780\n8.680\n26.420\n-6.810\n2.180\n11.800\n6.440\n7.390\n4.670\n-0.660\n4.380\n4.976\n0.63\n2.302\n5.443\n5.062\n10.600\nNA\nAnnual average inflation\n\n\nALB\n914\nAlbania\nInflation\nHeadline Consumer Price Inflation\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n-0.180\n35.717\n225.996\n85.005\n22.565\n7.755\n12.799\n33.212\n20.552\n0.402\n0.025\n3.105\n5.185\n2.378\n2.830\n2.357\n2.410\n2.908\n3.405\n2.290\n3.565\n3.415\n2.028\n1.935\n1.622\n1.910\n1.291\n1.987\n2.03\n1.411\n1.621\n2.041\n6.725\n5.565\nAnnual average inflation\n\n\nDZA\n612\nAlgeria\nInflation\nHeadline Consumer Price Inflation\n6.600\n2.627\n3.656\n6.173\n4.700\n8.230\n9.431\n11.989\n17.524\n11.349\n9.668\n14.610\n6.593\n7.835\n6.310\n10.432\n14.007\n5.857\n5.938\n9.172\n9.272\n25.900\n31.700\n20.500\n29.000\n29.800\n18.700\n5.700\n4.950\n2.600\n0.300\n4.200\n1.430\n4.259\n3.972\n1.382\n2.310\n3.931\n4.380\n9.363\n4.207\n5.739\n9.698\n4.102\n3.877\n4.392\n5.800\n5.591\n3.51\n1.952\n2.415\n7.226\n9.266\n9.322\nAnnual average inflation\n\n\nAGO\n614\nAngola\nInflation\nHeadline Consumer Price Inflation\n7.970\n5.780\n15.800\n15.670\n27.420\n29.000\n80.700\n69.010\n48.460\n101.300\n46.708\n1.391\n1.833\n1.833\n1.833\n1.833\n1.833\n1.833\n1.833\n1.833\n1.833\n85.265\n299.097\n1379.476\n949.771\n2672.230\n4146.010\n221.492\n107.429\n248.248\n325.029\n152.586\n108.893\n98.219\n43.525\n22.961\n13.305\n12.249\n12.465\n13.721\n14.480\n13.484\n10.285\n8.782\n7.298\n9.159\n32.378\n29.844\n19.63\n17.079\n21.024\n23.846\n23.827\n13.644\nAnnual average inflation\n\n\nATG\n311\nAntigua and Barbuda\nInflation\nHeadline Consumer Price Inflation\n8.870\n8.630\n12.670\n21.720\n12.970\n8.610\n15.620\n13.750\n6.150\n16.330\n18.999\n11.465\n4.170\n2.346\n3.844\n0.996\n0.500\n3.602\n6.800\n4.362\n6.591\n4.518\n3.000\n3.100\n6.485\n2.737\n2.965\n0.362\n3.262\n1.135\n-0.162\n1.935\n2.408\n1.994\n2.030\n2.099\n1.788\n1.416\n5.334\n-0.550\n3.370\n3.457\n3.377\n1.059\n1.089\n0.969\n-0.489\n2.425\n1.21\n1.475\n1.058\n1.627\n7.531\n5.067\nAnnual average inflation\n\n\nARG\n213\nArgentina\nInflation\nHeadline Consumer Price Inflation\n13.587\n34.732\n58.446\n61.249\n23.475\n182.927\n443.966\n176.002\n175.515\n159.507\n100.764\n104.476\n164.777\n343.811\n626.719\n672.181\n90.097\n131.327\n342.955\n3079.810\n2313.960\n171.672\n24.900\n10.611\n4.177\n3.376\n0.156\n0.527\n0.925\n-1.167\n-0.939\n-1.065\n25.869\n13.443\n4.416\n9.642\n10.898\n8.830\n8.585\n6.270\n10.461\n9.775\n10.043\n10.619\n38.081\n26.538\n39.400\n25.675\n34.28\n53.548\n42.015\n48.409\n72.431\n128.415\nAnnual average inflation\n\n\nARM\n911\nArmenia\nInflation\nHeadline Consumer Price Inflation\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n3731.800\n5273.449\n176.743\n18.653\n14.046\n8.673\n0.648\n-0.791\n3.146\n1.790\n4.543\n5.928\n0.717\n3.433\n4.553\n9.018\n3.544\n7.274\n7.653\n2.540\n5.788\n2.981\n3.731\n-1.406\n1.031\n2.52\n1.443\n1.211\n7.185\n8.641\n1.980\nAnnual average inflation\n\n\nABW\n314\nAruba\nInflation\nHeadline Consumer Price Inflation\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n3.200\n2.996\n1.875\n2.277\n4.049\n2.890\n3.320\n3.660\n2.530\n3.400\n3.610\n5.390\n8.960\n-2.140\n2.080\n4.320\n0.630\n-2.370\n0.420\n0.480\n-0.890\n-0.474\n3.58\n4.257\n1.222\n0.744\n5.520\n3.366\nAnnual average inflation\n\n\nAUS\n193\nAustralia\nInflation\nHeadline Consumer Price Inflation\n3.440\n6.138\n6.024\n9.091\n15.417\n15.162\n13.323\n12.310\n8.005\n9.122\n10.136\n9.488\n11.352\n10.039\n3.960\n6.735\n9.050\n8.533\n7.216\n7.534\n7.333\n3.177\n1.012\n1.754\n1.970\n4.628\n2.615\n0.225\n0.860\n1.483\n4.457\n4.407\n2.982\n2.733\n2.343\n2.692\n3.555\n2.328\n4.350\n1.771\n2.918\n3.304\n1.763\n2.450\n2.488\n1.508\n1.277\n1.972\n1.91\n1.610\n0.847\n2.820\n6.594\n5.597\nAnnual average inflation\n\n\nAUT\n122\nAustria\nInflation\nHeadline Consumer Price Inflation\n4.370\n4.704\n6.355\n7.531\n9.522\n8.445\n7.319\n5.495\n3.574\n3.707\n6.328\n6.803\n5.436\n3.339\n5.663\n3.190\n1.705\n1.402\n1.916\n2.568\n3.262\n3.337\n4.021\n3.632\n2.953\n2.243\n1.861\n1.306\n0.922\n0.569\n2.345\n2.650\n1.810\n1.356\n2.061\n2.299\n1.442\n2.169\n3.216\n0.506\n1.814\n3.287\n2.486\n2.000\n1.606\n0.897\n0.892\n2.230\n2.00\n1.490\n1.382\n2.767\n8.547\n7.814\nAnnual average inflation\n\n\nAZE\n912\nAzerbaijan\nInflation\nHeadline Consumer Price Inflation\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n106.600\n917.000\n1129.700\n1664.000\n411.760\n19.795\n3.674\n-0.773\n-8.525\n1.805\n1.863\n2.777\n2.131\n6.707\n9.542\n8.232\n16.566\n20.797\n1.332\n5.685\n7.772\n1.010\n2.432\n1.433\n4.033\n12.441\n12.844\n2.33\n2.712\n2.760\n6.650\n13.852\n8.785\nAnnual average inflation\n\n\nBHS\n313\nBahamas, The\nInflation\nHeadline Consumer Price Inflation\n6.152\n4.615\n6.831\n5.482\n13.072\n10.360\n4.256\n3.190\n6.109\n9.091\n12.231\n11.046\n6.101\n4.000\n3.966\n4.624\n5.414\n5.994\n4.051\n5.405\n4.628\n7.304\n5.577\n2.748\n1.367\n2.023\n1.262\n0.561\n1.207\n1.119\n1.732\n2.362\n1.498\n3.656\n1.160\n1.819\n1.958\n2.407\n4.434\n1.666\n1.621\n3.200\n1.970\n0.720\n1.510\n1.870\n-0.350\n1.553\n2.23\n1.335\n0.039\n2.905\n5.605\n3.442\nAnnual average inflation\n\n\nBHR\n419\nBahrain\nInflation\nHeadline Consumer Price Inflation\n1.629\n5.789\n5.088\n14.332\n24.393\n16.160\n22.496\n17.731\n15.785\n2.206\n3.800\n11.400\n8.700\n3.200\n0.000\n-2.400\n-2.500\n-1.700\n0.200\n1.200\n1.299\n0.899\n-0.302\n2.599\n3.999\n3.139\n-0.185\n4.602\n-0.418\n-1.259\n-0.730\n-1.175\n-0.496\n1.679\n2.248\n2.618\n2.041\n3.252\n3.520\n2.797\n1.961\n-0.373\n2.771\n3.296\n2.653\n1.836\n2.800\n1.387\n2.08\n1.000\n-2.318\n-0.606\n3.626\n0.178\nAnnual average inflation\n\n\nBGD\n513\nBangladesh\nInflation\nHeadline Consumer Price Inflation\n3.540\n-0.590\n45.290\n45.010\n54.650\n16.620\n-2.430\n9.340\n17.370\n13.590\n15.385\n14.545\n12.875\n9.531\n10.414\n10.465\n10.175\n10.828\n9.674\n8.734\n10.522\n8.285\n3.624\n2.979\n6.150\n10.117\n2.455\n4.959\n8.648\n6.179\n2.483\n1.908\n3.719\n5.361\n6.103\n7.040\n6.770\n9.109\n8.900\n5.441\n8.151\n10.264\n6.549\n7.524\n6.983\n6.186\n5.506\n5.611\n5.55\n5.475\n5.691\n5.307\n7.697\n9.783\nAnnual average inflation\n\n\nBRB\n316\nBarbados\nInflation\nHeadline Consumer Price Inflation\n7.284\n7.469\n11.877\n16.855\n38.923\n20.295\n4.987\n8.352\n9.482\n13.170\n18.498\n14.589\n10.287\n5.275\n4.648\n4.858\n0.199\n3.567\n4.719\n6.334\n3.036\n6.300\n5.996\n1.184\n0.700\n2.838\n2.386\n7.711\n-1.269\n1.560\n2.436\n2.801\n0.169\n1.577\n1.428\n6.065\n7.308\n4.034\n8.108\n3.645\n5.824\n9.430\n4.530\n1.810\n1.770\n-1.110\n1.280\n4.410\n3.69\n4.100\n2.882\n3.064\n9.439\n11.023\nAnnual average inflation\n\n\nBLR\n913\nBelarus\nInflation\nHeadline Consumer Price Inflation\n0.000\n-0.400\n-0.200\n0.000\n-0.100\n0.100\n0.100\n0.200\n0.900\n1.200\n1.100\n1.200\n3.100\n1.000\n-0.700\n0.500\n2.300\n1.600\n0.000\n1.800\n4.600\n94.200\n970.700\n1190.316\n2220.897\n685.185\n51.651\n64.075\n73.270\n294.639\n167.577\n60.845\n42.650\n28.492\n18.241\n10.373\n6.958\n8.295\n14.734\n12.835\n7.662\n53.175\n59.499\n18.332\n18.095\n13.476\n11.803\n6.032\n4.87\n5.600\n5.548\n9.460\n15.210\n5.001\nAnnual average inflation\n\n\nBEL\n124\nBelgium\nInflation\nHeadline Consumer Price Inflation\n3.910\n4.344\n5.448\n6.955\n12.678\n12.768\n9.069\n7.096\n4.471\n4.469\n6.649\n7.627\n8.727\n7.662\n6.342\n4.869\n1.294\n1.553\n1.161\n3.107\n3.448\n3.215\n2.428\n2.754\n2.378\n1.468\n2.077\n1.628\n0.949\n1.121\n2.545\n2.469\n1.645\n1.589\n2.097\n2.781\n1.791\n1.823\n4.489\n-0.053\n2.189\n3.532\n2.840\n1.113\n0.340\n0.561\n1.974\n2.224\n2.05\n1.249\n0.741\n2.440\n9.598\n4.049\nAnnual average inflation\n\n\nBLZ\n339\nBelize\nInflation\nHeadline Consumer Price Inflation\n21.410\n18.630\n20.730\n66.960\n20.780\n20.770\n-2.900\n12.150\n4.870\n-11.820\n7.051\n11.224\n6.839\n4.996\n3.383\n4.153\n0.794\n2.021\n5.321\n0.000\n2.047\n3.225\n2.397\n1.473\n2.569\n2.890\n6.425\n1.026\n-0.847\n-1.207\n0.614\n1.150\n2.200\n2.620\n3.070\n3.651\n4.240\n2.318\n6.394\n-1.104\n0.918\n1.695\n1.300\n0.507\n1.203\n-0.852\n0.665\n1.148\n0.24\n0.187\n0.120\n3.260\n6.266\n4.515\nAnnual average inflation\n\n\nBEN\n638\nBenin\nInflation\nHeadline Consumer Price Inflation\n6.320\n2.770\n3.900\n6.870\n14.420\n-34.410\n8.260\n9.860\n6.840\n10.270\n9.596\n0.795\n4.059\n-6.067\n10.265\n1.151\n0.414\n-1.339\n3.445\n-0.202\n1.112\n2.100\n5.921\n0.445\n38.535\n14.458\n4.917\n3.803\n5.755\n0.348\n4.210\n3.981\n2.422\n1.507\n0.883\n5.364\n3.787\n1.294\n7.939\n0.398\n2.179\n2.720\n6.740\n0.890\n-1.010\n0.270\n-0.850\n1.769\n0.83\n-0.933\n3.023\n5.917\n1.351\n4.411\nAnnual average inflation\n\n\nBTN\n514\nBhutan\nInflation\nHeadline Consumer Price Inflation\n5.650\n4.470\n6.020\n12.960\n17.110\nNA\nNA\nNA\n-15.870\n6.020\n12.504\n4.967\n9.918\n12.137\n13.046\n8.001\n5.177\n7.044\n8.183\n8.864\n9.408\n10.345\n8.144\n9.595\n9.497\n7.084\n8.779\n8.551\n7.591\n9.058\n7.183\n3.724\n2.939\n2.472\n3.346\n4.771\n5.152\n5.080\n6.783\n6.265\n5.726\n7.276\n9.273\n11.320\n8.270\n4.550\n4.310\n5.529\n2.72\n2.600\n5.629\n7.328\n5.639\n4.005\nAnnual average inflation\n\n\nBOL\n218\nBolivia\nInflation\nHeadline Consumer Price Inflation\n3.956\n0.000\n5.556\n34.211\n41.176\n9.722\n12.658\n7.865\n6.250\n20.588\n48.780\n32.240\n126.446\n273.358\n1289.541\n11702.827\n273.555\n14.433\n15.988\n15.248\n17.181\n21.442\n12.043\n8.512\n7.867\n10.193\n12.430\n4.704\n7.670\n2.156\n4.606\n1.602\n0.929\n3.343\n4.438\n5.399\n2.335\n8.705\n14.010\n3.342\n2.496\n9.884\n4.515\n5.736\n5.764\n4.064\n3.627\n2.820\n2.27\n1.839\n0.941\n0.737\n1.746\n2.577\nAnnual average inflation\n\n\nBIH\n963\nBosnia and Herzegovina\nInflation\nHeadline Consumer Price Inflation\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n12.901\n-11.717\n5.732\n-0.279\n2.841\n4.973\n4.573\n0.313\n0.547\n0.282\n3.582\n6.083\n1.547\n7.399\n-0.390\n2.208\n3.658\n2.058\n-0.091\n-0.923\n-1.015\n-1.059\n0.810\n1.27\n0.617\n-1.051\n1.982\n14.021\n6.098\nAnnual average inflation\n\n\nBWA\n616\nBotswana\nInflation\nHeadline Consumer Price Inflation\n4.060\n5.620\n6.500\n9.570\n11.520\n13.510\n11.732\n13.169\n9.044\n11.736\n12.127\n16.300\n11.200\n10.500\n8.600\n8.100\n10.000\n9.800\n8.400\n11.600\n11.400\n12.600\n16.500\n14.400\n10.600\n10.500\n10.100\n8.900\n6.510\n7.816\n8.588\n6.504\n8.036\n9.179\n6.937\n8.675\n11.547\n7.061\n12.638\n8.134\n6.921\n8.456\n7.553\n5.874\n4.407\n3.074\n2.784\n3.296\n3.22\n2.845\n1.890\n7.241\n11.666\n5.068\nAnnual average inflation\n\n\nBRA\n223\nBrazil\nInflation\nHeadline Consumer Price Inflation\n22.260\n20.140\n16.520\n12.650\n27.590\n28.920\n42.010\n43.650\n38.700\n53.920\n90.227\n101.725\n100.543\n135.028\n192.122\n225.990\n147.143\n228.336\n629.113\n1430.725\n2947.733\n432.787\n951.962\n1927.381\n2075.888\n66.007\n15.758\n6.927\n3.195\n4.858\n7.044\n6.840\n8.450\n14.715\n6.597\n6.870\n4.184\n3.641\n5.679\n4.888\n5.039\n6.636\n5.404\n6.204\n6.329\n9.030\n8.739\n3.446\n3.66\n3.733\n3.212\n8.302\n9.280\n4.594\nAnnual average inflation\n\n\nVGB\n284\nBritish Virgin Islands\nInflation\nHeadline Consumer Price Inflation\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n1.500\n1.900\n0.800\n1.100\n1.200\n2.10\n1.400\n0.400\n2.800\nNA\nNA\nAnnual average inflation; Additional country comapred to the previous update"
  },
  {
    "objectID": "slides/09_merging-data.html#example-world-bank-inflation-data-2",
    "href": "slides/09_merging-data.html#example-world-bank-inflation-data-2",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Example: World Bank Inflation Data",
    "text": "Example: World Bank Inflation Data\nHow do we create a line plot with Year on the x-axis and CPI on the y-axis for the US?\n\n\ncpi |&gt;\n  pivot_longer(cols = `1970`:`2022`,\n               names_to = \"Year\", \n               values_to = \"CPI\") |&gt;\n  mutate(Year = as.numeric(Year)) |&gt;\n  select(Country, Year, CPI)\n\n\n\n\n\n\n\nCountry\nYear\nCPI\n\n\n\n\nAfghanistan\n1970\n25.51\n\n\nAfghanistan\n1971\n25.51\n\n\nAfghanistan\n1972\n-12.52\n\n\nAfghanistan\n1973\n-10.68\n\n\nAfghanistan\n1974\n10.23\n\n\nAfghanistan\n1975\n11.85\n\n\nAfghanistan\n1976\n0.60\n\n\nAfghanistan\n1977\n7.65\n\n\nAfghanistan\n1978\n5.00\n\n\nAfghanistan\n1979\n9.90\n\n\nAfghanistan\n1980\n13.40\n\n\nAfghanistan\n1981\n22.20\n\n\nAfghanistan\n1982\n18.20\n\n\nAfghanistan\n1983\n15.90\n\n\nAfghanistan\n1984\n20.40\n\n\nAfghanistan\n1985\n8.70\n\n\nAfghanistan\n1986\n-2.10\n\n\nAfghanistan\n1987\n18.40\n\n\nAfghanistan\n1988\n27.50\n\n\nAfghanistan\n1989\n71.50\n\n\nAfghanistan\n1990\n47.40\n\n\nAfghanistan\n1991\n43.80\n\n\nAfghanistan\n1992\n58.19\n\n\nAfghanistan\n1993\n33.99\n\n\nAfghanistan\n1994\n20.01\n\n\nAfghanistan\n1995\n14.00\n\n\nAfghanistan\n1996\n14.01\n\n\nAfghanistan\n1997\n14.01\n\n\nAfghanistan\n1998\n14.01\n\n\nAfghanistan\n1999\n14.01"
  },
  {
    "objectID": "slides/09_merging-data.html#example-world-bank-inflation-data-3",
    "href": "slides/09_merging-data.html#example-world-bank-inflation-data-3",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Example: World Bank Inflation Data",
    "text": "Example: World Bank Inflation Data\n\ncpi |&gt;\n  pivot_longer(cols = `1970`:`2022`,\n               names_to = \"Year\", \n               values_to = \"CPI\") |&gt;\n  mutate(Year = as.numeric(Year)) |&gt;\n  filter(Country.Code == \"USA\") |&gt;\n  ggplot(mapping = aes(x = Year, y = CPI)) +\n  geom_line()"
  },
  {
    "objectID": "slides/09_merging-data.html#data-manipulation-cheatsheet",
    "href": "slides/09_merging-data.html#data-manipulation-cheatsheet",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Data manipulation cheatsheet",
    "text": "Data manipulation cheatsheet\n\nfilter() subset rows\nselect() subset columns, use with contains(), starts_with(), ends_with(), …\nmutate() create columns\ngroup_by(), summarize(), count() group and summarize groups\nrename() rename columns\npivot_longer(), pivot_wider() reshape data\ninner_join(), left_join(), right_join(), outer_join() combine data (like SQL)\n\nMuch, much more! (Click me for a cheat sheet)"
  },
  {
    "objectID": "slides/09_merging-data.html#exploratory-data-analysis",
    "href": "slides/09_merging-data.html#exploratory-data-analysis",
    "title": "MATH167R: Tidying and manipulating data",
    "section": "Exploratory data analysis",
    "text": "Exploratory data analysis\nExploratory data analysis is the process of learning about a dataset by visualizing, summarizing, and transforming it.\nBy now we’ve seen most of the skills you need to carry out exploratory data analysis (EDA). As Wickham, Çetinkaya-Rundel, and Grolemund put it, the cycle of EDA looks something like this:\n\nGenerate questions about your data.\nExplore your questions by visualizing, transforming, and modelling your data.\nUse your findings to refine your questions and generate new questions.\n\nYou can read their walkthrough of the EDA process here."
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#overview-of-today",
    "href": "slides/21_hypothesis-testing.html#overview-of-today",
    "title": "MATH167R: Hypothesis testing",
    "section": "Overview of today",
    "text": "Overview of today\n\nReview of hypothesis testing\nType I and II error\nHypothesis tests in R\nReproducibility"
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#motivation",
    "href": "slides/21_hypothesis-testing.html#motivation",
    "title": "MATH167R: Hypothesis testing",
    "section": "Motivation",
    "text": "Motivation\nHypothesis testing always begins with a scientific question of interest. Suppose we have a coin, and we want to test whether or not it is fair. We might flip the coin over and over and record the results, and then measure the proportion of times we got a heads.\nWe can state this experiment more formally. Let \\(X_1,...,X_n\\) be \\(n\\) random variables corresponding to an indicator of whether a coin flip is heads (i.e. \\(X_i = 1\\) if the \\(i\\)th flip is heads, \\(0\\) if tails). We don’t know the true probability that our coin lands on heads, so we may say that \\[X_i \\stackrel{iid}{\\sim} \\mathrm{Binomial}(1, p),\\] with unknown probability parameter \\(p\\)."
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#motivation-1",
    "href": "slides/21_hypothesis-testing.html#motivation-1",
    "title": "MATH167R: Hypothesis testing",
    "section": "Motivation",
    "text": "Motivation\nWe are interested in whether our coin is fair, which corresponds to \\(p=1/2\\). This hypothesis we are interested in testing will be our null hypothesis, denoted \\(H_0\\) (pronounced “H-naught” or “H-zero”).\nAlternatively, we may think that our coin is biased in either direction (i.e. either lands on heads too often or lands on tails too often). This corresponds to \\(p \\neq 1/2\\). This is our alternative hypothesis, denoted \\(H_a\\) (or sometimes \\(H_1\\)).\nThus, our hypothesis test is as follows:\n\\[\\begin{align}\nH_0: p&=1/2\\\\\nH_a: p&\\neq 1/2\n\\end{align}\\]"
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#the-hypotheses",
    "href": "slides/21_hypothesis-testing.html#the-hypotheses",
    "title": "MATH167R: Hypothesis testing",
    "section": "The hypotheses",
    "text": "The hypotheses\nIn general, we can think of\n\nNull hypothesis \\(H_0\\): our default assumption to be tested, our baseline, no relationships/differences/values of our parameters of interest. Assumed to be true unless evidence suggests otherwise!\nAlternative hypothesis \\(H_a\\): the alternative to our null, something interesting is happening in our data, our scientific hypothesis of interest\n\nAn important note: for the most part, these are broad generalizations, not formal definitions.\nIt is not always the case that the alternative is “interesting” and the null is not."
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#hypothesis-testing",
    "href": "slides/21_hypothesis-testing.html#hypothesis-testing",
    "title": "MATH167R: Hypothesis testing",
    "section": "Hypothesis testing",
    "text": "Hypothesis testing\nWe always assume that our null hypothesis is true to compute the null distribution.\nOur question is whether our data provides sufficient evidence to reject the null \\(H_0\\).\nFor example, if we flipped our coin 100 times and observed 99 heads, we probably would reject our null hypothesis that the coin is fair. If instead we flipped our coin 100 times and observed 52 heads, we probably would not conclude that we have enough evidence to reject our null hypothesis, and maintain our baseline assumption that the coin is fair."
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#hypothesis-testing-1",
    "href": "slides/21_hypothesis-testing.html#hypothesis-testing-1",
    "title": "MATH167R: Hypothesis testing",
    "section": "Hypothesis testing",
    "text": "Hypothesis testing\nWhere we assume something is true, and then observe whether or not the evidence (data) supports this assumption.\nIn hypothesis testing, we never, ever, ever examine whether our evidence supports our scientific hypothesis (the alternative). We only examine whether it supports rejecting a baseline assumption (the null)."
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#statistical-inference",
    "href": "slides/21_hypothesis-testing.html#statistical-inference",
    "title": "MATH167R: Hypothesis testing",
    "section": "Statistical inference",
    "text": "Statistical inference\n\nStatistical inference: using information from a sample to draw inferences about a population.\nUsually we are interested in studying/estimating a population parameter: a numerical characteristic of our population/model.\nExample of a model/population: an infinite sequence of coin flips distributed \\(Bin(1, p)\\).\nExample of a parameter: the probability of heads \\(p\\)."
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#estimates-and-estimators",
    "href": "slides/21_hypothesis-testing.html#estimates-and-estimators",
    "title": "MATH167R: Hypothesis testing",
    "section": "Estimates and Estimators",
    "text": "Estimates and Estimators\nWe use estimators to calculate estimates for our parameters.\n\nEstimator: a function of our data (for example, the sample mean)\nEstimate: the actually observed value of our estimator, anumber calculated from our data (for example, an observed sample mean of 52)."
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#example",
    "href": "slides/21_hypothesis-testing.html#example",
    "title": "MATH167R: Hypothesis testing",
    "section": "Example",
    "text": "Example\nBack to our example, recall that we aim to test\n\\[\\begin{align}\nH_0: p&=1/2\\\\\nH_a: p&\\neq 1/2\n\\end{align}\\]\nusing a random variable representing a heads \\[X_i \\stackrel{iid}{\\sim} Bin(1, p).\\] Let’s assume that we have the patience to flip our coin \\(n=100\\) times."
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#example-flipping-coins",
    "href": "slides/21_hypothesis-testing.html#example-flipping-coins",
    "title": "MATH167R: Hypothesis testing",
    "section": "Example: flipping coins",
    "text": "Example: flipping coins\nInstead of actually flipping the coin, let’s carry out this example in R.\n\nset.seed(302)\n# the true population parameter (in practice, we don't know this).\np &lt;- 0.6\n# simulate 100 coin flips\ncoin_flips &lt;- rbinom(100, size = 1, prob = p)\nhead(coin_flips)\n\n[1] 1 0 0 1 1 1\n\nsum(coin_flips)\n\n[1] 61\n\n\nWe observed 61 heads out of 100 coin flips. This is our test statistic, a statistic calculated from our sample data which we will use to evaluate our hypotheses."
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#example-flipping-coins-1",
    "href": "slides/21_hypothesis-testing.html#example-flipping-coins-1",
    "title": "MATH167R: Hypothesis testing",
    "section": "Example: flipping coins",
    "text": "Example: flipping coins\nWe observed 61 heads out of 100 coin flips.\nIs this unusual enough to reject \\(H_0\\)?\nIn order to answer this, we must ask ourselves: if we assume \\(H_0\\) is true, how unlikely is what we observed? Before we conduct our experiment, we must decide what cut-off we would like to use to determine whether or not to reject \\(H_0\\). This cut-off is typically denoted by the greek letter \\(\\alpha\\).\nTypically, we reject \\(H_0\\) if the probability of observing a test statistic as or more extreme than what we observed is less than 5%. We will use this cut-off, even though it is arbitrary.\nThus, we set \\(\\alpha = 0.05\\)."
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#example-flipping-coins-2",
    "href": "slides/21_hypothesis-testing.html#example-flipping-coins-2",
    "title": "MATH167R: Hypothesis testing",
    "section": "Example: flipping coins",
    "text": "Example: flipping coins\nWe can use pbinom() to calculate the probability of observing a test statistic as extreme or more extreme than 61.\n\n“as extreme or more extreme”: Our alternative \\(H_a: p \\neq 1/2\\) means that we are interested in deviations in either direction. Thus, we must consider not only the probability of observing more than 61 heads, but also the probability of observing less than 39 heads, because this is just as extreme in the other direction."
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#example-flipping-coins-3",
    "href": "slides/21_hypothesis-testing.html#example-flipping-coins-3",
    "title": "MATH167R: Hypothesis testing",
    "section": "Example: flipping coins",
    "text": "Example: flipping coins\nNote that lower.tail = TRUE is the default, and returns the probability of observing a value less than or equal to the value that we input. Thus, when lower.tail = FALSE, we return the probability of observing a value strictly greater than the value that we input. We want the probability of observing a value greater than or equal to the value that we input. Thus, we subtract 1 to make sure this value is included in our probability."
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#example-flipping-coins-4",
    "href": "slides/21_hypothesis-testing.html#example-flipping-coins-4",
    "title": "MATH167R: Hypothesis testing",
    "section": "Example: flipping coins",
    "text": "Example: flipping coins\n\n# record test statistic\ntest_stat &lt;- sum(coin_flips)\n# record how \"extreme\" our test statistic is\ndiff_from_exp &lt;- abs(50 - test_stat)\n# first component: lower tail\n# second component: upper tail\np_val &lt;- pbinom(50 - diff_from_exp, size = 100, prob = 0.5) +\n  pbinom(50 + diff_from_exp - 1, size = 100, prob = 0.5, lower.tail = FALSE) \nround(p_val, 3)\n\n[1] 0.035"
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#example-flipping-coins-5",
    "href": "slides/21_hypothesis-testing.html#example-flipping-coins-5",
    "title": "MATH167R: Hypothesis testing",
    "section": "Example: flipping coins",
    "text": "Example: flipping coins\nNote that lower.tail = TRUE is the default, and returns the probability of observing a value less than or equal to the value that we input. Thus, when lower.tail = FALSE, we return the probability of observing a value strictly greater than the value that we input. We want the probability of observing a value greater than or equal to the value that we input. Thus, we subtract 1 to make sure this value is included in our probability.\n\\(P(\\text{test statistic equally or more extreme than observed}|H_0) =\\) 0.035."
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#example-flipping-coins-6",
    "href": "slides/21_hypothesis-testing.html#example-flipping-coins-6",
    "title": "MATH167R: Hypothesis testing",
    "section": "Example: flipping coins",
    "text": "Example: flipping coins\n\\(P(\\text{test statistic equally or more extreme than observed}|H_0) =\\) 0.035.\nThis is less than our pre-determined cut-off of 0.05, so we conclude that our results are statistically significant. This means that we reject \\(H_0\\) and have evidence to support our alternative hypothesis \\(H_a\\), that our coin is biased. With that conclusion, we have completed our hypothesis test.\nNote that we do not conclude that \\(H_0\\) is false, or that \\(H_a\\) is true. We only state our conclusion in terms of sufficient evidence to reject the null or insufficient evidence to reject the null."
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#interpreting-p-values",
    "href": "slides/21_hypothesis-testing.html#interpreting-p-values",
    "title": "MATH167R: Hypothesis testing",
    "section": "Interpreting \\(P\\)-values",
    "text": "Interpreting \\(P\\)-values\nRemember, a \\(P\\)-value is not the probability our null hypothesis is true. A \\(P\\)-value only describes the probability of observing results as extreme or more extreme than our results under the null distribution.\nProblems begin when our null distribution is misspecified (for example, when assumptions are broken)."
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#visualizing-p-values",
    "href": "slides/21_hypothesis-testing.html#visualizing-p-values",
    "title": "MATH167R: Hypothesis testing",
    "section": "Visualizing \\(P\\)-values",
    "text": "Visualizing \\(P\\)-values\n\n(Devore)"
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#summary-hypothesis-testing",
    "href": "slides/21_hypothesis-testing.html#summary-hypothesis-testing",
    "title": "MATH167R: Hypothesis testing",
    "section": "Summary: hypothesis testing",
    "text": "Summary: hypothesis testing\n\nDefine null and alternative hypotheses.\nCompute a test statistic for which the null distribution is known.\nCompare the test statistic with the null distribution to obtain a P-value."
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#which-man-is-named-tim-and-which-is-named-bob",
    "href": "slides/21_hypothesis-testing.html#which-man-is-named-tim-and-which-is-named-bob",
    "title": "MATH167R: Hypothesis testing",
    "section": "Which man is named “Tim” and which is named “Bob”?",
    "text": "Which man is named “Tim” and which is named “Bob”?\n\nLea et al. (2007)"
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#which-man-is-named-tim-and-which-is-named-bob-1",
    "href": "slides/21_hypothesis-testing.html#which-man-is-named-tim-and-which-is-named-bob-1",
    "title": "MATH167R: Hypothesis testing",
    "section": "Which man is named “Tim” and which is named “Bob”?",
    "text": "Which man is named “Tim” and which is named “Bob”?\nSuppose we wish to see whether our data represents evidence for the existence of “facial stereotypes.”\n\nWhat are our null and alternative hypotheses?\nWhat is an appropriate test statistic?\nCalculate an appropriate P-value."
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#example-two-sample-t-test",
    "href": "slides/21_hypothesis-testing.html#example-two-sample-t-test",
    "title": "MATH167R: Hypothesis testing",
    "section": "Example: two sample \\(t\\)-test",
    "text": "Example: two sample \\(t\\)-test\n\nHypotheses:\n\n\\[\\begin{align}\nH_0: \\mu_x-\\mu_y &= 0\\\\\nH_a: \\mu_x-\\mu_y&\\neq 0\n\\end{align}\\]\n\nCompute sample means \\(\\overline{X}\\) and \\(\\overline{Y}\\) and the test statistic \\(T=\\frac{\\overline{X}-\\overline{Y}}{s_p\\sqrt{1/n_x+1/n_y}}\\) (assuming equal variances). Here, \\(s_p\\) is the pooled variance estimate.\nCompare \\(T\\) with a t-distribution with \\(n_1+n_2-2\\) degrees of freedom."
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#t.test-t-tests-in-r",
    "href": "slides/21_hypothesis-testing.html#t.test-t-tests-in-r",
    "title": "MATH167R: Hypothesis testing",
    "section": "t.test(): t-tests in R",
    "text": "t.test(): t-tests in R\nConducting t-tests in R is very easy using the function t.test(). For a two sample t-test to compare the means of two samples, just provide the two samples in R. Here I use randomly simulated data. This performs a test of the form:\n\\[\n\\begin{align}\nH_0: \\mu_x &= \\mu_y\\\\\nH_a: \\mu_x &\\neq  \\mu_y\n\\end{align}\n\\]"
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#t.test-t-tests-in-r-1",
    "href": "slides/21_hypothesis-testing.html#t.test-t-tests-in-r-1",
    "title": "MATH167R: Hypothesis testing",
    "section": "t.test(): t-tests in R",
    "text": "t.test(): t-tests in R\n\nset.seed(302)\nx &lt;- rnorm(10, mean = 0, sd = 1)\ny &lt;- rnorm(10, mean = 1.5, sd = 1)\nt.test(x, y)\n\n\n    Welch Two Sample t-test\n\ndata:  x and y\nt = -1.5143, df = 16.95, p-value = 0.1484\nalternative hypothesis: true difference in means is not equal to 0\n95 percent confidence interval:\n -1.627018  0.267543\nsample estimates:\nmean of x mean of y \n0.3492983 1.0290359"
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#t.test-t-tests-in-r-2",
    "href": "slides/21_hypothesis-testing.html#t.test-t-tests-in-r-2",
    "title": "MATH167R: Hypothesis testing",
    "section": "t.test(): t-tests in R",
    "text": "t.test(): t-tests in R\nNote that we can also test one-sided hypotheses:\n\\[\n\\begin{align}\nH_0: \\mu_x &= \\mu_y\\\\\nH_a: \\mu_x &&lt; \\mu_y\n\\end{align}\n\\]\n\nt.test(x, y, alternative = \"less\")\n\n\n    Welch Two Sample t-test\n\ndata:  x and y\nt = -1.5143, df = 16.95, p-value = 0.07419\nalternative hypothesis: true difference in means is less than 0\n95 percent confidence interval:\n      -Inf 0.1012809\nsample estimates:\nmean of x mean of y \n0.3492983 1.0290359"
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#t.test-t-tests-in-r-3",
    "href": "slides/21_hypothesis-testing.html#t.test-t-tests-in-r-3",
    "title": "MATH167R: Hypothesis testing",
    "section": "t.test(): t-tests in R",
    "text": "t.test(): t-tests in R\nWe can also use a one sample t-test to compare the means of one sample to some hypothesized value.\nThis performs a test of the form:\n\\[\n\\begin{align}\nH_0: \\mu_x &= 0\\\\\nH_a: \\mu_x &\\neq 0\n\\end{align}\n\\]"
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#t.test-t-tests-in-r-4",
    "href": "slides/21_hypothesis-testing.html#t.test-t-tests-in-r-4",
    "title": "MATH167R: Hypothesis testing",
    "section": "t.test(): t-tests in R",
    "text": "t.test(): t-tests in R\n\nt.test(x, mu = 0)\n\n\n    One Sample t-test\n\ndata:  x\nt = 0.98472, df = 9, p-value = 0.3505\nalternative hypothesis: true mean is not equal to 0\n95 percent confidence interval:\n -0.4531331  1.1517298\nsample estimates:\nmean of x \n0.3492983"
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#type-i-and-ii-errors",
    "href": "slides/21_hypothesis-testing.html#type-i-and-ii-errors",
    "title": "MATH167R: Hypothesis testing",
    "section": "Type I and II errors",
    "text": "Type I and II errors\n\nA type I error consists of rejecting the null hypothesis when it is true.\nA type II error involves not rejecting the null hypothesis when it is false.\n\n\nWhich is worse?\n\n\nIt probably depends on the scenario."
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#type-i-errors",
    "href": "slides/21_hypothesis-testing.html#type-i-errors",
    "title": "MATH167R: Hypothesis testing",
    "section": "Type I errors",
    "text": "Type I errors\nType I errors are false positives–we obtain a “statistically significant” result via chance.\nNote that we typically control the type I error through the significance level \\(\\alpha\\).\n\\[\\Large \\alpha = P(\\text{reject } H_0 | H_0 \\textrm{ true}))\\]\n\\[\\Large 1-\\alpha = P(\\text{don't reject } H_0 | H_0 \\textrm{ true})\\]"
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#type-ii-errors",
    "href": "slides/21_hypothesis-testing.html#type-ii-errors",
    "title": "MATH167R: Hypothesis testing",
    "section": "Type II errors",
    "text": "Type II errors\nType 2 errors are false negatives–we incorrectly fail to reject the null hypothesis when the null hypothesis is actually false.\n\\[ P(\\text{type 2 error}) =  P(\\text{fail to reject } H_0 | H_0 \\text{ is false})\\]\nType 2 error also gives us the concept of power, the probability of correctly rejecting the null.\n\\[ \\text{Power} = P(\\text{reject } H_0 | H_0 \\text{ is false})\\]"
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#type-i-and-ii-errors-1",
    "href": "slides/21_hypothesis-testing.html#type-i-and-ii-errors-1",
    "title": "MATH167R: Hypothesis testing",
    "section": "Type I and II errors",
    "text": "Type I and II errors\n\nWe can decrease the probability of a Type II errors by increasing our Type I error.\nWe can decrease the probability of a Type II error without sacrificing Type I error by increasing our sample size."
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#reproducibility-and-p-hacking",
    "href": "slides/21_hypothesis-testing.html#reproducibility-and-p-hacking",
    "title": "MATH167R: Hypothesis testing",
    "section": "Reproducibility and P-hacking",
    "text": "Reproducibility and P-hacking\nIn many scientific settings, there has been an emphasis on producing results with statistically significant p-values. However, note that by repeatedly performing hypothesis tests, you are very likely to produce statistically significant results, even if the null hypothesis is true.\nThis has led to a crisis in replication, in which the results of many scientific studies are difficult or impossible to replicate."
  },
  {
    "objectID": "slides/21_hypothesis-testing.html#reproducibility-and-p-hacking-1",
    "href": "slides/21_hypothesis-testing.html#reproducibility-and-p-hacking-1",
    "title": "MATH167R: Hypothesis testing",
    "section": "Reproducibility and P-hacking",
    "text": "Reproducibility and P-hacking\nP-hacking refers to the practice of repeatedly performing hypothesis tests (and potentially manipulating the data) until a statistically significant P-values is obtained. Usually, only this final result is published, without mentioning all of the manipulations that came before.\nFor this reason, it’s crucial to document carefully everything you do in the data analysis pipeline to ensure that your work is taken seriously. Publishing code and data can help others to reproduce your research."
  },
  {
    "objectID": "slides/06_factors-groups.html#warm-up",
    "href": "slides/06_factors-groups.html#warm-up",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "Warm-up",
    "text": "Warm-up\n\nWhat does the following code do? How would you write it without a pipe?\n\n\"hello\" |&gt; print()\n1:6 |&gt; sample(1)"
  },
  {
    "objectID": "slides/06_factors-groups.html#warm-up-1",
    "href": "slides/06_factors-groups.html#warm-up-1",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "Warm-up",
    "text": "Warm-up\nAnswer:\n\n\n\"hello\" |&gt; print()\n1:6 |&gt; sample(1)\n\n\nprint(\"hello\")\nsample(1:6, 1)"
  },
  {
    "objectID": "slides/06_factors-groups.html#overview-of-today",
    "href": "slides/06_factors-groups.html#overview-of-today",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "Overview of today",
    "text": "Overview of today\n\nClasses and attributes\nFactors for categorical data\nAdvanced descriptive statistics and summaries"
  },
  {
    "objectID": "slides/06_factors-groups.html#objects-revisited",
    "href": "slides/06_factors-groups.html#objects-revisited",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "Objects revisited",
    "text": "Objects revisited\nRemember John Chambers’ quote: “Everything that exists in R is an object.” This is roughly correct; however, it’s important to remember that in R objects come in many shapes/flavors.\n\ndiamonds &lt;- ggplot2::diamonds\nsummary(diamonds$carat)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n 0.2000  0.4000  0.7000  0.7979  1.0400  5.0100 \n\nsummary(diamonds$cut)\n\n     Fair      Good Very Good   Premium     Ideal \n     1610      4906     12082     13791     21551 \n\n\nWhy do these return two types of output?"
  },
  {
    "objectID": "slides/06_factors-groups.html#polymorphism",
    "href": "slides/06_factors-groups.html#polymorphism",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "Polymorphism",
    "text": "Polymorphism\nLoosely speaking, carat and cut are stored as different types of data. In this code, R is using two versions of summary(): one meant for categorical data and one meant for numerical data.\nThis is confusing because we need to remember that summary() works differently depending on the input, but it can also be powerful because the user doesn’t have to remember many different functions (ex. summary_numeric() or summary_character()).\nThis is polymorphism in action: A common functional interface can be used for different types of input."
  },
  {
    "objectID": "slides/06_factors-groups.html#object-oriented-programming",
    "href": "slides/06_factors-groups.html#object-oriented-programming",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "Object-oriented programming",
    "text": "Object-oriented programming\nIn object-oriented programming, developers define different classes of objects with various methods (like summary()). This means that if a developer wants to create a new class of object (ex. for a new data type), users should still be able to use common functions like print() or summary().\nR developers often use object-oriented programming, but the implementation takes many forms, so we won’t go into detail in this course. What is important to remember is that the class(es) of an object determine(s) what you can do with it."
  },
  {
    "objectID": "slides/06_factors-groups.html#classes",
    "href": "slides/06_factors-groups.html#classes",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "Classes",
    "text": "Classes\n\nweather_forecasts &lt;- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-12-20/weather_forecasts.csv')\nclass(weather_forecasts$date)\n\n[1] \"Date\"\n\nsummary(weather_forecasts$date)\n\n        Min.      1st Qu.       Median         Mean      3rd Qu.         Max. \n\"2021-01-30\" \"2021-05-31\" \"2021-09-30\" \"2021-09-30\" \"2022-01-30\" \"2022-06-01\" \n\n\nHere, we see that the date variable has the class Date, which has its own version of summary()."
  },
  {
    "objectID": "slides/06_factors-groups.html#classes-vs.-data-types",
    "href": "slides/06_factors-groups.html#classes-vs.-data-types",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "Classes vs. data types",
    "text": "Classes vs. data types\nWe previously only discussed four basic data types: logical, integer, double, and character.\n\nType (as accessed via typeof()) describes the underlying data type.\nClass (as accessed via class()) describes an attribute that determines what you can do with this object.\n\n\nclass(weather_forecasts$date)\n\n[1] \"Date\"\n\ntypeof(weather_forecasts$date)\n\n[1] \"double\""
  },
  {
    "objectID": "slides/06_factors-groups.html#attributes",
    "href": "slides/06_factors-groups.html#attributes",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "Attributes",
    "text": "Attributes\nIn R, objects can be associated with attributes such as class, that provide information on the values contained within.\n\nattributes(head(weather_forecasts))\n\n$names\n [1] \"date\"                  \"city\"                  \"state\"                \n [4] \"high_or_low\"           \"forecast_hours_before\" \"observed_temp\"        \n [7] \"forecast_temp\"         \"observed_precip\"       \"forecast_outlook\"     \n[10] \"possible_error\"       \n\n$row.names\n[1] 1 2 3 4 5 6\n\n$class\n[1] \"tbl_df\"     \"tbl\"        \"data.frame\""
  },
  {
    "objectID": "slides/06_factors-groups.html#factors-categorical-data",
    "href": "slides/06_factors-groups.html#factors-categorical-data",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "Factors: categorical data",
    "text": "Factors: categorical data\nFactors are a class of object for categorical data that uses integer representation.\nThis can be efficient to store character vectors, because each string is only entered once. Because of this, creating data frames (but not tibbles!) in R often default to set strings as factors."
  },
  {
    "objectID": "slides/06_factors-groups.html#an-example-months-of-the-year",
    "href": "slides/06_factors-groups.html#an-example-months-of-the-year",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "An example: months of the year",
    "text": "An example: months of the year\nHere’s an example from R for Data Science:\nImagine we have a variable that represents month of the year:\n\nx1 &lt;- c(\"Dec\", \"Apr\", \"Jan\", \"Mar\")\n\nSome issues:\n\nPotential for typos\n\n\nx2 &lt;- c(\"Dec\", \"Apr\", \"Jam\", \"Mar\")\n\n\nNot sorting in a reasonable way\n\n\nsort(x1)\n\n[1] \"Apr\" \"Dec\" \"Jan\" \"Mar\""
  },
  {
    "objectID": "slides/06_factors-groups.html#an-example-months-of-the-year-1",
    "href": "slides/06_factors-groups.html#an-example-months-of-the-year-1",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "An example: months of the year",
    "text": "An example: months of the year\nWe can represent this variable using a factor by defining its levels, or the valid values this variable can take:\n\nmonth_levels &lt;- c(\n  \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \n  \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"\n)\n\nWe can create a factor using the factor() function:\n\ny1 &lt;- factor(x1, levels = month_levels)\ny1\n\n[1] Dec Apr Jan Mar\nLevels: Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec\n\nsort(y1)\n\n[1] Jan Mar Apr Dec\nLevels: Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec"
  },
  {
    "objectID": "slides/06_factors-groups.html#an-example-months-of-the-year-2",
    "href": "slides/06_factors-groups.html#an-example-months-of-the-year-2",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "An example: months of the year",
    "text": "An example: months of the year\nNote that factors are stored as integers but displayed using their levels:\n\nclass(y1)\n\n[1] \"factor\"\n\ntypeof(y1)\n\n[1] \"integer\"\n\ny1\n\n[1] Dec Apr Jan Mar\nLevels: Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec"
  },
  {
    "objectID": "slides/06_factors-groups.html#an-example-months-of-the-year-3",
    "href": "slides/06_factors-groups.html#an-example-months-of-the-year-3",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "An example: months of the year",
    "text": "An example: months of the year\nNote that factors are stored as integers but displayed using their levels:\n\nas.numeric(y1)\n\n[1] 12  4  1  3\n\nattributes(y1)\n\n$levels\n [1] \"Jan\" \"Feb\" \"Mar\" \"Apr\" \"May\" \"Jun\" \"Jul\" \"Aug\" \"Sep\" \"Oct\" \"Nov\" \"Dec\"\n\n$class\n[1] \"factor\""
  },
  {
    "objectID": "slides/06_factors-groups.html#movies-data",
    "href": "slides/06_factors-groups.html#movies-data",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "Movies data",
    "text": "Movies data\nAs an example of how factors work, let’s look at an example using Tidy Tuesday data on movie profits.\n\nmovies &lt;- readr::read_csv(\"https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2018/2018-10-23/movie_profit.csv\")\nknitr::kable(movies[1:20,], digits = 3, row.names = F) |&gt;\n  kableExtra::kable_styling(\"striped\", full_width = T) |&gt; \n  kableExtra::scroll_box(height = \"300px\")\n\n\n\n\n\n...1\nrelease_date\nmovie\nproduction_budget\ndomestic_gross\nworldwide_gross\ndistributor\nmpaa_rating\ngenre\n\n\n\n\n1\n6/22/2007\nEvan Almighty\n1.75e+08\n100289690\n174131329\nUniversal\nPG\nComedy\n\n\n2\n7/28/1995\nWaterworld\n1.75e+08\n88246220\n264246220\nUniversal\nPG-13\nAction\n\n\n3\n5/12/2017\nKing Arthur: Legend of the Sword\n1.75e+08\n39175066\n139950708\nWarner Bros.\nPG-13\nAdventure\n\n\n4\n12/25/2013\n47 Ronin\n1.75e+08\n38362475\n151716815\nUniversal\nPG-13\nAction\n\n\n5\n6/22/2018\nJurassic World: Fallen Kingdom\n1.70e+08\n416769345\n1304866322\nUniversal\nPG-13\nAction\n\n\n6\n8/1/2014\nGuardians of the Galaxy\n1.70e+08\n333172112\n771051335\nWalt Disney\nPG-13\nAction\n\n\n7\n5/7/2010\nIron Man 2\n1.70e+08\n312433331\n621156389\nParamount Pictures\nPG-13\nAction\n\n\n8\n4/4/2014\nCaptain America: The Winter Soldier\n1.70e+08\n259746958\n714401889\nWalt Disney\nPG-13\nAction\n\n\n9\n7/11/2014\nDawn of the Planet of the Apes\n1.70e+08\n208545589\n710644566\n20th Century Fox\nPG-13\nAdventure\n\n\n10\n11/10/2004\nThe Polar Express\n1.70e+08\n186493587\n310634169\nWarner Bros.\nG\nAdventure\n\n\n11\n6/1/2012\nSnow White and the Huntsman\n1.70e+08\n155136755\n401021746\nUniversal\nPG-13\nAdventure\n\n\n12\n7/1/2003\nTerminator 3: Rise of the Machines\n1.70e+08\n150358296\n433058296\nWarner Bros.\nR\nAction\n\n\n13\n5/7/2004\nVan Helsing\n1.70e+08\n120150546\n300150546\nUniversal\nPG-13\nAction\n\n\n14\n5/22/2015\nTomorrowland\n1.70e+08\n93436322\n207283457\nWalt Disney\nPG\nAdventure\n\n\n15\n5/27/2016\nAlice Through the Looking Glass\n1.70e+08\n77042381\n276934087\nWalt Disney\nPG\nAdventure\n\n\n16\n5/21/2010\nShrek Forever After\n1.65e+08\n238736787\n756244673\nParamount Pictures\nPG\nAdventure\n\n\n17\n11/4/2016\nDoctor Strange\n1.65e+08\n232641920\n676486457\nWalt Disney\nPG-13\nAction\n\n\n18\n11/7/2014\nBig Hero 6\n1.65e+08\n222527828\n652127828\nWalt Disney\nPG\nAdventure\n\n\n19\n3/26/2010\nHow to Train Your Dragon\n1.65e+08\n217581232\n494870992\nParamount Pictures\nPG\nAdventure\n\n\n20\n11/2/2012\nWreck-It Ralph\n1.65e+08\n189412677\n496511521\nWalt Disney\nPG\nAdventure"
  },
  {
    "objectID": "slides/06_factors-groups.html#movies-genre",
    "href": "slides/06_factors-groups.html#movies-genre",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "Movies genre",
    "text": "Movies genre\n\ngenre_char &lt;- movies$genre\ngenre_fct &lt;- as.factor(movies$genre)\nhead(genre_char)\n\n[1] \"Comedy\"    \"Action\"    \"Adventure\" \"Action\"    \"Action\"    \"Action\"   \n\nhead(genre_fct)\n\n[1] Comedy    Action    Adventure Action    Action    Action   \nLevels: Action Adventure Comedy Drama Horror\n\n\n\nclass(genre_fct)\n\n[1] \"factor\"\n\ntypeof(genre_fct)\n\n[1] \"integer\""
  },
  {
    "objectID": "slides/06_factors-groups.html#size-of-character-and-factors",
    "href": "slides/06_factors-groups.html#size-of-character-and-factors",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "Size of character and factors",
    "text": "Size of character and factors\nGenerally, the factor representation saves space in memory:\n\nobject.size(genre_char)\n\n27544 bytes\n\nobject.size(genre_fct) \n\n14376 bytes"
  },
  {
    "objectID": "slides/06_factors-groups.html#the-forcats-package",
    "href": "slides/06_factors-groups.html#the-forcats-package",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "The forcats package",
    "text": "The forcats package\nThe forcats package provides helpful functions for working with factors. Consider the following example:\n\nlibrary(forcats)\ncolor_levels &lt;- c(\n  \"red\", \"blue\", \"yellow\"\n)\ncolor_var &lt;- c(\"red\", \"yellow\", \"blue\")\ncolor_fct_1 &lt;- factor(color_var, levels = color_levels)"
  },
  {
    "objectID": "slides/06_factors-groups.html#fct_recode-recode-levels",
    "href": "slides/06_factors-groups.html#fct_recode-recode-levels",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "fct_recode(): recode levels",
    "text": "fct_recode(): recode levels\n\nfct_recode(color_fct_1, ruby = \"red\")\n\n[1] ruby   yellow blue  \nLevels: ruby blue yellow\n\nfct_recode(color_fct_1, ruby = \"red\", sapphire = \"blue\", topaz = \"yellow\", w = \"d\")\n\n[1] ruby     topaz    sapphire\nLevels: ruby sapphire topaz"
  },
  {
    "objectID": "slides/06_factors-groups.html#fct_collapse-collapse-levels",
    "href": "slides/06_factors-groups.html#fct_collapse-collapse-levels",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "fct_collapse(): collapse levels",
    "text": "fct_collapse(): collapse levels\n\ncolor_fct_1\n\n[1] red    yellow blue  \nLevels: red blue yellow\n\nfct_collapse(color_fct_1, purple = c(\"red\", \"blue\"))\n\n[1] purple yellow purple\nLevels: purple yellow"
  },
  {
    "objectID": "slides/06_factors-groups.html#fct_other-replace-w-other",
    "href": "slides/06_factors-groups.html#fct_other-replace-w-other",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "fct_other(): replace w/ “Other”",
    "text": "fct_other(): replace w/ “Other”\n\ncolor_fct_1\n\n[1] red    yellow blue  \nLevels: red blue yellow\n\nfct_other(color_fct_1, keep = \"red\")\n\n[1] red   Other Other\nLevels: red Other"
  },
  {
    "objectID": "slides/06_factors-groups.html#forcats-cheatsheet",
    "href": "slides/06_factors-groups.html#forcats-cheatsheet",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "forcats cheatsheet",
    "text": "forcats cheatsheet\n\nCreate a factor: factor(..., levels = ...)\nCount levels: fct_count()\nUnique levels: fct_unique()\nCombine factor vectors: fct_c()\nRelevel: fct_relevel()\nDrop levels: fct_drop()\nAdd levels: fct_expand()\nRecode levels: fct_recode()\nCollapse levels: fct_collapse()\nOther"
  },
  {
    "objectID": "slides/06_factors-groups.html#takeaways",
    "href": "slides/06_factors-groups.html#takeaways",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "Takeaways",
    "text": "Takeaways\n\nDon’t memorize these functions–read the documentation!\nBe efficient! Often someone has written a function that does exactly what you want to do."
  },
  {
    "objectID": "slides/06_factors-groups.html#mutating-variables",
    "href": "slides/06_factors-groups.html#mutating-variables",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "Mutating variables",
    "text": "Mutating variables\nThe mutate() function from the tidyverse gives a convenient way to add/change columns in a data frame.\n\nlibrary(tidyverse)\nmovies &lt;- movies |&gt;\n  mutate(genre = as.factor(genre)) |&gt;\n  mutate(return = worldwide_gross / production_budget)"
  },
  {
    "objectID": "slides/06_factors-groups.html#movies-data-1",
    "href": "slides/06_factors-groups.html#movies-data-1",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "Movies data",
    "text": "Movies data\n\nmovies$genre = as.factor(movies$genre)\nmovies &lt;- movies |&gt;\n  mutate(genre = fct_collapse(genre,\n                              AA = c(\"Action\", \"Adventure\"))) |&gt;\n  mutate(genre = fct_recode(genre, Scary = \"Horror\"))"
  },
  {
    "objectID": "slides/06_factors-groups.html#summarizing-variables",
    "href": "slides/06_factors-groups.html#summarizing-variables",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "Summarizing variables",
    "text": "Summarizing variables\nRecall that the summarize() function can be used to calculate statistics on our entire data frame:\n\nmovies |&gt;\n  summarize(max_gross = max(worldwide_gross, na.rm = T))\n\n# A tibble: 1 × 1\n   max_gross\n       &lt;dbl&gt;\n1 1304866322"
  },
  {
    "objectID": "slides/06_factors-groups.html#summaries-by-group",
    "href": "slides/06_factors-groups.html#summaries-by-group",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "Summaries by group",
    "text": "Summaries by group\nWhat if we want to learn the max gross for each genre? When we have a character/factor column, we can use the group_by function in combination with summarize() to calculate group-specific statistics:\n\nmovies |&gt;\n  group_by(genre) |&gt;\n  summarize(highest_gross = max(worldwide_gross)) |&gt;\n  ungroup()"
  },
  {
    "objectID": "slides/06_factors-groups.html#challenge",
    "href": "slides/06_factors-groups.html#challenge",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "Challenge",
    "text": "Challenge\nWhat do you think this code returns?\n\nmovies |&gt;\n  group_by(genre) |&gt;\n  summarize(highest_gross = movie[which.max(worldwide_gross)]) |&gt;\n  ungroup()\n\n\n\n\n# A tibble: 4 × 2\n  genre  highest_gross                 \n  &lt;fct&gt;  &lt;chr&gt;                         \n1 AA     Jurassic World: Fallen Kingdom\n2 Comedy The Hangover Part II          \n3 Drama  ET: The Extra-Terrestrial     \n4 Scary  It"
  },
  {
    "objectID": "slides/06_factors-groups.html#challenge-1",
    "href": "slides/06_factors-groups.html#challenge-1",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "Challenge",
    "text": "Challenge\nWhat do you think this code returns?\n\nmovies |&gt;\n  group_by(genre, mpaa_rating) |&gt;\n  summarize(highest_gross = movie[which.max(worldwide_gross)]) |&gt;\n  ungroup()\n\n\n\n\n# A tibble: 19 × 3\n   genre  mpaa_rating highest_gross                 \n   &lt;fct&gt;  &lt;chr&gt;       &lt;chr&gt;                         \n 1 AA     G           The Lion King                 \n 2 AA     PG          Minions                       \n 3 AA     PG-13       Jurassic World: Fallen Kingdom\n 4 AA     R           Deadpool                      \n 5 AA     &lt;NA&gt;        Conan the Barbarian           \n 6 Comedy G           Gnomeo and Juliet             \n 7 Comedy PG          Home Alone                    \n 8 Comedy PG-13       Meet the Fockers              \n 9 Comedy R           The Hangover Part II          \n10 Comedy &lt;NA&gt;        It's a Mad Mad Mad Mad World  \n11 Drama  G           Gone with the Wind            \n12 Drama  PG          ET: The Extra-Terrestrial     \n13 Drama  PG-13       The Twilight Saga: Eclipse    \n14 Drama  R           The Passion of the Christ     \n15 Drama  &lt;NA&gt;        The Postman Always Rings Twice\n16 Scary  PG          Jaws                          \n17 Scary  PG-13       I am Legend                   \n18 Scary  R           It                            \n19 Scary  &lt;NA&gt;        Friday the 13th"
  },
  {
    "objectID": "slides/06_factors-groups.html#movies-data-2",
    "href": "slides/06_factors-groups.html#movies-data-2",
    "title": "MATH167R: Factors and Categorical Data",
    "section": "Movies data",
    "text": "Movies data\n\ngenre_medians &lt;- movies |&gt;\n  group_by(genre) |&gt;\n  summarize(median_budget = median(production_budget),\n            median_domestic = median(domestic_gross),\n            median_ww = median(worldwide_gross),\n            median_return = median(return)) |&gt;\n  ungroup()"
  },
  {
    "objectID": "final_project.html",
    "href": "final_project.html",
    "title": "Final Project: A Data Analysis Narrative",
    "section": "",
    "text": "This course culminates with a data analysis narrative project in which you will use the data exploration, visualization, and analysis skills you have learned this semester to study a research question of your choice and then create a narrative about your exploration. Examples of research questions that can lead to successful projects may include but are not limited to:\n\nWhat factors (country of origin, roasting process) influence the ratings of coffee beans by food critics? using data on coffee ratings.\nWhat neighborhood characteristics are most heavily correlated with local average household income? using data from the Opportunity Atlas.\nWhat variables are most predictive of an MLB pitcher’s win rate? using MLB pitching data.\n\nThis project is intentionally open-ended: there are no predetermined right answers. Exceptional projects will demonstrate mastery of the course material and involve more than a superficial review of material covered in class or application using a toy dataset. If you are an undergraduate interested in participating in a competition and potentially presenting at the Electronic Undergraduate Statistics Conference, you may consider using this project to submit to the Undergraduate Class Project Competition. Examples of winning projects from this competition include\nThe best projects will start with an interesting and rich research question which motivates the choice of dataset (instead of starting with the data and trying to make up a research topic based on the data). You will use your selected dataset to conduct an exploratory data analysis, create data visualizations, and carry out an inferential analysis (like a hypothesis test or regression analysis) to explore your research question(s). Your chosen visualizations and methods should provide compelling evidence about your research questions.\nDuring the semester, you will submit multiple checkpoint assignments, including a written project proposal which must be approved by the instructor. At the end of the semester, you will submit a written report of your results as well as a brief reflection and self-evaluation.\nYou may work alone, or in a group of two or three. If you work in a group, there are additional requirements. In particular, if you work in a group of two, you must explore at least four subquestions. If you work in a group of three, you should explore at least five subquestions.",
    "crumbs": [
      "Course information",
      "Final Project"
    ]
  },
  {
    "objectID": "final_project.html#overview",
    "href": "final_project.html#overview",
    "title": "Final Project: A Data Analysis Narrative",
    "section": "",
    "text": "This course culminates with a data analysis narrative project in which you will use the data exploration, visualization, and analysis skills you have learned this semester to study a research question of your choice and then create a narrative about your exploration. Examples of research questions that can lead to successful projects may include but are not limited to:\n\nWhat factors (country of origin, roasting process) influence the ratings of coffee beans by food critics? using data on coffee ratings.\nWhat neighborhood characteristics are most heavily correlated with local average household income? using data from the Opportunity Atlas.\nWhat variables are most predictive of an MLB pitcher’s win rate? using MLB pitching data.\n\nThis project is intentionally open-ended: there are no predetermined right answers. Exceptional projects will demonstrate mastery of the course material and involve more than a superficial review of material covered in class or application using a toy dataset. If you are an undergraduate interested in participating in a competition and potentially presenting at the Electronic Undergraduate Statistics Conference, you may consider using this project to submit to the Undergraduate Class Project Competition. Examples of winning projects from this competition include\nThe best projects will start with an interesting and rich research question which motivates the choice of dataset (instead of starting with the data and trying to make up a research topic based on the data). You will use your selected dataset to conduct an exploratory data analysis, create data visualizations, and carry out an inferential analysis (like a hypothesis test or regression analysis) to explore your research question(s). Your chosen visualizations and methods should provide compelling evidence about your research questions.\nDuring the semester, you will submit multiple checkpoint assignments, including a written project proposal which must be approved by the instructor. At the end of the semester, you will submit a written report of your results as well as a brief reflection and self-evaluation.\nYou may work alone, or in a group of two or three. If you work in a group, there are additional requirements. In particular, if you work in a group of two, you must explore at least four subquestions. If you work in a group of three, you should explore at least five subquestions.",
    "crumbs": [
      "Course information",
      "Final Project"
    ]
  },
  {
    "objectID": "final_project.html#part-one-project-proposal-10-points-due-1023",
    "href": "final_project.html#part-one-project-proposal-10-points-due-1023",
    "title": "Final Project: A Data Analysis Narrative",
    "section": "Part One: Project Proposal (10 points), due 10/23",
    "text": "Part One: Project Proposal (10 points), due 10/23\nTo begin your project, identify a research topic and dataset. In particular, your project should meet the following minimum requirements:\n\nRequirements\n\nIdentify your main research question/topic of interest. (ex. What factors influence the ratings of coffee beans by food critics?)\nChoose a dataset or multiple datasets with at least 100 observations and 10 variables (exceptions can be made with instructor approval). Your dataset must include both quantitative and categorical variables.\nIdentify at least three subtopics or subquestions related to your main research topic that you want to study using this dataset. Your subquestions should refer explicitly to variables in your dataset. (ex. if your dataset includes information on coffee ratings and country of origin, an appropriate subquestion could be Are South American coffee beans scored differently from African coffee beans?) In particular, if you work in a group of two, you must explore at least four subquestions. If you work in a group of three, you should explore at least five subquestions.\n\n\n\nSubmission\nYou will submit a 2-3 page project proposal (pdf format) with the following information:\n\nYour project title\nYour main research question/topic of interest.\nA brief description of your dataset (where it is from, how it can be obtained, why you chose it).\nA data dictionary in the following format (if there are more than 10 variables, you can choose the 10 variables that interest you most):\n\n\n\nVariable name\nVariable type\nDescription\n\n\n\n\nex. dob\nDate\ndate of birth\n\n\nex. city\ncharacter\ncity of birth\n\n\n. . .\n. . .\n. . .\n\n\n\nAn overview of your subquestions, with explicit reference to the relevant variables in your dataset.\nA list of three to five outside references you plan to consult for background research on your topic.\nAny questions you have for me.\n\nYou are encouraged to meet with the instructor to discuss potential project topics and datasets before beginning your project proposal. If you wish to use a dataset discussed in class, you should obtain instructor approval.",
    "crumbs": [
      "Course information",
      "Final Project"
    ]
  },
  {
    "objectID": "final_project.html#part-two-inferential-analysis-15-points-due-1125",
    "href": "final_project.html#part-two-inferential-analysis-15-points-due-1125",
    "title": "Final Project: A Data Analysis Narrative",
    "section": "Part Two: Inferential analysis (15 points), due 11/25",
    "text": "Part Two: Inferential analysis (15 points), due 11/25\nFor at least one of your subquestions, perform an inferential analysis (ex. hypothesis test, confidence interval, linear regression) and discuss your findings. For the second checkpoint assignment, you will prepare a written report on your inferential analysis. You will receive instructor feedback on your writeup, which you should incorporate into your final report.\n\nSubmission\nYou will submit a 1-2 page writeup (pdf format) with the following information:\n\nAn introduction of the subquestion you are exploring via this inferential analysis.\nA description of your data analysis plan, including any steps needed to clean or transform the data and the method you intend to use.\nAn outline of any assumptions needed for your method to be valid. For each assumption, discuss why your data satisfies this assumption.\nA description of the results of your analysis and interpretation of the results.",
    "crumbs": [
      "Course information",
      "Final Project"
    ]
  },
  {
    "objectID": "final_project.html#part-three-final-report-70-points-due-129",
    "href": "final_project.html#part-three-final-report-70-points-due-129",
    "title": "Final Project: A Data Analysis Narrative",
    "section": "Part Three: Final Report (70 points), due 12/9",
    "text": "Part Three: Final Report (70 points), due 12/9\nFinally, you will submit a written final report on your project. This final report will include the inferential analysis (part two) and summarize your work and findings.\n\nSubmission\nYou will submit a written report (pdf format). There is no explicit page limit/requirement, but a report of 5-7 single-spaced pages, not including figures/references/code, should be sufficient for most projects (longer may be necessary if you are working in a group). The target audience of your report is a classmate who may not be familiar with your selected dataset or topic.\nThe structure of your report may depend on your selected project topic, but should include the following information at a minimum.\n\nIntroduction and background:\n\nIntroduce main topic, your dataset, and subquestions of interest.\nDiscuss any previous research/findings or relevant context on your question of interest.\n\nExploratory data analysis:\n\nFor each of your subquestions, generate at least one data visualization or descriptive statistic. In particular, if you work in a group of two, you must explore at least four subquestions. If you work in a group of three, you should explore at least five subquestions.\nDiscuss and interpret your findings.\n\nInferential analysis:\n\nFor at least one of your subquestions, you should also perform a basic statistical analysis (ex. confidence interval, hypothesis test, linear regression).\nDiscuss and interpret your findings.\n\nConclusions and future questions:\n\nSummarize your conclusions and discuss any questions you might interested in exploring in the future.\nDiscuss any potential limitations of your analysis. Were there missing data in your dataset? Are there additional data or variables that would be helpful for answering your questions.\n\nCode appendix: Your report should not include any code in the main text. All code should be included in an appendix at the end of your report. All code should be appropriately commented and styled according to one of the style guides discussed in class.",
    "crumbs": [
      "Course information",
      "Final Project"
    ]
  },
  {
    "objectID": "final_project.html#part-four-reflection-and-self-evaluation-5-points-due-129",
    "href": "final_project.html#part-four-reflection-and-self-evaluation-5-points-due-129",
    "title": "Final Project: A Data Analysis Narrative",
    "section": "Part Four: Reflection and Self-evaluation (5 points), due 12/9",
    "text": "Part Four: Reflection and Self-evaluation (5 points), due 12/9\nYou will complete a 1-2 page reflection and self-evaluation on your work for this final project and course. Briefly answer the following questions:\n\nIf you worked with a partner/group, what were your specific responsibilities for the project proposal, report, and presentation?\nDescribe at least one aspect of your work for this class of which you are proud. Are there any ways in which you grew this semester?\nDescribe at least one aspect of your work which you could have improved.\n\nAre there other topics related to programming in R and data science that you wish we had covered?",
    "crumbs": [
      "Course information",
      "Final Project"
    ]
  },
  {
    "objectID": "projects/final_project.html",
    "href": "projects/final_project.html",
    "title": "Final Project",
    "section": "",
    "text": "For this project, you will be exploring data on a topic of your choice. You should choose a dataset that interests you and will enable you to demonstrate the exploration, visualization, and analysis skills you have learned this semester.\nYou will use your selected dataset to conduct an exploratory data analysis as well as a statistical analysis (hypothesis test or regression analysis) to explore a set of research questions of your own choice.\nYour projects will be evaluated on your use of code to perform your analysis as well as the quality of your visualizations and exposition. This includes, but is not limited to, the quality of your writing, the informativeness of your visualizations, and the depth of research questions. The target audience of your report is a peer who is uninformed about the details of the data, but is interested in learning more about your analysis. Again, there are no right answers for this project! Successful projects will involve more than a cursory analysis of one or two variables in the dataset and will tell a compelling story about the dataset.\n\n\n\nChoose a data set or multiple datasets with the following characteristics:\n\nAt least three continuous variables\nAt least two categorical variables\n\nIdentify three research questions of interest that you want to study using this dataset. Each of your research questions should involve at least two of the variables in your dataset.\nFor each of your three research questions, generate at least one data visualization or descriptive statistic. Discuss and interpret your findings.\nFor at least one of your research questions, perform a statistical analysis (ex. hypothesis test, confidence interval, linear regression). Discuss and interpret your findings.\nFinal submissions must include .Rmd and .html files."
  },
  {
    "objectID": "projects/final_project.html#instructions",
    "href": "projects/final_project.html#instructions",
    "title": "Final Project",
    "section": "",
    "text": "For this project, you will be exploring data on a topic of your choice. You should choose a dataset that interests you and will enable you to demonstrate the exploration, visualization, and analysis skills you have learned this semester.\nYou will use your selected dataset to conduct an exploratory data analysis as well as a statistical analysis (hypothesis test or regression analysis) to explore a set of research questions of your own choice.\nYour projects will be evaluated on your use of code to perform your analysis as well as the quality of your visualizations and exposition. This includes, but is not limited to, the quality of your writing, the informativeness of your visualizations, and the depth of research questions. The target audience of your report is a peer who is uninformed about the details of the data, but is interested in learning more about your analysis. Again, there are no right answers for this project! Successful projects will involve more than a cursory analysis of one or two variables in the dataset and will tell a compelling story about the dataset.\n\n\n\nChoose a data set or multiple datasets with the following characteristics:\n\nAt least three continuous variables\nAt least two categorical variables\n\nIdentify three research questions of interest that you want to study using this dataset. Each of your research questions should involve at least two of the variables in your dataset.\nFor each of your three research questions, generate at least one data visualization or descriptive statistic. Discuss and interpret your findings.\nFor at least one of your research questions, perform a statistical analysis (ex. hypothesis test, confidence interval, linear regression). Discuss and interpret your findings.\nFinal submissions must include .Rmd and .html files."
  },
  {
    "objectID": "projects/final_project.html#part-one-project-proposal-10-points-due-1013",
    "href": "projects/final_project.html#part-one-project-proposal-10-points-due-1013",
    "title": "Final Project",
    "section": "Part One: Project Proposal (10 points), due 10/13",
    "text": "Part One: Project Proposal (10 points), due 10/13\nYou will submit a 1-2 page project proposal with the following information:\n\nA brief description of your dataset (where it is from, how it can be obtained, why you chose it).\nA data dictionary in the following format (if there are more than 10 variables, you can choose the 10 variables that interest you most):\n\n\n\nVariable name\nVariable type\nDescription\n\n\n\n\nex. dob\nDate\ndate of birth\n\n\nex. city\ncharacter\ncity of birth\n\n\n. . .\n. . .\n. . .\n\n\n\nAn overview of the main research questions you hope to explore through your project. Each of your research questions should involve at least two of the variables in your dataset.\nA list of three to five outside references you plan to consult for background reading on your research questions.\nAny questions you have for me."
  },
  {
    "objectID": "projects/final_project.html#part-two-final-report-70-points-due-128",
    "href": "projects/final_project.html#part-two-final-report-70-points-due-128",
    "title": "Final Project",
    "section": "Part Two: Final Report (70 points), due 12/8",
    "text": "Part Two: Final Report (70 points), due 12/8\n5-7 pages, including figures. You do not have to write this in the form of an essay, but you should present your findings in a clear and organized way. In particular, you should be sure to cover the following areas:\n\nIntroduction and background:\n\nIntroduce your dataset and research questions of interest. Each of your research questions should involve at least two of the variables in your dataset.\nDiscuss any previous research/findings or relevant context on your question of interest.\nProvide a univariate visualization of a categorical variable in your dataset.\nProvide a univariate visualization of a numerical variable in your dataset.\n\nExploratory data analysis:\n\nFor each of your three research questions, generate at least one data visualization or descriptive statistic.\nDiscuss and interpret your findings.\n\nInferential statistical analysis:\n\nFor at least one of your research questions, perform a basic statistical analysis (ex. confidence interval, hypothesis test, linear regression).\nDiscuss and interpret your findings.\n\nConclusions and future questions:\n\nSummarize your conclusions and discuss any questions you might interested in exploring in the future.\nAre there other types of datasets that would have been helpful to have?"
  },
  {
    "objectID": "projects/final_project.html#part-three-lightning-talks-15-points-slides-due-123",
    "href": "projects/final_project.html#part-three-lightning-talks-15-points-slides-due-123",
    "title": "Final Project",
    "section": "Part Three: Lightning Talks (15 points), slides due 12/3",
    "text": "Part Three: Lightning Talks (15 points), slides due 12/3\n3-5 minutes, maximum four slides. You should rehearse your lightning talk in advance and it should include:\n\nA quick introduction to your dataset and research questions of interest.\nAn overview of your favorite visualization/descriptive summary/result from your project."
  },
  {
    "objectID": "projects/final_project.html#part-four-reflection-and-self-evaluation-5-points-due-1212",
    "href": "projects/final_project.html#part-four-reflection-and-self-evaluation-5-points-due-1212",
    "title": "Final Project",
    "section": "Part Four: Reflection and Self-evaluation (5 points), due 12/12",
    "text": "Part Four: Reflection and Self-evaluation (5 points), due 12/12\nYou will complete a 1-2 page reflection and self-evaluation on your work this semester for MATH167R. Briefly answer the following questions:\n\nDescribe at least one aspect of your work for this class of which you are proud. Are there any ways in which you grew this semester?\nDescribe at least one aspect of your work which you could have improved.\n\nAre there other topics related to programming in R and data science that you wish we had covered?\n\n\nGrading Rubric\n\nProject Proposal: Graded based on completion of all instructions.\nFinal Report:\n\nExposition (10 points): graded on the clarity of your writing and the appropriateness of your dataset and research questions\nExploratory data analysis (25 points): graded on the correctness of your computations/visualizations, appropriate use of R functions, and the depth/clarity of your explanations\nInferential statistical analysis (25 points): graded on the appropriateness of your analysis, accuracy of your computations and interpretations, appropriate use of R functions, and the depth/clarity of your explanations\nCode style/formatting (10 points): to receive full credit, all code, text, and output in your final report should be correctly formatted. Code should be appropriately commented and styled (ex. appropriate variable names).\n\nLightning Talks: graded based on the quality and completeness of your presentation.\nReflection and Self-evaluation: Graded based on completion."
  },
  {
    "objectID": "labs/06_lab.html",
    "href": "labs/06_lab.html",
    "title": "Lab 6",
    "section": "",
    "text": "Remember, follow the instructions below and use R Markdown to create an html document with your code and answers to the following questions. You may find a template file by clicking “Code” in the top right corner of this page."
  },
  {
    "objectID": "labs/06_lab.html#a..-skewness-and-kurtosis",
    "href": "labs/06_lab.html#a..-skewness-and-kurtosis",
    "title": "Lab 6",
    "section": "A.. Skewness and Kurtosis",
    "text": "A.. Skewness and Kurtosis\nSkewness describes how asymmetrical the distribution of a numerical variable is around its mean. Given observations \\(x_1,\\ldots, x_n\\), we can calculate the sample skewness \\(s\\) of a variable using the following formula:\n\\[s = \\frac{\\frac{1}{n}\\sum\\limits_{i=1}^n(x_i-\\overline{x})^3}{\\left[\\frac{1}{n}\\sum\\limits_{i=1}^n(x_i-\\overline{x})^2\\right]^{3/2}}\\] Kurtosis is a measure of the “tailedness” of the distribution of a numerical variable is around its mean. Higher values of kurtosis indicate more extreme outliers. Given observations \\(x_1,\\ldots, x_n\\), we can calculate the sample kurtosis \\(k\\) of a variable using the following formula:\n\\[k = \\frac{\\frac{1}{n}\\sum\\limits_{i=1}^n(x_i-\\overline{x})^4}{\\left[\\frac{1}{n}\\sum\\limits_{i=1}^n(x_i-\\overline{x})^2\\right]^{2}}-3\\]\n\nWrite a function skewness() that takes as input a numeric vector x and returns the sample skewness. There are functions in R that compute skewness, but you cannot use any of them–write your own implementation. You may remove all NA values by default. Use your function to compute the sample skewness of the arr_delay variable in the flights dataset contained in the nycflights13 package.\nWrite a function kurtosis() that takes as input a numeric vector x and returns the sample skewness. There are functions in R that compute kurtosis, but you cannot use any of them–write your own implementation. You may remove all NA values by default. Use your function to compute the sample kurtosis of the arr_delay variable in the flights dataset contained in the nycflights13 package.\nWrite a function get_column_skewness() that takes as input a data frame and calculates the skewness of each numeric variable. The output should be a data frame with two variables: variable containing the name of the variable and skewness containing the skewness. Your output data frame should only include the numeric variables. You may remove all NA values by default. Demonstrate your function on the penguins dataset."
  },
  {
    "objectID": "labs/06_lab.html#b.-finding-an-error",
    "href": "labs/06_lab.html#b.-finding-an-error",
    "title": "Lab 6",
    "section": "B. Finding an error",
    "text": "B. Finding an error\nSuppose you have two teams of runners participating in a 5k. We wish to write a function that takes as input two vectors representing the times of the runners in each team and returns a list of two vectors representing the ranks of each team’s runners.\nFor example, if the first team’s times are c(16.8, 21.2, 19.1) and the second team’s times are c(17.2, 18.1, 20.0), the function should return c(1, 6, 4) for the first team and c(2, 3, 5) for the second team.\nBelow is a draft version of the function get_runner_ranks(). However, there is an error somewhere. Use any method we discussed in class to identify the error.\n\nget_runner_ranks &lt;- function(x, y) {\n  # combine all runner times\n  combined_times &lt;- c(x, y) \n  \n  # sort all runner times from fastest to slowest\n  sort(combined_times, decreasing = T)\n  \n  # create ranks vectors\n  ranks_x &lt;- numeric(length(x))\n  ranks_y &lt;- numeric(length(y))\n  \n  for (i in seq_along(ranks_x)) {\n    # look up rank of time i in x in combined_times\n    ranks_x[i] &lt;- match(x[i], combined_times)\n  }\n  \n  for (i in seq_along(ranks_y)) {\n    # look up rank of time i in y in combined_times\n    ranks_y[i] &lt;- match(y[i], combined_times)\n  }\n  \n  # return a list of first team and second team ranks\n  return(list(x = ranks_x, y = ranks_y))\n}\n\n\nExplain in your own words what the error was.\nBelow, write a corrected version of get_runner_ranks() and compute get_runner_ranks(c(16.8, 21.2, 19.1), c(17.2, 18.1, 20.0)).\n\n\nget_runner_ranks &lt;- function(x, y) {\n  # YOUR CODE HERE\n}"
  },
  {
    "objectID": "labs/06_lab.html#c.-enumerating-possibilities",
    "href": "labs/06_lab.html#c.-enumerating-possibilities",
    "title": "Lab 6",
    "section": "C. Enumerating possibilities",
    "text": "C. Enumerating possibilities\n\nConsider the following problem. If I randomly arrange \\(2\\) Coke cans and \\(2\\) Pepsi cans in a row, how many different distinguishable orderings are there? In this case, there are \\(4!/(2!\\times 2!)=6\\) orderings: CCPP, CPCP, CPPC, PPCC, PCPC, PCCP. Write a function get_distinguishable_orderings() that takes two inputs, \\(m\\) and \\(n\\), and returns a vector containing all distinguishable orderings of \\(m\\) Coke cans and \\(n\\) Pepsi cans. In other words, get_distinguishable_orderings(2, 2) should return the vector \"CCPP\" \"CPCP\" \"CPPC\" \"PPCC\" \"PCPC\" \"PCCP\" (or a reordered version of this vector).\nUse your function to create a vector of all distinguishable orderings of \\(3\\) Coke cans and \\(3\\) Pepsi cans. Print this vector."
  },
  {
    "objectID": "labs/05_lab.html",
    "href": "labs/05_lab.html",
    "title": "Lab 5",
    "section": "",
    "text": "Remember, follow the instructions below and use R Markdown to create an html document with your code and answers to the following questions. You may find a template file by clicking “Code” in the top right corner of this page."
  },
  {
    "objectID": "labs/05_lab.html#cook-county-assessors-office",
    "href": "labs/05_lab.html#cook-county-assessors-office",
    "title": "Lab 5",
    "section": "0. Cook County Assessor’s Office",
    "text": "0. Cook County Assessor’s Office\nFor this lab, you will work with data from Cook County Assessor’s Office from Illinois, which inspects properties across Chicago and its suburbs to assess the value of each property to determine the amount in property taxes owed by each property owner. All property owners are required to pay taxes which are used to fund public services at the state level. These assessments are based on property values which are often estimated via statistical models that account for variables like the size and location of a property.\nSince these models determine how much property owners must pay each year, it is desirable to have assessments that are fair. However, in 2017, the office of the former Cook County Assessor Joseph Berrios was sued by two Chicago nonprofits who alleged that Berrios’ office “disproportionately put the burden of residential property taxes on minority homeowners,” so that wealthy property owners paid proportionally less in taxes compared with lower-income, and often minority, property owners. The Chicago Tribune investigated property assessments from 2003 to 2015, arguing that assessments had indeed been discrimnatory. Their four-part investigation can be found here.\nSince this investigation, the Cook County Assessor’s Office has strived to be more transparent in disclosing their methods and data for property valuation. In this assignment, we will look at data they have released on property valuation from 2013-2019. The office has also published open-source code for their models, which is written in R! This assignment is based on a module developed by instructors at UC Berkeley."
  },
  {
    "objectID": "labs/05_lab.html#a.-residential-sales-data",
    "href": "labs/05_lab.html#a.-residential-sales-data",
    "title": "Lab 5",
    "section": "A. Residential Sales Data",
    "text": "A. Residential Sales Data\n\nDownload the data from this link. How many rows are there in this dataset? What does each row represent? (Hint: be precise here).\nExamine the Site Desirability variable. What do each of the levels of this variable represent? You may need to refer to the codebook to learn about this variable. Is it explained how this variable is determined?\nGive an example of a variable that is not included in this dataset that could be useful in determining property value.\nCreate a histogram of Sale Price for this dataset. Identify one issue with this visualization and attempt to address this issue.\nFor the rest of the assignment, we will focus on a subset of properties. Provide code that creates a new data.frame called clean_data that contains only properties whose sale price is at least $500. Create a new column in this data frame called log_sale_price that contains the log-transformed Sale Price values.\nVisualize the association between number of bedrooms and log_sale_price using parallel box plots. You may need to convert Bedrooms to a factor before you are able to construct the parallel box plots. For clarity, only include properties with 10 or fewer bedrooms. Interpret your results.\nCreate a new factor variable called age_bin that has levels 1-20, 21-40, 41-60, 61-80, 81-100, and 100+. Visualize the association between age_bin and log_sale_price using parallel box plots. Interpret your results."
  },
  {
    "objectID": "labs/05_lab.html#b.-assessor-first-pass-values",
    "href": "labs/05_lab.html#b.-assessor-first-pass-values",
    "title": "Lab 5",
    "section": "B. Assessor First Pass Values",
    "text": "B. Assessor First Pass Values\n\nNot all of the properties in the above dataset have public assessment values. You can download another dataset containing “First Pass Values” representing the Assessor’s initial valuations for a set of properties in 2019 here. How many rows are in this dataset?\nUse an appropriate function to combine the first pass values data with the clean_data from Part A. You should keep only rows that have both log_sale_price (from clean_data) and First Pass Value 1 from the first pass values data. How many rows are in this combined dataset?\nCreate a scatter plot with log(First Pass Value 1) on the x-axis and log_sale_price on the y-axis. Add a line to your plot indicating the line where y=x. Interpret your results. What do points above the line represent? What do points below the line represent?"
  },
  {
    "objectID": "labs/08_lab.html",
    "href": "labs/08_lab.html",
    "title": "Lab 8",
    "section": "",
    "text": "Remember, follow the instructions below and use R Markdown to create a pdf document with your code and answers to the following questions on Gradescope. You may find a template file by clicking “Code” in the top right corner of this page."
  },
  {
    "objectID": "labs/08_lab.html#a.-bootstrapping-the-sampling-distribution-of-the-median",
    "href": "labs/08_lab.html#a.-bootstrapping-the-sampling-distribution-of-the-median",
    "title": "Lab 8",
    "section": "A. Bootstrapping the sampling distribution of the median",
    "text": "A. Bootstrapping the sampling distribution of the median\n\nUsing the penguins dataset in the palmerpenguins package, construct a confidence interval for the mean body_mass_g for female Adelie penguins based on using a normal distribution based on the central limit theorem. You should compute the confidence interval without using confint().\nConstruct a bootstrap confidence interval for the mean body_mass_g for female Adelie penguins using 10000 resamples."
  },
  {
    "objectID": "labs/08_lab.html#b.-simulations",
    "href": "labs/08_lab.html#b.-simulations",
    "title": "Lab 8",
    "section": "B. Simulations",
    "text": "B. Simulations\n\nFor this question, you will write a simulation to test the frequentist coverage of a 95% confidence interval for a proportion based on the normal approximation.\n\nFirst, write a function that takes two inputs: n and p. Your function should randomly generate some \\(X\\sim \\mathrm{Binomial}(n, p)\\), compute \\(\\widehat{p}= X/n\\), and then compute the corresponding normal distribution-based confidence interval for \\(p\\) based on your sample \\(\\widehat{p}\\). Your function should return TRUE if \\(p\\) is in the confidence interval. You may use the following formula for the confidence interval:\n\n\\[\\widehat{p}\\pm z_{.975}\\sqrt{\\frac{\\widehat{p}(1-\\widehat{p})}{n}}\\]\n\nNext, write a second function that takes three inputs: n, p, and n_runs, representing the number of times to run your simulation. This function should use your function from (a) to simulate n_runs binomial random variables and return the proportion of the n_runs for which \\(p\\) is contained in the confidence interval.\nTest your function from (b) with n = 20, p = .5, and n_runs = 1000.\nUse your simulation code to investigate the following questions: For what values of n and p is the frequentist coverage close to the expected 95% value? For what values of n and p is the frequentist coverage very different to the expected 95% value?"
  },
  {
    "objectID": "labs/08_lab.html#c.-hypothesis-testing",
    "href": "labs/08_lab.html#c.-hypothesis-testing",
    "title": "Lab 8",
    "section": "C. Hypothesis Testing",
    "text": "C. Hypothesis Testing\nUse the following code to obtain the Hawaiian Airlines and Alaska Airlines flights from the nycflights13 package.\n\nlibrary(tidyverse)\nlibrary(nycflights13)\ndata(\"flights\")\nflights_sample &lt;- flights |&gt; \n  filter(carrier %in% c(\"HA\", \"AS\"))\n\n\nCompute a 95% confidence interval for the mean arr_delay for Alaska Airlines flights. Interpret your results.\nCompute a 95% confidence interval for the mean arr_delay for Hawaiian Airlines flights. Interpret your results.\nCompute a 95% confidence interval for the proportion of flights for which arr_delay &gt; 0 for Hawaiian Airlines flights. Interpret your results.\nConsider the null hypothesis that the mean arr_delay for Alaska is equal to the mean arr_delay for Hawaiian and the alternative hypothesis that the mean arr_delay values are different for the two airlines. Perform an appropriate hypothesis test and interpret your results."
  },
  {
    "objectID": "labs/08_lab.html#d.-linear-regression",
    "href": "labs/08_lab.html#d.-linear-regression",
    "title": "Lab 8",
    "section": "D. Linear Regression",
    "text": "D. Linear Regression\nResearchers at the University of Texas in Austin, Texas tried to figure out what causes differences in instructor teaching evaluation scores. Use the following code to load data on 463 courses. A full description of the data can be found here.\n\nevals &lt;- readr::read_csv(\"https://www.openintro.org/book/statdata/evals.csv\")\n\n\nCarry out a linear regression with score as the response variable and age as the single explanatory variable. Interpret your results.\nExtend your regression model by adding an additional explanatory variable. What happens to your results? Are the new \\(p\\)-values appropriate to use?"
  },
  {
    "objectID": "labs/10_lab.html",
    "href": "labs/10_lab.html",
    "title": "Lab 10",
    "section": "",
    "text": "Remember, you must submit both your .Rmd and the compiled .html in order to receive full credit! In addition, to receive full credit, your code output and plots must be correctly formatted."
  },
  {
    "objectID": "labs/10_lab.html#a.-hypothesis-testing",
    "href": "labs/10_lab.html#a.-hypothesis-testing",
    "title": "Lab 10",
    "section": "A. Hypothesis Testing",
    "text": "A. Hypothesis Testing\n\nUse the following code to obtain the Hawaiian Airlines and Alaska Airlines flights from the nycflights13 package.\n\n\nlibrary(tidyverse)\nlibrary(nycflights13)\ndata(\"flights\")\nflights_sample &lt;- flights |&gt; \n  filter(carrier %in% c(\"HA\", \"AS\"))\n\n\nCompute a 95% confidence interval for the mean arr_delay for Alaska Airlines flights. Interpret your results.\nCompute a 95% confidence interval for the mean arr_delay for Hawaiian Airlines flights. Interpret your results.\nCompute a 95% confidence interval for the proportion of flights for which arr_delay &gt; 0 for Hawaiian Airlines flights. Interpret your results.\nConsider the null hypothesis that the mean arr_delay for Alaska is equal to the mean arr_delay for Hawaiian and the alternative hypothesis that the mean arr_delay values are different for the two airlines. Perform an appropriate hypothesis test and interpret your results."
  },
  {
    "objectID": "labs/10_lab.html#b.-linear-regression",
    "href": "labs/10_lab.html#b.-linear-regression",
    "title": "Lab 10",
    "section": "B. Linear Regression",
    "text": "B. Linear Regression\n\nResearchers at the University of Texas in Austin, Texas tried to figure out what causes differences in instructor teaching evaluation scores. Use the following code to load data on 463 courses. A full description of the data can be found here.\n\n\nevals &lt;- readr::read_csv(\"https://www.openintro.org/book/statdata/evals.csv\")\n\n\nCarry out a linear regression with score as the response variable and age as the single explanatory variable. Interpret your results.\nExtend your regression model by adding an additional explanatory variable. What happens to your results? Are the new \\(p\\)-values appropriate to use?"
  },
  {
    "objectID": "labs/10_lab.html#c.-power-simulation",
    "href": "labs/10_lab.html#c.-power-simulation",
    "title": "Lab 10",
    "section": "C. Power simulation",
    "text": "C. Power simulation\n\nFor this question, you will write a simulation to estimate the power of a one-sample \\(t\\)-test for a population mean for varying effect sizes, \\(\\alpha\\), and sample sizes. In particular, assume that we are testing the hypotheses \\(H_0: \\mu = 0\\) and \\(H_a: \\mu \\not=0\\).\n\nWrite a function that takes four inputs: mu, sigma, alpha, and n. Your function should randomly simulate a sample of n normal random variables with mean mu and standard deviation sigma and then compute the appropriate test \\(t\\)-statistic, treating the mean and standard deviation as unknown. You should then compare your test statistic with a \\(t\\) distribution and obtain the \\(P\\)-value of your hypothesis test. Based on alpha, return TRUE if the null hypothesis is rejected and FALSE if the null hypothesis is not rejected.\nRun your function 1000 times to estimate the power when mu = 1, sigma = 1, alpha = .05 and n = 10.\nRun your function 1000 times to estimate the power when mu = 0.5, sigma = 1, alpha = .05 and n = 10. Compare with your results from (b)."
  },
  {
    "objectID": "labs/02_lab.html",
    "href": "labs/02_lab.html",
    "title": "Lab 2: R Markdown and Basic Objects",
    "section": "",
    "text": "In this lab, you will familiarize yourself with R Markdown, file management, and basic objects and functions. Follow the instructions below and use R Markdown to create an html document with your code and answers to the following questions. You may find a template file by clicking “Code” in the top right corner of this page.\nYour final submission should clearly include all code needed to generate your answers and should be formatted according to the guidelines outlined in class. In particular, make sure:\nYou may collaborate with your classmates and consult external resources, but you should write and submit your own answer. Any classmates with whom you collaborate should be credited at the top of your submission. Similarly, if you consult any external references, you should cite them clearly and explicitly."
  },
  {
    "objectID": "labs/02_lab.html#a.-file-paths-and-introduction-to-r-markdown",
    "href": "labs/02_lab.html#a.-file-paths-and-introduction-to-r-markdown",
    "title": "Lab 2: R Markdown and Basic Objects",
    "section": "A. File paths and Introduction to R Markdown",
    "text": "A. File paths and Introduction to R Markdown\n\nCreate a MATH167R directory somewhere on your computer that will contain all your work for this class. Within the MATH167R folder, create subdirectories for labs, checkins, and data. Save this .Rmd document in your labs folder and then Render/Knit your Rmd document. The following code chunk should print the location of your Rmd. document:\n\n\ngetwd()\n\n[1] \"/Users/peter/Dropbox/teaching/math167R-f24/math167R-f24.github.io/labs\"\n\n\n\nIn the console, run the command getwd(). What is the output? If it is different from your answer to Question 1, why? Explain, in your own words, what the working directory is.\n\n\n\nEvery time you Render/Knit your Rmd document, all of the code is run in a new R session. Any code run in the interactive session does not affect your rendered html file. Create a code chunk below that sets the value of x to be your favorite number and then uses print(x) to print it out.\n\n\n\nDownload this dataset to your data folder, then use a code chunk with the code cars &lt;- read.csv(\"YOUR PATH HERE\") to open the file. You will need to replace the text YOUR PATH HERE with the correct location of the dataset to open this successfully.\n\n\n\nRun the code head(cars) in a code chunk to display the first few rows of this dataset."
  },
  {
    "objectID": "labs/02_lab.html#b.-vectors-and-matrices",
    "href": "labs/02_lab.html#b.-vectors-and-matrices",
    "title": "Lab 2: R Markdown and Basic Objects",
    "section": "B. Vectors and Matrices",
    "text": "B. Vectors and Matrices\n\nWrite a line of code to generate a vector of length 100 whose entries are 1, 2, …, 100.\n\n\n# REPLACE WITH YOUR CODE\n\n\nWrite a line of code to generate the following matrix:\n\n1 2 3\n4 5 6\n7 8 9\n\n# REPLACE WITH YOUR CODE"
  },
  {
    "objectID": "labs/02_lab.html#c.-working-with-data-frames",
    "href": "labs/02_lab.html#c.-working-with-data-frames",
    "title": "Lab 2: R Markdown and Basic Objects",
    "section": "C. Working with Data Frames",
    "text": "C. Working with Data Frames\nUse the following code to load the penguins data.\n\n# load palmer penguins package\nlibrary(palmerpenguins)\n\n# open penguins data as a data frame\ndata(penguins)\npenguins &lt;- as.data.frame(penguins)\n\n\nUsing the mean() function, compute the mean body mass of penguins in the dataset, dropping any missing values.\n\n\n# YOUR CODE HERE\n\n\n\nUsing the max function, compute the maximum flipper length of penguins in the dataset, dropping any missing values.\n\n\n# YOUR CODE HERE\n\n\n\nUsing the hist function, create a histogram of the ratio of the penguins’ bill length to bill depth, dropping any missing values. What is the shape of the reuslting distribution?\n\n\n# YOUR CODE HERE"
  },
  {
    "objectID": "labs/03_lab.html",
    "href": "labs/03_lab.html",
    "title": "Lab 3: Descriptive Statistics",
    "section": "",
    "text": "Follow the instructions below and use R Markdown to create an html document with your code and answers to the following questions on Gradescope. You may find a template file by clicking “Code” in the top right corner of this page.\nYour final submission should clearly include all code needed to generate your answers and should be formatted according to the guidelines outlined in class. In particular, make sure:\nYou may collaborate with your classmates and consult external resources, but you should write and submit your own answer. Any classmates with whom you collaborate should be credited at the top of your submission. Similarly, if you consult any external references, you should cite them clearly and explicitly."
  },
  {
    "objectID": "labs/03_lab.html#a.-weather-forecast-data",
    "href": "labs/03_lab.html#a.-weather-forecast-data",
    "title": "Lab 3: Descriptive Statistics",
    "section": "A. Weather Forecast Data",
    "text": "A. Weather Forecast Data\n\nFor this lab, we’ll be using data on weather forecasts gathered by student at Saint Louis University. You can read about the dataset here. Download the weather forecasts data using the following code:\n\n\nweather_forecasts &lt;- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-12-20/weather_forecasts.csv')\n\n\nHow many rows are in this dataset? How many columns?\n\n\n# YOUR CODE HERE\n\n\n\nHow many cities are represented in this dataset?\n\n\n# YOUR CODE HERE\n\n\n\nCreate a new data frame containing only the forecasts for San Jose. You may have to explore the values for the city variable.\n\n\n# YOUR CODE HERE\n\n\n\nCompute the mean absolute error between observed_temp and forecast_temp for San Jose.\n\n\n# YOUR CODE HERE\n\n\n\nCompute the mean absolute error between observed_temp and forecast_temp for San Jose using only forecasts made 48 hours in advance.\n\n\n# YOUR CODE HERE\n\n\n\nCompute the mean absolute error between observed_temp and forecast_temp for San Jose using only forecasts made 12 hours in advance.\n\n\n# YOUR CODE HERE\n\n\n\nCompare your answers to 6 and 7. What do you notice? How does this compare to your expectation?\n\n\n\nPick two cities in this dataset. Investigate whether the forecast accuracy is better for one city than for the other, using an appropriate statistic. Discuss your findings."
  },
  {
    "objectID": "labs/03_lab.html#b.-find-your-own-data",
    "href": "labs/03_lab.html#b.-find-your-own-data",
    "title": "Lab 3: Descriptive Statistics",
    "section": "B. Find your own data",
    "text": "B. Find your own data\nFor this component, pick a Tidy Tuesday dataset and complete the following activity.\n\nProvide a brief description of your dataset. Identify at least two questions you could try to answer using this dataset.\n\n\n\nOpen your dataset in R and compute one or more descriptive statistics that shed light on your questions. Discuss your findings.\n\n\n\nAre there any limitations of your analysis? Could additional data or more complicated methods improve your analysis? Discuss."
  },
  {
    "objectID": "labs/09_lab.html",
    "href": "labs/09_lab.html",
    "title": "Lab 9",
    "section": "",
    "text": "Remember, you must submit both your .Rmd and the compiled .html in order to receive full credit! In addition, to receive full credit, your code output and plots must be correctly formatted."
  },
  {
    "objectID": "labs/09_lab.html#a.-bootstrapping-the-sampling-distribution-of-the-median",
    "href": "labs/09_lab.html#a.-bootstrapping-the-sampling-distribution-of-the-median",
    "title": "Lab 9",
    "section": "A. Bootstrapping the sampling distribution of the median",
    "text": "A. Bootstrapping the sampling distribution of the median\n\nUsing the penguins dataset in the palmerpenguins package, construct a confidence interval for the mean body_mass_g for female Adelie penguins based on using a normal distribution based on the central limit theorem. You should compute the confidence interval without using confint().\nConstruct a bootstrap confidence interval for the mean body_mass_g for female Adelie penguins using 10000 resamples.\nConstruct a bootstrap confidence interval for the median body_mass_g for female Adelie penguins using 10000 resamples."
  },
  {
    "objectID": "labs/09_lab.html#b.-simulations",
    "href": "labs/09_lab.html#b.-simulations",
    "title": "Lab 9",
    "section": "B. Simulations",
    "text": "B. Simulations\n\nSuppose that \\(Y\\sim \\mathrm{Poisson}(X)\\) where \\(X\\sim \\mathrm{Exponential}(1)\\). Use simulation to estimate \\(E(Y)\\) and \\(\\mathrm{Var}(Y)\\).\nFor this question, you will write a simulation to test the frequentist coverage of a 95% confidence interval for a proportion based on the normal approximation.\n\nFirst, write a function that takes two inputs: n and p. Your function should randomly generate some \\(X\\sim \\mathrm{Binomial}(n, p)\\), compute \\(\\widehat{p}= X/n\\), and then compute the corresponding normal distribution-based confidence interval for \\(p\\) based on your sample \\(\\widehat{p}\\). Your function should return TRUE if \\(p\\) is in the confidence interval. You may use the following formula for the confidence interval:\n\n\\[\\widehat{p}\\pm z_{.975}\\sqrt{\\frac{\\widehat{p}(1-\\widehat{p})}{n}}\\]\n\nNext, write a second function that takes three inputs: n, p, and n_runs, representing the number of times to run your simulation. This function should use your function from (a) to simulate n_runs binomial random variables and return the proportion of the n_runs for which \\(p\\) is contained in the confidence interval.\nTest your function from (b) with n = 20, p = .5, and n_runs = 1000.\nUse your simulation code to investigate the following questions: For what values of n and p is the frequentist coverage close to the expected 95% value? For what values of n and p is the frequentist coverage very different to the expected 95% value?"
  },
  {
    "objectID": "labs/09_lab.html#c.-hypothesis-testing",
    "href": "labs/09_lab.html#c.-hypothesis-testing",
    "title": "Lab 9",
    "section": "C. Hypothesis Testing",
    "text": "C. Hypothesis Testing\nUse the following code to obtain the Hawaiian Airlines and Alaska Airlines flights from the nycflights13 package.\n\nlibrary(tidyverse)\nlibrary(nycflights13)\ndata(\"flights\")\nflights_sample &lt;- flights |&gt; \n  filter(carrier %in% c(\"HA\", \"AS\"))\n\n\nCompute a 95% confidence interval for the mean arr_delay for Alaska Airlines flights. Interpret your results.\nCompute a 95% confidence interval for the mean arr_delay for Hawaiian Airlines flights. Interpret your results.\nCompute a 95% confidence interval for the proportion of flights for which arr_delay &gt; 0 for Hawaiian Airlines flights. Interpret your results.\nConsider the null hypothesis that the mean arr_delay for Alaska is equal to the mean arr_delay for Hawaiian and the alternative hypothesis that the mean arr_delay values are different for the two airlines. Perform an appropriate hypothesis test and interpret your results."
  },
  {
    "objectID": "labs/09_lab.html#d.-linear-regression",
    "href": "labs/09_lab.html#d.-linear-regression",
    "title": "Lab 9",
    "section": "D. Linear Regression",
    "text": "D. Linear Regression\nResearchers at the University of Texas in Austin, Texas tried to figure out what causes differences in instructor teaching evaluation scores. Use the following code to load data on 463 courses. A full description of the data can be found here.\n\nevals &lt;- readr::read_csv(\"https://www.openintro.org/book/statdata/evals.csv\")\n\n\nCarry out a linear regression with score as the response variable and age as the single explanatory variable. Interpret your results.\nExtend your regression model by adding an additional explanatory variable. What happens to your results? Are the new \\(p\\)-values appropriate to use?"
  },
  {
    "objectID": "labs/01_lab.html",
    "href": "labs/01_lab.html",
    "title": "Lab 1: R and RStudio",
    "section": "",
    "text": "In this introductory lab, you will familiarize yourself with the R console and R Studio layout. Before you begin, you should install both R and RStudio using the instructions in the lecture slides. Follow the instructions below and submit a pdf document with your answers to the following questions on Canvas."
  },
  {
    "objectID": "labs/01_lab.html#part-a.-introduction-to-r",
    "href": "labs/01_lab.html#part-a.-introduction-to-r",
    "title": "Lab 1: R and RStudio",
    "section": "Part A. Introduction to R",
    "text": "Part A. Introduction to R\nOpen R (not RStudio). You should see a window that looks something like this (your version number may differ slightly):\n\n\n\nR programming software interface on macOS displaying version and licensing details in the console.\n\n\nAt the bottom of this window, you should see a &gt; symbol. This is called a prompt and indicates that R is waiting for instructions (in the form of code). Type 100 + 100 and then press return or enter. R should produce the following output: [1] 200. For now, ignore the [1]. This is R’s way of letting us know that the answer is a single value: 200.\n\nCompute \\(2^{1023}\\) by typing the line: 2 ^ 1023. What is the resulting value? Do you trust R’s answer?\nCompute \\(2^{1024}\\) by typing the line: 2 ^ 1024. What is the resulting value? Do you trust R’s answer?\n\nWe can save values as objects by giving them names. Try this out by typing x &lt;- 10 and then pressing return/enter.\n\nWhat does the command print(x) produce? Try to predict what the answer will be before you run the code.\nWhat does the command x + 10 produce? Try to predict what the answer will be before you run the code.\nRun the following two lines of code, one after the other. What is the result? Try to predict what the answer will be before you run the code.\n\n\nx &lt;- x + 1\nx * x\n\n\nRun the following lines of code, one after the other. What is the result? In your own words, explain what this code is doing.\n\n\nsides &lt;- c(\"H\", \"T\")\nflip1 &lt;- sample(sides, 1, replace = T)\nprint(flip1)\n\n\nRun the following lines of code, one after the other. What is the result? In your own words, explain what this code is doing.\n\n\nsides &lt;- c(\"H\", \"T\")\nflip10 &lt;- sample(sides, 10, replace = T)\nprint(flip10)"
  },
  {
    "objectID": "labs/01_lab.html#part-b.-introduction-to-rstudio",
    "href": "labs/01_lab.html#part-b.-introduction-to-rstudio",
    "title": "Lab 1: R and RStudio",
    "section": "Part B. Introduction to RStudio",
    "text": "Part B. Introduction to RStudio\nNow, open RStudio. It should look some thing like this image, from the official RStudio Guide:\n\n\n\nRStudio IDE with panels Source, Environments, Console, and Output showing a ggplot2 script and resulting scatter plot of engine displacement vs. highway mpg.\n\n\nRStudio is like Microsoft Word/Google Docs for writing R code–it has useful tools (analogous to spell check) for programmers. In the lower left corner is your Console. This should look like the R window you were working in for Part A. The Console is meant for brief interactive R commands. The top right corner should be your Environment pane, which displays R objects that you have created. Right now your environment should be empty.\n\nIn the Console, type the command x &lt;- 10. What do you see in your environment pane?\nThe bottom right pane is the Output pane, which will often be used to display results/visualizations of your R code. There are many tabs here, but click on the Files tab. What do you see? In your own words, explain what you think the Files tab shows.\nBefore this question, run the following line in the Console: install.packages(\"ggplot2\"). This will install some additional R functions for visualization. The top left pane is the Source pane. When you want to write more than one line of code at a time, it’s a good idea to organize your code in a single file. At the top of the RStudio window, click File -&gt; New File -&gt; R Script to open an untitled .R file. Copy and paste the following code into your R file. Then highlight the code and click Run (which will be in the top left corner of the Source pane). What do you see?\n\n\nlibrary(ggplot2)\nmpg_plot &lt;- ggplot(mpg, aes(x = displ, y = hwy)) + \n  geom_point(aes(color = class))\nmpg_plot\n\nWhen you are finished, remember to write up your solutions, save them in a pdf file, and submit to Canvas."
  },
  {
    "objectID": "labs/04_lab.html",
    "href": "labs/04_lab.html",
    "title": "Lab 4: Data Visualization",
    "section": "",
    "text": "Remember, follow the instructions below and use R Markdown to create an html document with your code and answers to the following questions. You may find a template file by clicking “Code” in the top right corner of this page.\n# LOAD ANY RELEVANT PACKAGES HERE"
  },
  {
    "objectID": "labs/04_lab.html#a.-basic-visualizations",
    "href": "labs/04_lab.html#a.-basic-visualizations",
    "title": "Lab 4: Data Visualization",
    "section": "A. Basic visualizations",
    "text": "A. Basic visualizations\nFor this portion, we’ll be using the palmerpenguins data. Use the following code to load the data.\n\nlibrary(palmerpenguins)\ndata(penguins)\n\n\nCreate and interpret a histogram of bill_length_mm using base R code. Be sure to use meaningful axis labels and titles.\nCreate and interpret a histogram of bill_length_mm using ggplot2. Be sure to use meaningful axis labels and titles.\nCreate and interpret a scatterplot of bill_length_mm versus bill_depth_mm using base R code. Be sure to use meaningful axis labels and titles.\nCreate and interpret a scatterplot of bill_length_mm versus bill_depth_mm using ggplot2. Be sure to use meaningful axis labels and titles.\nUpdate your ggplot2 scatterplot of bill_length_mm versus bill_depth_mm using ggplot2 so that the color of a point represents the corresponding penguin’s species."
  },
  {
    "objectID": "labs/04_lab.html#b.-analyzing-trends-in-san-jose-rental-prices",
    "href": "labs/04_lab.html#b.-analyzing-trends-in-san-jose-rental-prices",
    "title": "Lab 4: Data Visualization",
    "section": "B. Analyzing trends in San Jose rental prices",
    "text": "B. Analyzing trends in San Jose rental prices\nFor this component, you will be exploring and visualizing data on Craigslist apartment rental postings in the Bay Area. The data are available here from Tidy Tuesday, as prepared by Dr. Kate Pennington. Note that you can use links within read_csv() to read online .csv files. I recommend saving a version of the unprocessed .csv on your machine in a data subfolder within your project folder so you will be able to work offline.\n\nHow many 1 bedroom listings from Santa Clara county are in this dataset?\nWhat is the median price for a 1 bedroom listing in Santa Clara county in 2018?\nWhich county has the highest median price for a 1 bedroom listing in 2018?\nCreate two histograms for the prices of 1 bedroom listings in Santa Clara county in 2005 and 2018. Compare and discuss.\nCreate and interpret a line plot with year on the x-axis and median price for a 1 bedroom apartment for Santa Clara county on the y-axis from 2000 to 2018.\nCreate and interpret a single plot with year on the x-axis and median price for a 1 bedroom apartment on the y-axis, using a separate line for each city in Santa Clara county, for the years 2000 to 2018."
  },
  {
    "objectID": "labs/04_lab.html#c.-open-ended-data-visualization",
    "href": "labs/04_lab.html#c.-open-ended-data-visualization",
    "title": "Lab 4: Data Visualization",
    "section": "C. Open ended data visualization",
    "text": "C. Open ended data visualization\nFor this part, choose a dataset that interests you and identify a set of questions that you would like to explore via calculating relevant summary statistics or data visualizations. In particular, you should create three summary tables or visualizations that satisfy the following requirements.\n\nInstructions\n\nIdentify three research questions of interest that you want to study using this dataset.\nFor each of your three research questions, generate a summary statistic, table, or data visualization using your dataset. Discuss and interpret your findings.\nEach table or visualization should include a caption that fully explains how to understand it (i.e. explain all the components, legends, etc.). A good guideline is that someone who has not read your report should be able to read the caption and fully understand what that table or visualization is showing.\nEach table or visualization must be accompanied by at least one paragraph of text. This text should include an interpretation of your table or visualization as well as what is interesting about it. A strong table or visualization will be accompanied by text explaining what patterns or insights it helps us glean from the data."
  },
  {
    "objectID": "labs/07_lab.html",
    "href": "labs/07_lab.html",
    "title": "Lab 7",
    "section": "",
    "text": "Remember, follow the instructions below and use R Markdown to create an html document with your code and answers to the following questions. You may find a template file by clicking “Code” in the top right corner of this page."
  },
  {
    "objectID": "labs/07_lab.html#a.-random-sampling-in-r",
    "href": "labs/07_lab.html#a.-random-sampling-in-r",
    "title": "Lab 7",
    "section": "A. Random sampling in R",
    "text": "A. Random sampling in R\n\nIn your own words, explain the difference between dnorm(), pnorm(), qnorm(), and rnorm().\nSuppose we simulate x &lt;- runif(1). What is the distribution of qnorm(x)?\nSuppose we simulate x &lt;- rnorm(1). What is the distribution of pnorm(x)?"
  },
  {
    "objectID": "labs/07_lab.html#b.-simulating-a-dice-rolling-experiment",
    "href": "labs/07_lab.html#b.-simulating-a-dice-rolling-experiment",
    "title": "Lab 7",
    "section": "B. Simulating a dice-rolling experiment",
    "text": "B. Simulating a dice-rolling experiment\n\nSuppose we roll a fair die three times. Let \\(X\\) be the sum of the two lowest rolls. Use simulation to estimate \\(E(X)\\)."
  },
  {
    "objectID": "labs/07_lab.html#c.-simulating-squid-game",
    "href": "labs/07_lab.html#c.-simulating-squid-game",
    "title": "Lab 7",
    "section": "C. Simulating Squid Game",
    "text": "C. Simulating Squid Game\nThe TV show Squid Game features a game in which participants must cross a bridge of eighteen pairs of glass stepping stones. To cross the bridge, you must jump from one pair of stones to the next. However, within each pair, one of the glass stones is strong enough to hold a person’s weight, while one of the stones will break if someone jumps onto it and the player will fall to their death. The participants do not know which stones are safe and which stones will break.\n\n\n\n\n\n\n\n\n\nIn the game, participants will take turns trying to cross from the start to the finish. If someone steps on a stone and it breaks, it is not replaced. This means the first person to go has a disadvantage. In order to make it to the end, the first person has to guess successfully which stone in pair 1 is safe, and then guess which stone in pair 2 is safe, and so on. If the first person makes it to the end, the second person can just follow the same path. However, if, for example, the first person falls at pair 5, then the second person can follow the safe path to pair 5 and then try to guess which stone in pair 6 will be safe. The later players will have even more information.\nUse simulation to estimate the following probabilities.\n\nWhat is the probability that the first participant reaches the end without falling?\nIf \\(n=18\\) people participate in the game, how many are expected to finish?\nIf \\(n=10\\) people participate in the game, how many are expected to finish?"
  },
  {
    "objectID": "projects/midterm_project.html",
    "href": "projects/midterm_project.html",
    "title": "Midterm Project",
    "section": "",
    "text": "For this project, you will be exploring and visualizing data on Craigslist apartment rental postings in the Bay Area. Your goal is to observe and visualize interesting trends and patterns in the data, and to tell a cohesive and compelling story about the insights you gain. In the first part of the assignment, you will practice generating descriptive statistics and data visualizations to explore changing rental prices in Santa Clara county. In the second part of this assignment you will identify your own questions of interest and investigate them using your choice of data visualizations. Exceptional projects will include creative and unique insights into the data.\nYour projects will be evaluated on the quality of your visualizations and exploratory analyses. This includes, but is not limited to, the quality of your writing, the informativeness and clarity of your visualizations, and your creativity.\nThe target audience of your report is an educated reader who is uninformed about the details of the data, but is interested in learning more about recent trends in Bay Area housing prices.\n\n\n\nIf you use this .Rmd as your starting template, please remove all information about requirements and grading. Your final submission should only include the questions and answers for parts A and B.\nFinal submissions must include .Rmd and .html files.\nThe data are available here from Tidy Tuesday, as prepared by Dr. Kate Pennington. Note that you can use links within read_csv() to read online .csv files. I strongly recommend saving a version of the unprocessed .csv on your machine in a data subfolder within your project folder so you will be able to work offline.\n\n\n\n\n\nPart A (35 points): graded on the correctness of your computations, appropriate use of R functions, and the depth/clarity of your explanations\nPart B (45 points): graded based on whether your visualizations meet the standards outlined below under Part B.\nCode style/formatting (20 points): to receive full credit, all code, text, and output in your final report should be correctly formatted. Code should be appropriately commented and styled (ex. appropriate variable names)."
  },
  {
    "objectID": "projects/midterm_project.html#instructions",
    "href": "projects/midterm_project.html#instructions",
    "title": "Midterm Project",
    "section": "",
    "text": "For this project, you will be exploring and visualizing data on Craigslist apartment rental postings in the Bay Area. Your goal is to observe and visualize interesting trends and patterns in the data, and to tell a cohesive and compelling story about the insights you gain. In the first part of the assignment, you will practice generating descriptive statistics and data visualizations to explore changing rental prices in Santa Clara county. In the second part of this assignment you will identify your own questions of interest and investigate them using your choice of data visualizations. Exceptional projects will include creative and unique insights into the data.\nYour projects will be evaluated on the quality of your visualizations and exploratory analyses. This includes, but is not limited to, the quality of your writing, the informativeness and clarity of your visualizations, and your creativity.\nThe target audience of your report is an educated reader who is uninformed about the details of the data, but is interested in learning more about recent trends in Bay Area housing prices.\n\n\n\nIf you use this .Rmd as your starting template, please remove all information about requirements and grading. Your final submission should only include the questions and answers for parts A and B.\nFinal submissions must include .Rmd and .html files.\nThe data are available here from Tidy Tuesday, as prepared by Dr. Kate Pennington. Note that you can use links within read_csv() to read online .csv files. I strongly recommend saving a version of the unprocessed .csv on your machine in a data subfolder within your project folder so you will be able to work offline.\n\n\n\n\n\nPart A (35 points): graded on the correctness of your computations, appropriate use of R functions, and the depth/clarity of your explanations\nPart B (45 points): graded based on whether your visualizations meet the standards outlined below under Part B.\nCode style/formatting (20 points): to receive full credit, all code, text, and output in your final report should be correctly formatted. Code should be appropriately commented and styled (ex. appropriate variable names)."
  },
  {
    "objectID": "projects/midterm_project.html#a.-analyzing-trends-in-san-jose-rental-prices",
    "href": "projects/midterm_project.html#a.-analyzing-trends-in-san-jose-rental-prices",
    "title": "Midterm Project",
    "section": "A. Analyzing trends in San Jose rental prices",
    "text": "A. Analyzing trends in San Jose rental prices\n\nHow many 1 bedroom listings from Santa Clara county are in this dataset?\nWhat is the median price for a 1 bedroom listing in Santa Clara county in 2018?\nWhich county has the highest median price for a 1 bedroom listing in 2018?\nCreate two histograms for the prices of 1 bedroom listings in Santa Clara county in 2005 and 2018. Compare and discuss.\nCreate and interpret a line plot with year on the x-axis and median price for a 1 bedroom apartment for Santa Clara county on the y-axis from 2000 to 2018.\nCreate and interpret a single plot with year on the x-axis and median price for a 1 bedroom apartment on the y-axis, using a separate line for each city in Santa Clara county, for the years 2000 to 2018."
  },
  {
    "objectID": "projects/midterm_project.html#b.-open-ended-data-visualization",
    "href": "projects/midterm_project.html#b.-open-ended-data-visualization",
    "title": "Midterm Project",
    "section": "B. Open ended data visualization",
    "text": "B. Open ended data visualization\n\nRequirements\n\nIdentify three research questions of interest that you want to study using this dataset.\nFor each of your three research questions, generate a data visualization using your dataset. Discuss and interpret your findings.\nYour project should include at least two different types of visualizations (e.g. scatterplots, box plots, bar plots, histograms, line plots, etc.).\nAt least one of your plots should display variation over time or location (or both) in some way.\nEach visualization should include a caption that fully explains how to understand your visualization (i.e. explain all the components, legends, etc.). A good guideline is that someone who has not read your report should be able to look at just a visualization and its caption and fully understand what that visualization is showing.\nEach visualization must be accompanied by at least one paragraph of text. This text should include an interpretation of your visualization as well as what is interesting about your visualization. A strong visualization will be accompanied by text explaining what patterns or insights it helps us glean from the data.\n\nKeep in mind: there are no right answers for this project! These are real data, and I’m hoping for creative and interesting analyses that tell a compelling story about the data rather than cookie cutter reports. Have some fun with it, and good luck!"
  },
  {
    "objectID": "projects/final_exam.html",
    "href": "projects/final_exam.html",
    "title": "Final Exam Study Guide",
    "section": "",
    "text": "How to use and interpret the following structures:\n\nfunctions\nConditional evaluation: if, else, else if, ifelse\nfor and while loops\n\nThe following concepts: * Classes and object-oriented programming * Environment and scope * Vectorization * Recursion * Functional programming: lapply, sapply, and mapply\nHow to interpret code and results used for:\n\ngenerating visualizations via ggplot2\nperforming statistical analyses: lm(), t.test()\ngenerating random variables\nrunning simulations"
  },
  {
    "objectID": "projects/final_exam.html#instructions",
    "href": "projects/final_exam.html#instructions",
    "title": "Final Exam Study Guide",
    "section": "",
    "text": "How to use and interpret the following structures:\n\nfunctions\nConditional evaluation: if, else, else if, ifelse\nfor and while loops\n\nThe following concepts: * Classes and object-oriented programming * Environment and scope * Vectorization * Recursion * Functional programming: lapply, sapply, and mapply\nHow to interpret code and results used for:\n\ngenerating visualizations via ggplot2\nperforming statistical analyses: lm(), t.test()\ngenerating random variables\nrunning simulations"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "MATH167R: Statistical Programming with R",
    "section": "",
    "text": "Week\nDate\nTopic\nSlides\nCheck-in\nLab\n\n\n\n\n1\nW 8/21\nCourse Overview and Introduction to R\nSlides 01\n\nLab 01\n\n\n2\nM 8/26\nR fundamentals\nSlides 02\nCheck-in 01\n\n\n\n\nW 8/28\nR fundamentals\nSlides 03\n\nLab 02\n\n\n3\nM 9/2\nLabor Day - No class\n\n\n\n\n\n\nW 9/4\nR fundamentals\nSlides 04\n\n\n\n\n4\nM 9/9\nExploring data with R\nSlides 05\n\nLab 03\n\n\n\nW 9/11\nExploring data with R\nSlides 06\nCheck-in 02\n\n\n\n5\nM 9/16\nData visualization\nSlides 07\n\n\n\n\n\nW 9/18\nData visualization\nSlides 08\n\nLab 04\n\n\n6\nM 9/23\nData manipulation and management\nSlides 09\nCheck-in 03\n\n\n\n\nW 9/25\nData manipulation and management\nSlides 10\n\n\n\n\n7\nM 9/30\nData manipulation and management\nSlides 11\n\n\n\n\n\nW 10/2\nProgramming basics\nSlides 12\nCheck-in 04\nLab 05\n\n\n8\nM 10/7\nProgramming basics\nSlides 13\nCheck-in 05\n\n\n\n\nW 10/9\nProgramming basics\nSlides 14\n\n\n\n\n9\nM 10/14\nProgramming basics\nSlides 15\n\nLab 06\n\n\n\nW 10/16\nSimulations\nSlides 16\n\n\n\n\n10\nM 10/21\nSimulations\nSlides 17\n\n\n\n\n\nW 10/23\nSimulations\nSlides 18\nCheck-in 06\n\n\n\n11\nM 10/28\nStatistical inference\nSlides 19\n\n\n\n\n\nW 10/30\nStatistical inference\n\n\nLab 07\n\n\n12\nM 11/4\nSimulation-based inference\nSlides 20\n\n\n\n\n\nW 11/6\nSimulation-based inference\nSlides 21\n\n\n\n\n13\nM 11/11\nVeterans’ Day - No class\n\n\n\n\n\n\nW 11/13\nHypothesis Testing\nSlides 22\nCheck-in 07\nLab 08\n\n\n14\nM 11/18\nHypothesis Testing\nSlides 22\n\n\n\n\n\nW 11/20\nRegression\nSlides 22\n\n\n\n\n15\nM 11/25\nRegression\n\n\n\n\n\n\nW 11/27\nThanksgiving - No class\n\n\n\n\n\n16\nM 12/2\nPrediction\n\n\n\n\n\n\nW 12/4\nPrediction\n\n\n\n\n\n17\nM 12/9\nReview\n\n\n\n\n\n18\nM 12/16\nFinal exam",
    "crumbs": [
      "Course information",
      "Schedule"
    ]
  },
  {
    "objectID": "slides/21_confidence-intervals.html#overview-of-today",
    "href": "slides/21_confidence-intervals.html#overview-of-today",
    "title": "MATH167R: Statistical inference",
    "section": "Overview of today",
    "text": "Overview of today\n\nReview of law of large numbers\nReview of central limit theorem\nReview of confidence intervals\nComputing confidence intervals in R\nSimulations with confidence intervals"
  },
  {
    "objectID": "slides/21_confidence-intervals.html#law-of-large-numbers",
    "href": "slides/21_confidence-intervals.html#law-of-large-numbers",
    "title": "MATH167R: Statistical inference",
    "section": "Law of large numbers",
    "text": "Law of large numbers\nWe have been using simulations to estimate \\(E(Y)\\) where \\(Y\\) is some random variable. Why does this work?\nReview: The law of large numbers, informally speaking, states that if we perform the same experiment many times, the average of the observed results will be close to the expected value (and will get closer as we increase the number of trials).\n\nThe LLN can be formalized as follows: if \\(X_1,\\ldots, X_n\\) are iid random variables with expected value \\(\\mu\\), then the sample mean \\(\\overline{X}_n\\) will converge to \\(\\mu\\) (in probability or almost surely)."
  },
  {
    "objectID": "slides/21_confidence-intervals.html#law-of-large-numbers-simulation",
    "href": "slides/21_confidence-intervals.html#law-of-large-numbers-simulation",
    "title": "MATH167R: Statistical inference",
    "section": "Law of large numbers simulation",
    "text": "Law of large numbers simulation\n\nset.seed(1028)\ndice_rolls &lt;- sample(1:6, 1000, replace = TRUE)\nsample_avg &lt;- sapply(1:length(dice_rolls), function(i) mean(dice_rolls[1:i]))\nplot(1:1000, sample_avg, type = \"l\", col = \"red\",\n     xlab = \"Rolls\", ylab = \"Average\")\nabline(h = 3.5, col = \"blue\")"
  },
  {
    "objectID": "slides/21_confidence-intervals.html#central-limit-theorem",
    "href": "slides/21_confidence-intervals.html#central-limit-theorem",
    "title": "MATH167R: Statistical inference",
    "section": "Central limit theorem",
    "text": "Central limit theorem\nWhat does the central limit theorem say?\n\nLet \\(X_1,\\ldots, X_n\\) be a random sample from a distribution with mean \\(\\mu\\) and variance \\(\\sigma^2\\). Then if \\(n\\) is sufficiently large, \\(\\overline{X}_n\\) has approximately a normal distribution with\n\n\\(E(\\overline{X}_n)=\\mu\\)\n\\(\\mathrm{Var}(\\overline{X}_n)=\\sigma^2/n\\).\n\nThe larger the value of \\(n\\), the better the approximation. (Devore p. 232)."
  },
  {
    "objectID": "slides/21_confidence-intervals.html#central-limit-theorem-1",
    "href": "slides/21_confidence-intervals.html#central-limit-theorem-1",
    "title": "MATH167R: Statistical inference",
    "section": "Central limit theorem",
    "text": "Central limit theorem\nSuppose \\(X_1,\\ldots, X_{10}\\sim N(2, 4)\\):\n\nlibrary(ggplot2)\nXbars &lt;- data.frame(Xbar = replicate(1000, mean(rnorm(10, mean = 2, sd = 2))))\nggplot(Xbars, aes(x = Xbar)) + \n  geom_histogram(aes(y = ..density..)) + \n  geom_function(fun = dnorm, args = list(mean = 2, sd = 2 / sqrt(10)), color = \"red\")"
  },
  {
    "objectID": "slides/21_confidence-intervals.html#central-limit-theorem-2",
    "href": "slides/21_confidence-intervals.html#central-limit-theorem-2",
    "title": "MATH167R: Statistical inference",
    "section": "Central limit theorem",
    "text": "Central limit theorem\nWhat if \\(n = 5\\)?\n\nn &lt;- 5\nXbars &lt;- data.frame(Xbar = replicate(1000, mean(rnorm(n, mean = 2, sd = 2))))\nggplot(Xbars, aes(x = Xbar)) + \n  geom_histogram(aes(y = ..density..)) + \n  geom_function(fun = dnorm, args = list(mean = 2, sd = 2 / sqrt(n)), color = \"red\")\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`."
  },
  {
    "objectID": "slides/21_confidence-intervals.html#central-limit-theorem-3",
    "href": "slides/21_confidence-intervals.html#central-limit-theorem-3",
    "title": "MATH167R: Statistical inference",
    "section": "Central limit theorem",
    "text": "Central limit theorem\nWhat if \\(n = 5\\), but \\(X_1,\\ldots, X_{5}\\sim \\mathrm{Exp}(1)\\):\n\nn &lt;- 5\nXbars &lt;- data.frame(Xbar = replicate(1000, mean(rexp(n, rate = 1))))\nggplot(Xbars, aes(x = Xbar)) + \n  geom_histogram(aes(y = ..density..)) + \n  geom_function(fun = dnorm, args = list(mean = 1, sd = 1 / sqrt(n)), color = \"red\")"
  },
  {
    "objectID": "slides/21_confidence-intervals.html#exercise",
    "href": "slides/21_confidence-intervals.html#exercise",
    "title": "MATH167R: Statistical inference",
    "section": "Exercise",
    "text": "Exercise\nHow can you break the central limit theorem?\nLet \\(X_1,\\ldots, X_n\\) be a random sample from a distribution with mean \\(\\mu\\) and variance \\(\\sigma^2\\). Then if \\(n\\) is sufficiently large, \\(\\overline{X}_n\\) has approximately a normal distribution with \\(E(\\overline{X}_n)=\\mu\\) and \\(\\mathrm{Var}(\\overline{X}_n)=\\sigma^2/n\\). The larger the value of \\(n\\), the better the approximation. (Devore p. 232).\n\nWhat assumptions can you break?"
  },
  {
    "objectID": "slides/21_confidence-intervals.html#confidence-intervals",
    "href": "slides/21_confidence-intervals.html#confidence-intervals",
    "title": "MATH167R: Statistical inference",
    "section": "Confidence intervals",
    "text": "Confidence intervals\nLast class, we talked about bootstrap confidence intervals, but today we will return to the classic statistical theory for constructing confidence intervals."
  },
  {
    "objectID": "slides/21_confidence-intervals.html#a-simple-example-normal-population",
    "href": "slides/21_confidence-intervals.html#a-simple-example-normal-population",
    "title": "MATH167R: Statistical inference",
    "section": "A simple example: Normal population",
    "text": "A simple example: Normal population\nA simple case is for constructing confidence intervals for a normally distributed population variable. If we assume\n\nThe population distribution is normal\nThe value of the population standard deviation \\(\\sigma\\) is known\n\nGiven samples \\(X_1,\\ldots, X_n\\), we can compute \\(\\overline{X}_n\\) and then\n\\[\\frac{\\overline{X}_n-\\mu}{\\sigma/\\sqrt{n}}\\sim N(0, 1)\\]"
  },
  {
    "objectID": "slides/21_confidence-intervals.html#a-simple-example-normal-population-1",
    "href": "slides/21_confidence-intervals.html#a-simple-example-normal-population-1",
    "title": "MATH167R: Statistical inference",
    "section": "A simple example: Normal population",
    "text": "A simple example: Normal population\nWe can thus compute a 95% confidence interval:\n\\[P\\left(-1.96&lt; \\frac{\\overline{X}_n-\\mu}{\\sigma/\\sqrt{n}}&lt;1.96\\right)=.95\\]\nAlgebraic manipulation yields\n\\[P\\left(\\overline{X}_n-1.96\\frac{\\sigma}{\\sqrt{n}}&lt;\\mu&lt;\\overline{X}_n+1.96\\frac{\\sigma}{\\sqrt{n}}\\right)=.95\\]\nThe final interval can be written as \\(\\overline{X}_n\\pm 1.96(\\sigma/\\sqrt{n})\\)."
  },
  {
    "objectID": "slides/21_confidence-intervals.html#a-simple-example-normal-population-2",
    "href": "slides/21_confidence-intervals.html#a-simple-example-normal-population-2",
    "title": "MATH167R: Statistical inference",
    "section": "A simple example: Normal population",
    "text": "A simple example: Normal population\nIn general, for a \\(100(1-\\alpha)\\%\\) confidence interval, we can use\n\\[P\\left(-z_{\\alpha/2}&lt; \\frac{\\overline{X}_n-\\mu}{\\sigma/\\sqrt{n}}&lt;z_{\\alpha/2}\\right)=1-\\alpha\\]\nwhere \\(z_{\\alpha/2}\\) is defined by \\(1 - P(Z\\leq z_{\\alpha/2})=\\alpha/2\\). This yields the interval\n\\[\\overline{X}_n\\pm z_{\\alpha/2}(\\sigma/\\sqrt{n})\\]"
  },
  {
    "objectID": "slides/21_confidence-intervals.html#interpretation",
    "href": "slides/21_confidence-intervals.html#interpretation",
    "title": "MATH167R: Statistical inference",
    "section": "Interpretation",
    "text": "Interpretation\nConsider the equation\n\\[P\\left(\\overline{X}_n-1.96\\frac{\\sigma}{\\sqrt{n}}&lt;\\mu&lt;\\overline{X}_n+1.96\\frac{\\sigma}{\\sqrt{n}}\\right)=.95\\]\nWhich elements of this equation are random?\n\nRemember, \\(\\overline{X}_n\\) and thus the interval itself are random. Prior to observing the data and computing \\(\\overline{X}_n\\), there is a .95 probability that the interval will include the true value of \\(\\mu\\).\n\n\nHowever, we cannot say anything about the probability that any particular confidence interval contains \\(\\mu\\)."
  },
  {
    "objectID": "slides/21_confidence-intervals.html#example-devore-7.1",
    "href": "slides/21_confidence-intervals.html#example-devore-7.1",
    "title": "MATH167R: Statistical inference",
    "section": "Example (Devore 7.1)",
    "text": "Example (Devore 7.1)\nA sample of \\(n=31\\) trained typists was selected, and the preferred keyboard height was determined for each typist. The resulting sample average preferred height was \\(x=80.0\\)cm.\nAssuming that the preferred height is normally distributed with \\(\\sigma = 2.0\\)cm, obtain a 95% confidence interval (interval of plausible values) for \\(\\mu\\), the true average preferred height.\n\n\\[\\overline{X}_n\\pm 1.96\\frac{2.0}{\\sqrt{31}}=80.0\\pm .7=(79.3, 80.7)\\]"
  },
  {
    "objectID": "slides/21_confidence-intervals.html#simulating-many-confidence-intervals",
    "href": "slides/21_confidence-intervals.html#simulating-many-confidence-intervals",
    "title": "MATH167R: Statistical inference",
    "section": "Simulating many confidence intervals",
    "text": "Simulating many confidence intervals\n\nn &lt;- 30 # sample size\nmu &lt;- 10 # unknown true mean\nsigma &lt;- 2 # known standard deviation\nXbars &lt;- replicate(100, mean(rnorm(n, mean = mu, sd = sigma)))\ncoverage_rate &lt;- mean(abs(Xbars - mu) &lt; 1.96 * sigma / sqrt(n))\ncoverage_rate\n\n[1] 0.92"
  },
  {
    "objectID": "slides/21_confidence-intervals.html#simulating-many-confidence-intervals-1",
    "href": "slides/21_confidence-intervals.html#simulating-many-confidence-intervals-1",
    "title": "MATH167R: Statistical inference",
    "section": "Simulating many confidence intervals",
    "text": "Simulating many confidence intervals\nCode to visualize all of our confidence intervals:\n\nlibrary(tidyverse)\nplot_dat &lt;- data.frame(id = 1:100,\n                       Xbar = Xbars) |&gt;\n  mutate(upper = Xbar + 1.96 * sigma / sqrt(n),\n         lower = Xbar - 1.96 * sigma / sqrt(n))\nggplot(plot_dat, \n       aes(x = id, y = Xbar, \n           color = abs(Xbars - mu) &lt; 1.96 * sigma / sqrt(n))) + \n  geom_errorbar(aes(ymin = lower, ymax = upper)) +\n  geom_abline(intercept = mu, slope = 0) + \n  theme(legend.position = \"none\")"
  },
  {
    "objectID": "slides/21_confidence-intervals.html#simulating-many-confidence-intervals-2",
    "href": "slides/21_confidence-intervals.html#simulating-many-confidence-intervals-2",
    "title": "MATH167R: Statistical inference",
    "section": "Simulating many confidence intervals",
    "text": "Simulating many confidence intervals"
  },
  {
    "objectID": "slides/21_confidence-intervals.html#large-sample-confidence-intervals",
    "href": "slides/21_confidence-intervals.html#large-sample-confidence-intervals",
    "title": "MATH167R: Statistical inference",
    "section": "Large-sample confidence intervals",
    "text": "Large-sample confidence intervals\nWhat if we do not know whether the population distribution is normal? Provided \\(n\\) is sufficiently large, the CLT implies that \\(\\overline{X}_n\\) is approximately normal regardless of the population distribution.\nWhat if we do not know \\(\\sigma?\\) Again, provided \\(n\\) is sufficiently large, we can replace \\(\\sigma\\) with the sample standard deviation \\(S\\).\nWe obtain the confidence interval formula:\n\\[\\overline{X}_n\\pm z_{\\alpha/2}(S/\\sqrt{n})\\]"
  },
  {
    "objectID": "slides/21_confidence-intervals.html#simulating-many-confidence-intervals-3",
    "href": "slides/21_confidence-intervals.html#simulating-many-confidence-intervals-3",
    "title": "MATH167R: Statistical inference",
    "section": "Simulating many confidence intervals",
    "text": "Simulating many confidence intervals\n\nn &lt;- 30 # sample size\nlambda &lt;- 10\nsample_stats_poisson &lt;- function() {\n  x &lt;- rpois(n, lambda)\n  return(c(mean(x), sd(x)))\n}\nstats &lt;- replicate(100, sample_stats_poisson())\nstats[, 1:5] # print out first five simulation results\n\n          [,1]      [,2]      [,3]     [,4]     [,5]\n[1,] 10.666667 10.733333 10.500000 9.633333 9.800000\n[2,]  2.940013  2.702915  2.933164 2.953471 3.252585\n\ncoverage_rate &lt;- mean(abs(stats[1,] - mu) &lt; 1.96 * stats[2,] / sqrt(n))\ncoverage_rate\n\n[1] 0.98"
  },
  {
    "objectID": "slides/21_confidence-intervals.html#when-n-is-small-but-sigma-unknown-t-intervals",
    "href": "slides/21_confidence-intervals.html#when-n-is-small-but-sigma-unknown-t-intervals",
    "title": "MATH167R: Statistical inference",
    "section": "When \\(n\\) is small but \\(\\sigma\\) unknown: \\(t\\)-intervals",
    "text": "When \\(n\\) is small but \\(\\sigma\\) unknown: \\(t\\)-intervals\nWhat about when \\(n\\) is small, but \\(\\sigma\\) is unknown? Assuming again that the population distribution is normal,\n\\[T=\\frac{\\overline{X}_n-\\mu}{S/\\sqrt{n}}\\]\nhas a \\(t\\) distribution with \\(n-1\\) degrees of freedom. We can thus use the confidence interval\n\\[\\overline{X}_n\\pm t_{\\alpha/2, n-1}(S/\\sqrt{n})\\] where \\(P(T\\leq t_{p, n-1})=p\\) when \\(T\\) follows a \\(t\\)-distribution with \\(n-1\\) degrees of freedom."
  },
  {
    "objectID": "slides/21_confidence-intervals.html#assessing-normality-of-the-population-distribution",
    "href": "slides/21_confidence-intervals.html#assessing-normality-of-the-population-distribution",
    "title": "MATH167R: Statistical inference",
    "section": "Assessing normality of the population distribution",
    "text": "Assessing normality of the population distribution\nHow can we tell if the population distribution is normal? One simple check is to use a quantile-quantile (QQ) plot.\n\nUsing your data, estimate the quantiles using the empirical distribution.\nCompare the sample quantiles with the quantiles of a known distribution (often normal).\nIf the sample and theoretical quantiles appear to fall on a line, then the empirical distribution function will be similar to (a scaled version of) the theoretical distribution function."
  },
  {
    "objectID": "slides/21_confidence-intervals.html#example-precipitation",
    "href": "slides/21_confidence-intervals.html#example-precipitation",
    "title": "MATH167R: Statistical inference",
    "section": "Example: Precipitation",
    "text": "Example: Precipitation\nThe precip dataset includes annual precipitation in inches for a number of US cities. Is this normally distributed?\n\nhead(precip)\n\n     Mobile      Juneau     Phoenix Little Rock Los Angeles  Sacramento \n       67.0        54.7         7.0        48.5        14.0        17.2 \n\nhist(precip)"
  },
  {
    "objectID": "slides/21_confidence-intervals.html#example-precipitation-1",
    "href": "slides/21_confidence-intervals.html#example-precipitation-1",
    "title": "MATH167R: Statistical inference",
    "section": "Example: Precipitation",
    "text": "Example: Precipitation\nThe qqnorm() function can be used to compare the empirical/sample quantiles and the theoretical quantiles of a standard normal. The qqline() function adds a line that passes through the first and third quartiles.\n\nqqnorm(precip, ylab = \"Precipitation [in/yr] for 70 US cities\", pch = 16)\nqqline(precip)"
  },
  {
    "objectID": "slides/21_confidence-intervals.html#example-penguins",
    "href": "slides/21_confidence-intervals.html#example-penguins",
    "title": "MATH167R: Statistical inference",
    "section": "Example: Penguins",
    "text": "Example: Penguins\n\nlibrary(palmerpenguins)\ndata(penguins)\nqqnorm(penguins$bill_length_mm, ylab = \"Penguin bill lengths\", pch = 16)\nqqline(penguins$bill_length_mm)"
  },
  {
    "objectID": "slides/21_confidence-intervals.html#example-penguins-1",
    "href": "slides/21_confidence-intervals.html#example-penguins-1",
    "title": "MATH167R: Statistical inference",
    "section": "Example: Penguins",
    "text": "Example: Penguins\n\nhist(penguins$bill_length_mm)"
  },
  {
    "objectID": "slides/21_confidence-intervals.html#example-penguins-2",
    "href": "slides/21_confidence-intervals.html#example-penguins-2",
    "title": "MATH167R: Statistical inference",
    "section": "Example: Penguins",
    "text": "Example: Penguins\n\nadelie &lt;- penguins |&gt; dplyr::filter(species == \"Adelie\")\nqqnorm(adelie$bill_length_mm, ylab = \"Penguin bill lengths\", pch = 16)\nqqline(adelie$bill_length_mm)"
  },
  {
    "objectID": "slides/21_confidence-intervals.html#example-penguins-3",
    "href": "slides/21_confidence-intervals.html#example-penguins-3",
    "title": "MATH167R: Statistical inference",
    "section": "Example: Penguins",
    "text": "Example: Penguins\n\nhist(adelie$bill_length_mm)"
  },
  {
    "objectID": "slides/21_confidence-intervals.html#using-r-to-compute-confidence-intervals",
    "href": "slides/21_confidence-intervals.html#using-r-to-compute-confidence-intervals",
    "title": "MATH167R: Statistical inference",
    "section": "Using R to compute confidence intervals",
    "text": "Using R to compute confidence intervals\nGenerally, if you are only doing a simple normal-based or \\(t\\)-based confidence interval for a mean, I recommend computing \\(\\overline{X}_n\\) and \\(S\\) using mean() and sd(), and then computing the confidence interval by hand.\nYou can also use the t.test() function to compute the appropriate \\(t\\)-interval for a population mean:\n\nprecip_t &lt;- t.test(precip, conf.level = 0.95)\nprecip_ci &lt;- precip_t$conf.int # get confidence interval\nprecip_ci\n\n[1] 31.61748 38.15395\nattr(,\"conf.level\")\n[1] 0.95"
  },
  {
    "objectID": "slides/21_confidence-intervals.html#comparing-t-based-and-bootstrap-confidence-intervals",
    "href": "slides/21_confidence-intervals.html#comparing-t-based-and-bootstrap-confidence-intervals",
    "title": "MATH167R: Statistical inference",
    "section": "Comparing \\(t\\)-based and bootstrap confidence intervals",
    "text": "Comparing \\(t\\)-based and bootstrap confidence intervals\n\nbootstrap_Xbar &lt;- \n  replicate(10000, mean(sample(precip, size = length(precip), replace = TRUE)))\nquantile(bootstrap_Xbar, probs = c(.025, .975))\n\n    2.5%    97.5% \n31.78282 38.07286 \n\nprecip_ci\n\n[1] 31.61748 38.15395\nattr(,\"conf.level\")\n[1] 0.95\n\n\n\nIn this case, since \\(n\\) is large, the non-normality is not a big deal."
  },
  {
    "objectID": "slides/21_confidence-intervals.html#confidence-intervals-for-proportions",
    "href": "slides/21_confidence-intervals.html#confidence-intervals-for-proportions",
    "title": "MATH167R: Statistical inference",
    "section": "Confidence intervals for proportions",
    "text": "Confidence intervals for proportions\nFor large \\(n\\), the following confidence interval is often used for a population proportion:\n\\[\\widehat{p}\\pm z_{\\alpha/2}\\sqrt{\\frac{\\widehat{p}(1-\\widehat{p})}{n}}\\]\nNote that this formula only gives an approximate CI because of the use of \\(\\widehat{p}\\) when estimating the standard error of \\(\\widehat{p}\\)."
  },
  {
    "objectID": "slides/21_confidence-intervals.html#other-confidence-intervals",
    "href": "slides/21_confidence-intervals.html#other-confidence-intervals",
    "title": "MATH167R: Statistical inference",
    "section": "Other confidence intervals",
    "text": "Other confidence intervals\nR has implementations for confidence intervals for many types of population parameters, including for non-normally distributed populations. Always carefully read the documentation before using these functions."
  },
  {
    "objectID": "slides/14_environment-scope.html#overview-of-today",
    "href": "slides/14_environment-scope.html#overview-of-today",
    "title": "MATH167R: Environment and Scope",
    "section": "Overview of today",
    "text": "Overview of today\n\nEnvironments and scope (based on Advanced R by Hadley Wickham)\nLab time"
  },
  {
    "objectID": "slides/14_environment-scope.html#function-composition",
    "href": "slides/14_environment-scope.html#function-composition",
    "title": "MATH167R: Environment and Scope",
    "section": "Function composition",
    "text": "Function composition\nIn mathematics, function composition is an operation that combines functions:\nFor example, if \\(f(x) = x^2\\) and \\(g(x)=x+2\\), what is \\(f(g(x))\\)?\nThroughout this class we have been composing functions:\n\nx &lt;- 1:10\nprint(sum(x))\n\n[1] 55\n\n\n\nWe can also compose functions using pipes:\n\nx |&gt; sum() |&gt; print()\n\n[1] 55"
  },
  {
    "objectID": "slides/14_environment-scope.html#function-structure-in-r",
    "href": "slides/14_environment-scope.html#function-structure-in-r",
    "title": "MATH167R: Environment and Scope",
    "section": "Function structure in R",
    "text": "Function structure in R\nMost functions in R have three parts:\n\nformals(): the list of formal arguments\nbody(): the code inside the function\nenvironment(): the data structure that determines how objects and values are found when evaluating the function"
  },
  {
    "objectID": "slides/14_environment-scope.html#environments-and-scoping",
    "href": "slides/14_environment-scope.html#environments-and-scoping",
    "title": "MATH167R: Environment and Scope",
    "section": "Environments and scoping",
    "text": "Environments and scoping\nPreviously, we talked about assignment in R, which binds names to values.\nToday we’ll talk about scoping, which involves finding a value associated with a name.\nExercise: What will the following code return?\n\nx &lt;- 10\nmy_function &lt;- function() {\n  return(x)\n}\nmy_function()\n\n\n\n\n[1] 10"
  },
  {
    "objectID": "slides/14_environment-scope.html#environments-and-scoping-1",
    "href": "slides/14_environment-scope.html#environments-and-scoping-1",
    "title": "MATH167R: Environment and Scope",
    "section": "Environments and scoping",
    "text": "Environments and scoping\nExercise: What about this code?\n\nx &lt;- 10\nmy_function &lt;- function() {\n  x &lt;- 20\n  return(x)\n}\nmy_function()\n\n\n\n\n[1] 20"
  },
  {
    "objectID": "slides/14_environment-scope.html#lexical-scoping",
    "href": "slides/14_environment-scope.html#lexical-scoping",
    "title": "MATH167R: Environment and Scope",
    "section": "Lexical scoping",
    "text": "Lexical scoping\nR generally uses lexical scoping meaning that a function accesses values of names based on how the function is defined and not how it is called."
  },
  {
    "objectID": "slides/14_environment-scope.html#name-masking",
    "href": "slides/14_environment-scope.html#name-masking",
    "title": "MATH167R: Environment and Scope",
    "section": "Name masking",
    "text": "Name masking\nName masking: names defined within a function mask names defined outside the function.\nExercise: What will the following code return?\n\nx &lt;- 10\ny &lt;- 20\nmy_function &lt;- function() {\n  x &lt;- 1\n  y &lt;- 2\n  return(c(x, y))\n}\nmy_function()\nprint(x)\n\n\n\n\n[1] 1 2\n\n\n[1] 10"
  },
  {
    "objectID": "slides/14_environment-scope.html#name-masking-1",
    "href": "slides/14_environment-scope.html#name-masking-1",
    "title": "MATH167R: Environment and Scope",
    "section": "Name masking",
    "text": "Name masking\nNow, y is a free variable, meaning that it is not defined as a formal argument or declared in the body of the function?\nExercise: What will the following code return?\n\nx &lt;- 10\ny &lt;- 20\nmy_function &lt;- function() {\n  x &lt;- 1\n  return(c(x, y))\n}\nmy_function()\nprint(x)\n\n\n\n\n[1]  1 20\n\n\n[1] 10"
  },
  {
    "objectID": "slides/14_environment-scope.html#free-variables",
    "href": "slides/14_environment-scope.html#free-variables",
    "title": "MATH167R: Environment and Scope",
    "section": "Free variables",
    "text": "Free variables\nLexical scoping means that free variables are searched for in the environment where the function is defined."
  },
  {
    "objectID": "slides/14_environment-scope.html#environments",
    "href": "slides/14_environment-scope.html#environments",
    "title": "MATH167R: Environment and Scope",
    "section": "Environments",
    "text": "Environments\nAn environment is a collection of pairs of symbols (names) and values.\nWe can think of environments as simply bags of names bound to values (figure from Advanced R)"
  },
  {
    "objectID": "slides/14_environment-scope.html#environments-1",
    "href": "slides/14_environment-scope.html#environments-1",
    "title": "MATH167R: Environment and Scope",
    "section": "Environments",
    "text": "Environments\nEnvironments are organized hierarchically: Every environment has a parent and may have one or multiple children.\nThere is one environment without a parent: the empty environment."
  },
  {
    "objectID": "slides/14_environment-scope.html#the-global-environment",
    "href": "slides/14_environment-scope.html#the-global-environment",
    "title": "MATH167R: Environment and Scope",
    "section": "The global environment",
    "text": "The global environment\nWhen we work in RStudio and interact with the console, we are generally working in the global environment. The global environment is often called the workspace.\nWhen we try to access a variable in the console (or click Run when editing an R Markdown document), we are working in the global environment."
  },
  {
    "objectID": "slides/14_environment-scope.html#package-environments",
    "href": "slides/14_environment-scope.html#package-environments",
    "title": "MATH167R: Environment and Scope",
    "section": "Package environments",
    "text": "Package environments\nWhenever we load a package with library() we add a parent to the global environment:\n\nWe can see the current search path using the search() function."
  },
  {
    "objectID": "slides/14_environment-scope.html#searching-for-a-value",
    "href": "slides/14_environment-scope.html#searching-for-a-value",
    "title": "MATH167R: Environment and Scope",
    "section": "Searching for a value",
    "text": "Searching for a value\nSuppose we are looking for a value for a given symbol used in a function.\n\nFirst, the search begins within the body of the function.\nNext, if the value is not found in the body, the search continues in the function’s environment (where it was defined).\nIf the value is not found there, the search continues in the parent environment.\nThe search continues up the sequence of parents until the empty environmnet is reached at which point we throw an error."
  },
  {
    "objectID": "slides/14_environment-scope.html#example",
    "href": "slides/14_environment-scope.html#example",
    "title": "MATH167R: Environment and Scope",
    "section": "Example",
    "text": "Example\nExercise: What will the following code return?\n\nx &lt;- 10\ny &lt;- 20\nf &lt;- function(x) {\n  y &lt;- x + 5\n  return(x)\n}\ng &lt;- function(y) {\n  y &lt;- x + 5\n  return(y)\n}\ng(y)\n\n\n\n\n[1] 15"
  },
  {
    "objectID": "slides/14_environment-scope.html#example-1",
    "href": "slides/14_environment-scope.html#example-1",
    "title": "MATH167R: Environment and Scope",
    "section": "Example",
    "text": "Example\nExercise: What will the following code return?\n\nx &lt;- 10\ny &lt;- 20\nf &lt;- function(x) {\n  y &lt;- x + 5\n  return(x)\n}\ng &lt;- function(y) {\n  y &lt;- x + 5\n  return(y)\n}\ng(y)\n\n\n\n\n[1] 15"
  },
  {
    "objectID": "slides/14_environment-scope.html#example-2",
    "href": "slides/14_environment-scope.html#example-2",
    "title": "MATH167R: Environment and Scope",
    "section": "Example",
    "text": "Example\nExercise: What will the following code return?\n\nf &lt;- function(x) {\n  f &lt;- function(x) {\n    f &lt;- function() {\n      x ^ 2\n    }\n    f() + 1\n  }\n  f(x) * 2\n}\nf(10)\n\n\n\n\n[1] 202"
  },
  {
    "objectID": "slides/14_environment-scope.html#knittingrendering-an-r-markdown-document",
    "href": "slides/14_environment-scope.html#knittingrendering-an-r-markdown-document",
    "title": "MATH167R: Environment and Scope",
    "section": "Knitting/Rendering an R Markdown document",
    "text": "Knitting/Rendering an R Markdown document\nWhen you open RStudio, you are working in a (new) global environment.\nWhen we click Run within RStudio, you are working in this same global environment.\nHowever, when you knit an R Markdown document, you are essentially starting a new global environment, so you cannot access anything in your current workspace.\nThis ensures that the R Markdown document is self-contained and has everything that one would need to reproduce your results."
  },
  {
    "objectID": "slides/14_environment-scope.html#a-fresh-start-function-execution",
    "href": "slides/14_environment-scope.html#a-fresh-start-function-execution",
    "title": "MATH167R: Environment and Scope",
    "section": "A fresh start: function execution",
    "text": "A fresh start: function execution\nEach time you execute a function by calling it, a temporary environment is created.\nExercise: What will the following code return?\n\nf &lt;- function() {\n  if (!exists(\"a\")) {\n    a &lt;- 1\n  } else {\n    a &lt;- a + 1\n  }\n  a\n}\nf()\nf()\n\n\n\n\n[1] 1\n\n\n[1] 1"
  },
  {
    "objectID": "slides/14_environment-scope.html#super-assignment",
    "href": "slides/14_environment-scope.html#super-assignment",
    "title": "MATH167R: Environment and Scope",
    "section": "Super assignment",
    "text": "Super assignment\nThe &lt;&lt;- operator doesn’t create a variable in the current environment. It looks for a matching name in the parent environments. If it finds one, it updates that variable. If it doesn’t, it creates a variable in the global environment.\n\nx &lt;- 0\nf &lt;- function() {\n  x &lt;&lt;- 1\n}\nf()\nx\n\n[1] 1"
  },
  {
    "objectID": "slides/14_environment-scope.html#practical-tips",
    "href": "slides/14_environment-scope.html#practical-tips",
    "title": "MATH167R: Environment and Scope",
    "section": "Practical tips",
    "text": "Practical tips\nRemember:\n\nName masking: names defined within a function mask names defined outside the function.\nFree variables: Free variables are searched for first in the environment where the function is defined.\nKnitting an R Markdown document: R Markdown documents are self-contained, so when you knit, you cannot access anything in the global environment you were working in.\nFunction execution environments: Function execution environments are generally temporary, so whatever happens within a function does not affect the global environment."
  },
  {
    "objectID": "slides/07_visualizing-data.html#warm-up",
    "href": "slides/07_visualizing-data.html#warm-up",
    "title": "MATH167R: Data visualization",
    "section": "Warm-up",
    "text": "Warm-up\n\nWhat does the following code do?\n\nlibrary(palmerpenguins)\nlibrary(tidyverse)\ndata(penguins)\npenguins |&gt; \n  group_by(species, island) |&gt;\n  summarize(mean_body_mass = mean(body_mass_g, na.rm = T))"
  },
  {
    "objectID": "slides/07_visualizing-data.html#warm-up-1",
    "href": "slides/07_visualizing-data.html#warm-up-1",
    "title": "MATH167R: Data visualization",
    "section": "Warm-up",
    "text": "Warm-up\n\nlibrary(palmerpenguins)\nlibrary(tidyverse)\ndata(penguins)\npenguins |&gt; \n  group_by(species, island) |&gt;\n  summarize(mean_body_mass = mean(body_mass_g, na.rm = T))\n\n# A tibble: 5 × 3\n# Groups:   species [3]\n  species   island    mean_body_mass\n  &lt;fct&gt;     &lt;fct&gt;              &lt;dbl&gt;\n1 Adelie    Biscoe             3710.\n2 Adelie    Dream              3688.\n3 Adelie    Torgersen          3706.\n4 Chinstrap Dream              3733.\n5 Gentoo    Biscoe             5076."
  },
  {
    "objectID": "slides/07_visualizing-data.html#overview-of-today",
    "href": "slides/07_visualizing-data.html#overview-of-today",
    "title": "MATH167R: Data visualization",
    "section": "Overview of today",
    "text": "Overview of today\n\nData visualization in base R\nData visualization with ggplot2\nPrinciples of data visualization"
  },
  {
    "objectID": "slides/07_visualizing-data.html#why-look-at-data",
    "href": "slides/07_visualizing-data.html#why-look-at-data",
    "title": "MATH167R: Data visualization",
    "section": "Why look at data?",
    "text": "Why look at data?"
  },
  {
    "objectID": "slides/07_visualizing-data.html#why-look-at-data-1",
    "href": "slides/07_visualizing-data.html#why-look-at-data-1",
    "title": "MATH167R: Data visualization",
    "section": "Why look at data?",
    "text": "Why look at data?\nAll of these datasets have the same means for x and y, and (approximately) the same correlation:\n\n\n# A tibble: 13 × 4\n   dataset    mean_x mean_y correlation\n   &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt;       &lt;dbl&gt;\n 1 away         54.3   47.8        -0.1\n 2 bullseye     54.3   47.8        -0.1\n 3 circle       54.3   47.8        -0.1\n 4 dino         54.3   47.8        -0.1\n 5 dots         54.3   47.8        -0.1\n 6 h_lines      54.3   47.8        -0.1\n 7 high_lines   54.3   47.8        -0.1\n 8 slant_down   54.3   47.8        -0.1\n 9 slant_up     54.3   47.8        -0.1\n10 star         54.3   47.8        -0.1\n11 v_lines      54.3   47.8        -0.1\n12 wide_lines   54.3   47.8        -0.1\n13 x_shape      54.3   47.8        -0.1"
  },
  {
    "objectID": "slides/07_visualizing-data.html#why-look-at-data-2",
    "href": "slides/07_visualizing-data.html#why-look-at-data-2",
    "title": "MATH167R: Data visualization",
    "section": "Why look at data?",
    "text": "Why look at data?\n\nfrom Jackson (1980) as reproduced in Kieran Healy’s Data Visualization."
  },
  {
    "objectID": "slides/07_visualizing-data.html#what-makes-a-good-data-visualization",
    "href": "slides/07_visualizing-data.html#what-makes-a-good-data-visualization",
    "title": "MATH167R: Data visualization",
    "section": "What makes a good data visualization?",
    "text": "What makes a good data visualization?\n\nLegibility: Is it easy for the viewer to understand and interpret your visual?\nIntegrity: Does the visual accurately communicate some insight about the data?\nBeauty: Is the visual appealing and uncluttered?\n\nOther Readings:\n\nInformation is Beautiful"
  },
  {
    "objectID": "slides/07_visualizing-data.html#legibility",
    "href": "slides/07_visualizing-data.html#legibility",
    "title": "MATH167R: Data visualization",
    "section": "Legibility",
    "text": "Legibility\n\nfrom Edward H. Adelson as reproduced in Kieran Healy’s Data Visualization."
  },
  {
    "objectID": "slides/07_visualizing-data.html#legibility-1",
    "href": "slides/07_visualizing-data.html#legibility-1",
    "title": "MATH167R: Data visualization",
    "section": "Legibility",
    "text": "Legibility"
  },
  {
    "objectID": "slides/07_visualizing-data.html#legibility-2",
    "href": "slides/07_visualizing-data.html#legibility-2",
    "title": "MATH167R: Data visualization",
    "section": "Legibility",
    "text": "Legibility\n\nfrom Kieran Healy’s Data Visualization."
  },
  {
    "objectID": "slides/07_visualizing-data.html#integrity",
    "href": "slides/07_visualizing-data.html#integrity",
    "title": "MATH167R: Data visualization",
    "section": "Integrity",
    "text": "Integrity"
  },
  {
    "objectID": "slides/07_visualizing-data.html#integrity-1",
    "href": "slides/07_visualizing-data.html#integrity-1",
    "title": "MATH167R: Data visualization",
    "section": "Integrity",
    "text": "Integrity"
  },
  {
    "objectID": "slides/07_visualizing-data.html#example-movies-data",
    "href": "slides/07_visualizing-data.html#example-movies-data",
    "title": "MATH167R: Data visualization",
    "section": "Example: Movies data",
    "text": "Example: Movies data\n\nmovies &lt;- readr::read_csv(\"https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2018/2018-10-23/movie_profit.csv\")\n\n\n\n\n\n\n\n...1\nrelease_date\nmovie\nproduction_budget\ndomestic_gross\nworldwide_gross\ndistributor\nmpaa_rating\ngenre\n\n\n\n\n1\n6/22/2007\nEvan Almighty\n1.75e+08\n100289690\n174131329\nUniversal\nPG\nComedy\n\n\n2\n7/28/1995\nWaterworld\n1.75e+08\n88246220\n264246220\nUniversal\nPG-13\nAction\n\n\n3\n5/12/2017\nKing Arthur: Legend of the Sword\n1.75e+08\n39175066\n139950708\nWarner Bros.\nPG-13\nAdventure\n\n\n4\n12/25/2013\n47 Ronin\n1.75e+08\n38362475\n151716815\nUniversal\nPG-13\nAction\n\n\n5\n6/22/2018\nJurassic World: Fallen Kingdom\n1.70e+08\n416769345\n1304866322\nUniversal\nPG-13\nAction\n\n\n6\n8/1/2014\nGuardians of the Galaxy\n1.70e+08\n333172112\n771051335\nWalt Disney\nPG-13\nAction\n\n\n7\n5/7/2010\nIron Man 2\n1.70e+08\n312433331\n621156389\nParamount Pictures\nPG-13\nAction\n\n\n8\n4/4/2014\nCaptain America: The Winter Soldier\n1.70e+08\n259746958\n714401889\nWalt Disney\nPG-13\nAction\n\n\n9\n7/11/2014\nDawn of the Planet of the Apes\n1.70e+08\n208545589\n710644566\n20th Century Fox\nPG-13\nAdventure\n\n\n10\n11/10/2004\nThe Polar Express\n1.70e+08\n186493587\n310634169\nWarner Bros.\nG\nAdventure\n\n\n11\n6/1/2012\nSnow White and the Huntsman\n1.70e+08\n155136755\n401021746\nUniversal\nPG-13\nAdventure\n\n\n12\n7/1/2003\nTerminator 3: Rise of the Machines\n1.70e+08\n150358296\n433058296\nWarner Bros.\nR\nAction\n\n\n13\n5/7/2004\nVan Helsing\n1.70e+08\n120150546\n300150546\nUniversal\nPG-13\nAction\n\n\n14\n5/22/2015\nTomorrowland\n1.70e+08\n93436322\n207283457\nWalt Disney\nPG\nAdventure\n\n\n15\n5/27/2016\nAlice Through the Looking Glass\n1.70e+08\n77042381\n276934087\nWalt Disney\nPG\nAdventure\n\n\n16\n5/21/2010\nShrek Forever After\n1.65e+08\n238736787\n756244673\nParamount Pictures\nPG\nAdventure\n\n\n17\n11/4/2016\nDoctor Strange\n1.65e+08\n232641920\n676486457\nWalt Disney\nPG-13\nAction\n\n\n18\n11/7/2014\nBig Hero 6\n1.65e+08\n222527828\n652127828\nWalt Disney\nPG\nAdventure\n\n\n19\n3/26/2010\nHow to Train Your Dragon\n1.65e+08\n217581232\n494870992\nParamount Pictures\nPG\nAdventure\n\n\n20\n11/2/2012\nWreck-It Ralph\n1.65e+08\n189412677\n496511521\nWalt Disney\nPG\nAdventure"
  },
  {
    "objectID": "slides/07_visualizing-data.html#univariate-visualizations",
    "href": "slides/07_visualizing-data.html#univariate-visualizations",
    "title": "MATH167R: Data visualization",
    "section": "Univariate visualizations",
    "text": "Univariate visualizations\nUnivariate visualizations describe one variable at a time.\nFor categorical variables, usually bar plots or pie charts are used.\nFor numerical variables, usually histograms, box plots, or density plots are used."
  },
  {
    "objectID": "slides/07_visualizing-data.html#summarizing-categorical-data-with-a-table",
    "href": "slides/07_visualizing-data.html#summarizing-categorical-data-with-a-table",
    "title": "MATH167R: Data visualization",
    "section": "Summarizing categorical data with a table",
    "text": "Summarizing categorical data with a table\n\ntable(movies$genre)\n\n\n   Action Adventure    Comedy     Drama    Horror \n      573       481       813      1236       298"
  },
  {
    "objectID": "slides/07_visualizing-data.html#visualizing-a-categorical-variable",
    "href": "slides/07_visualizing-data.html#visualizing-a-categorical-variable",
    "title": "MATH167R: Data visualization",
    "section": "Visualizing a categorical variable",
    "text": "Visualizing a categorical variable\nThe barplot function takes a named numeric vector as its first argument:\n\nbarplot(height = table(movies$genre))"
  },
  {
    "objectID": "slides/07_visualizing-data.html#customizing-base-r-plots",
    "href": "slides/07_visualizing-data.html#customizing-base-r-plots",
    "title": "MATH167R: Data visualization",
    "section": "Customizing base R plots",
    "text": "Customizing base R plots\nBase R plotting functions have many optional arguments allowing customization:\n\nbarplot(\n  height = table(movies$genre), \n  main = \"Distribution of Movie Genres in Tidy Tuesday dataset\",\n  col = \"red\"\n)"
  },
  {
    "objectID": "slides/07_visualizing-data.html#visualizing-a-categorical-variable-1",
    "href": "slides/07_visualizing-data.html#visualizing-a-categorical-variable-1",
    "title": "MATH167R: Data visualization",
    "section": "Visualizing a categorical variable",
    "text": "Visualizing a categorical variable\nThe pie function takes a named numeric vector as its first argument:\n\npie(x = table(movies$genre))"
  },
  {
    "objectID": "slides/07_visualizing-data.html#summarizing-a-numerical-variable",
    "href": "slides/07_visualizing-data.html#summarizing-a-numerical-variable",
    "title": "MATH167R: Data visualization",
    "section": "Summarizing a numerical variable",
    "text": "Summarizing a numerical variable\n\nsummary(movies$worldwide_gross)\n\n     Min.   1st Qu.    Median      Mean   3rd Qu.      Max. \n0.000e+00 1.062e+07 4.016e+07 9.412e+07 1.176e+08 1.305e+09"
  },
  {
    "objectID": "slides/07_visualizing-data.html#visualizing-a-numerical-variable",
    "href": "slides/07_visualizing-data.html#visualizing-a-numerical-variable",
    "title": "MATH167R: Data visualization",
    "section": "Visualizing a numerical variable",
    "text": "Visualizing a numerical variable\n\nhist(\n  x = movies$worldwide_gross, \n  main = \"Distribution of Worldwide Gross of Movies\",\n  col = \"red\"\n)\n\n\nWhat shape does this distribution have?"
  },
  {
    "objectID": "slides/07_visualizing-data.html#visualizing-a-numerical-variable-1",
    "href": "slides/07_visualizing-data.html#visualizing-a-numerical-variable-1",
    "title": "MATH167R: Data visualization",
    "section": "Visualizing a numerical variable",
    "text": "Visualizing a numerical variable\n\nboxplot(\n  x = movies$worldwide_gross, \n  main = \"Distribution of Worldwide Gross\",\n  xlab = \"Worldwide Gross ($)\",\n  col = \"red\",\n  horizontal = T\n)"
  },
  {
    "objectID": "slides/07_visualizing-data.html#visualizing-a-numerical-variable-2",
    "href": "slides/07_visualizing-data.html#visualizing-a-numerical-variable-2",
    "title": "MATH167R: Data visualization",
    "section": "Visualizing a numerical variable",
    "text": "Visualizing a numerical variable\n\nboxplot(\n  x = movies$production_budget, \n  main = \"Distribution of Production Budget\",\n  xlab = \"Budget ($)\",\n  col = \"red\",\n  horizontal = T\n)"
  },
  {
    "objectID": "slides/07_visualizing-data.html#multivariate-visualizations",
    "href": "slides/07_visualizing-data.html#multivariate-visualizations",
    "title": "MATH167R: Data visualization",
    "section": "Multivariate visualizations",
    "text": "Multivariate visualizations\nHow might we plot the relationship between a numerical variable and a categorical variable?\nHow about between two categorical variables? Between two numerical variables?\nWhat if we want to visualize three variables at once?"
  },
  {
    "objectID": "slides/07_visualizing-data.html#visualizing-two-numerical-variables",
    "href": "slides/07_visualizing-data.html#visualizing-two-numerical-variables",
    "title": "MATH167R: Data visualization",
    "section": "Visualizing two numerical variables",
    "text": "Visualizing two numerical variables\nThe plot function can be used to obtain scatter plots for two numerical variables:\n\nplot(\n  x = movies$production_budget, \n  y = movies$worldwide_gross, \n  main = \"Worldwide Gross vs. Production Budget\",\n  xlab = \"Budget ($)\",\n  ylab = \"Worldwide Gross ($)\",\n  col = \"blue\",\n)"
  },
  {
    "objectID": "slides/07_visualizing-data.html#visualizing-two-numerical-variables-1",
    "href": "slides/07_visualizing-data.html#visualizing-two-numerical-variables-1",
    "title": "MATH167R: Data visualization",
    "section": "Visualizing two numerical variables",
    "text": "Visualizing two numerical variables"
  },
  {
    "objectID": "slides/07_visualizing-data.html#visualizing-a-numerical-variable-and-a-categorical-variable",
    "href": "slides/07_visualizing-data.html#visualizing-a-numerical-variable-and-a-categorical-variable",
    "title": "MATH167R: Data visualization",
    "section": "Visualizing a numerical variable and a categorical variable",
    "text": "Visualizing a numerical variable and a categorical variable\nThe plot function can be used to obtain stacked boxplots for two numerical variables:\n\nboxplot(worldwide_gross ~ genre,\n        data = movies, \n        main = \"Distribution of Worldwide Gross by Genre\",\n        xlab = \"Worldwide Gross ($)\",\n        ylab = \"\",\n        horizontal = T,\n        las = 1)"
  },
  {
    "objectID": "slides/07_visualizing-data.html#visualizing-a-numerical-variable-and-a-categorical-variable-1",
    "href": "slides/07_visualizing-data.html#visualizing-a-numerical-variable-and-a-categorical-variable-1",
    "title": "MATH167R: Data visualization",
    "section": "Visualizing a numerical variable and a categorical variable",
    "text": "Visualizing a numerical variable and a categorical variable"
  },
  {
    "objectID": "slides/07_visualizing-data.html#visualizing-two-categorical-variables",
    "href": "slides/07_visualizing-data.html#visualizing-two-categorical-variables",
    "title": "MATH167R: Data visualization",
    "section": "Visualizing two categorical variables",
    "text": "Visualizing two categorical variables\n\ntable(movies$genre, movies$mpaa_rating)\n\n           \n              G  PG PG-13   R\n  Action      1  34   225 286\n  Adventure  67 309    83  14\n  Comedy      6  79   328 367\n  Drama      11 144   398 645\n  Horror      0   7    58 202"
  },
  {
    "objectID": "slides/07_visualizing-data.html#visualizing-two-categorical-variables-1",
    "href": "slides/07_visualizing-data.html#visualizing-two-categorical-variables-1",
    "title": "MATH167R: Data visualization",
    "section": "Visualizing two categorical variables",
    "text": "Visualizing two categorical variables\n\nbarplot(table(movies$genre, movies$mpaa_rating),\n        legend =  c(\"Action\", \"Adventure\", \"Comedy\", \"Drama\", \"Horror\"))"
  },
  {
    "objectID": "slides/07_visualizing-data.html#data-visualization-with-ggplot2",
    "href": "slides/07_visualizing-data.html#data-visualization-with-ggplot2",
    "title": "MATH167R: Data visualization",
    "section": "Data visualization with ggplot2",
    "text": "Data visualization with ggplot2\nggplot2 is a fantastic package for making complex visualizations that many people find more intuitive to use.\n\nlibrary(ggplot2)\n\nPlots are built sequentially using layers, so it’s easy to edit and fine-tune the plots you generate.\nWhen using ggplot2, it is essential that your data are properly formatted If they are not, the results probably will not look like you expect.\nLet’s work through how to build a plot layer by layer."
  },
  {
    "objectID": "slides/07_visualizing-data.html#data-visualization-with-ggplot2-1",
    "href": "slides/07_visualizing-data.html#data-visualization-with-ggplot2-1",
    "title": "MATH167R: Data visualization",
    "section": "Data visualization with ggplot2",
    "text": "Data visualization with ggplot2\nFirst, let’s initialize a plot. Use the data parameter to tell ggplot what data frame to use.\n\nIt should be tidy data, in either a data.frame or tibble!\n\n\n\n\nggplot(data = movies)"
  },
  {
    "objectID": "slides/07_visualizing-data.html#select-variables-using-ggplot2",
    "href": "slides/07_visualizing-data.html#select-variables-using-ggplot2",
    "title": "MATH167R: Data visualization",
    "section": "Select variables using ggplot2",
    "text": "Select variables using ggplot2\nNext, we match variables to aesthetics within our plot. For example, let’s put Pollution Burden on the x-axis. We do so using the function aes() within the initial ggplot() call.\n\nPossible aesthetics include axes as well as characteristics such as color, size, shape\n\n\n\n\nggplot(data = movies,\n       aes(x = production_budget))"
  },
  {
    "objectID": "slides/07_visualizing-data.html#map-aesthetics-to-shapes-using-ggplot2",
    "href": "slides/07_visualizing-data.html#map-aesthetics-to-shapes-using-ggplot2",
    "title": "MATH167R: Data visualization",
    "section": "Map aesthetics to shapes using ggplot2",
    "text": "Map aesthetics to shapes using ggplot2\nNow ggplot knows what to plot, but it doesn’t know how to plot it yet. Let’s add a new layer that creates a histogram with geom_histogram().\n\nThis is a new layer! We add layers using the + operator.\n\n\n\n\nggplot(data = movies,\n       aes(x = production_budget)) +\n  geom_histogram()"
  },
  {
    "objectID": "slides/07_visualizing-data.html#customizing-shapes",
    "href": "slides/07_visualizing-data.html#customizing-shapes",
    "title": "MATH167R: Data visualization",
    "section": "Customizing shapes",
    "text": "Customizing shapes\nWe can customize the shape within geom_histogram():\n\n\n\nggplot(data = movies,\n       aes(x = production_budget)) +\n  geom_histogram(fill = 'red')"
  },
  {
    "objectID": "slides/07_visualizing-data.html#adding-label-and-titles",
    "href": "slides/07_visualizing-data.html#adding-label-and-titles",
    "title": "MATH167R: Data visualization",
    "section": "Adding label and titles",
    "text": "Adding label and titles\nWe can finally add axis labels and a title using the + operator:\n\n\n\nggplot(data = movies,\n       aes(x = production_budget)) +\n  geom_histogram(fill = 'red') + \n  xlab(\"Budget ($)\") +\n  ggtitle(\"Distribution of Production Budgets\")"
  },
  {
    "objectID": "slides/07_visualizing-data.html#subsetting-our-data",
    "href": "slides/07_visualizing-data.html#subsetting-our-data",
    "title": "MATH167R: Data visualization",
    "section": "Subsetting our data",
    "text": "Subsetting our data\nRecall we can subset our data using the dplyr::filter() function from tidyverse. Note the use of the %in% operator here:\n\n# remember you may need to run library(tidyverse)\nselect_genres &lt;- c(\"Action\", \"Comedy\")\n# require county to be in SF Bay Area\naction_comedy &lt;- movies |&gt;\n  filter(genre %in% select_genres)\nhead(action_comedy)\n\n# A tibble: 6 × 9\n   ...1 release_date movie      production_budget domestic_gross worldwide_gross\n  &lt;dbl&gt; &lt;chr&gt;        &lt;chr&gt;                  &lt;dbl&gt;          &lt;dbl&gt;           &lt;dbl&gt;\n1     1 6/22/2007    Evan Almi…         175000000      100289690       174131329\n2     2 7/28/1995    Waterworld         175000000       88246220       264246220\n3     4 12/25/2013   47 Ronin           175000000       38362475       151716815\n4     5 6/22/2018    Jurassic …         170000000      416769345      1304866322\n5     6 8/1/2014     Guardians…         170000000      333172112       771051335\n6     7 5/7/2010     Iron Man 2         170000000      312433331       621156389\n# ℹ 3 more variables: distributor &lt;chr&gt;, mpaa_rating &lt;chr&gt;, genre &lt;chr&gt;"
  },
  {
    "objectID": "slides/07_visualizing-data.html#scatter-plots-with-ggplot2",
    "href": "slides/07_visualizing-data.html#scatter-plots-with-ggplot2",
    "title": "MATH167R: Data visualization",
    "section": "Scatter plots with ggplot2",
    "text": "Scatter plots with ggplot2\nWe can easily add another variable/aesthetic pair and change the shape to get a multivariate visualization:\n\n\n\nggplot(data = action_comedy,\n       aes(x = production_budget, y = worldwide_gross)) +\n  geom_point()"
  },
  {
    "objectID": "slides/07_visualizing-data.html#customizing-our-scatter-plot",
    "href": "slides/07_visualizing-data.html#customizing-our-scatter-plot",
    "title": "MATH167R: Data visualization",
    "section": "Customizing our scatter plot",
    "text": "Customizing our scatter plot\nWe can similarly customize our scatter plots\n\n\n\nggplot(data = action_comedy,\n       aes(x = production_budget, y = worldwide_gross)) +\n  geom_point(color = 'red', alpha = 0.5)  +\n  xlab(\"Production Budget ($)\") +\n  ylab(\"Worldwide Gross ($)\") +\n  ggtitle(\"Worldwide Gross vs. Budget for \\nAction/Comedy Movies\")"
  },
  {
    "objectID": "slides/07_visualizing-data.html#beyond-two-dimensions",
    "href": "slides/07_visualizing-data.html#beyond-two-dimensions",
    "title": "MATH167R: Data visualization",
    "section": "Beyond two dimensions",
    "text": "Beyond two dimensions\nWe can add even more mappings between aesthetics and variables to explore multivariate relationships:\n\n\n\nggplot(data = action_comedy,\n       aes(x = production_budget, y = worldwide_gross, color = genre)) +\n  geom_point(alpha = 0.5)  +\n  xlab(\"Production Budget ($)\") +\n  ylab(\"Worldwide Gross ($)\") +\n  ggtitle(\"Worldwide Gross vs. Budget for \\nAction/Comedy Movies\")"
  },
  {
    "objectID": "slides/07_visualizing-data.html#what-to-remember-for-ggplot2",
    "href": "slides/07_visualizing-data.html#what-to-remember-for-ggplot2",
    "title": "MATH167R: Data visualization",
    "section": "What to remember for ggplot2",
    "text": "What to remember for ggplot2\nThe ggplot2 package is built around a “grammar of graphics”: a standard way of building plots layer by layer.\nThe three basic layers:\n\nData: a data frame with all of the variables of interest\nAesthetics: graphical dimensions like x, y, color, shape, and more.\nGeometries: the specific markings used to illustrate your variables and aesthetics."
  },
  {
    "objectID": "slides/07_visualizing-data.html#what-to-remember-for-ggplot2-1",
    "href": "slides/07_visualizing-data.html#what-to-remember-for-ggplot2-1",
    "title": "MATH167R: Data visualization",
    "section": "What to remember for ggplot2",
    "text": "What to remember for ggplot2\nWriting ggplot2 code can be confusing since most people are used to thinking about the geometry first.\nOne approach that may help:\n\nStart by picking a geometry (ex. geom_point()).\nResearch the available aesthetics for that geometry (ex. x, y, color, shape, size). Not all aesthetics are available for all geometries.\nMap variables to the dataset to the relevant aesthetics."
  },
  {
    "objectID": "slides/07_visualizing-data.html#beyond-two-dimensions-1",
    "href": "slides/07_visualizing-data.html#beyond-two-dimensions-1",
    "title": "MATH167R: Data visualization",
    "section": "Beyond two dimensions",
    "text": "Beyond two dimensions\nBe sure to avoid making your visualization overly complicated:\n\nggplot(data = movies,\n       aes(x = production_budget, \n           y = worldwide_gross, \n           color = genre,\n           shape = mpaa_rating,\n           size = domestic_gross)) +\n  geom_point(alpha = 0.5)  +\n  xlab(\"Production Budget ($)\") +\n  ylab(\"Worldwide Gross ($)\") +\n  ggtitle(\"Worldwide Gross vs. Budget\")"
  },
  {
    "objectID": "slides/07_visualizing-data.html#beyond-two-dimensions-2",
    "href": "slides/07_visualizing-data.html#beyond-two-dimensions-2",
    "title": "MATH167R: Data visualization",
    "section": "Beyond two dimensions",
    "text": "Beyond two dimensions"
  },
  {
    "objectID": "slides/07_visualizing-data.html#ggplot-cheatsheet",
    "href": "slides/07_visualizing-data.html#ggplot-cheatsheet",
    "title": "MATH167R: Data visualization",
    "section": "ggplot cheatsheet",
    "text": "ggplot cheatsheet\n\nAxes: xlim(), ylim()\nLegends: within initial aes(), edit within theme() or guides()\ngeom_point(), geom_line(), geom_histogram(), geom_bar(), geom_boxplot(), geom_text()\nfacet_grid(), facet_wrap() for faceting\nlabs() for labels\ntheme_bw() to make things look nicer\nGraphical parameters: color for color, alpha for opacity, lwd/size for thickness, shape for shape, fill for interior color, …\n\nFind more tips here!"
  },
  {
    "objectID": "slides/07_visualizing-data.html#general-principles-for-data-visualization",
    "href": "slides/07_visualizing-data.html#general-principles-for-data-visualization",
    "title": "MATH167R: Data visualization",
    "section": "General principles for data visualization",
    "text": "General principles for data visualization\n\n\nAvoid:\n\n3D plots\nDeceptive axes\nExcessive labels\nExcessive/bad coloring\nFancy shading/effects\nBad variable/axis names\nUnreadable labels\nOverloaded with information\n\n\nStrive for:\n\nSimple, clean graphics\nNeat and human readable text\nAppropriate data range (bar charts should always start from 0!)\nConsistent intervals\nRoughly ~6 colors or less\nSize figures appropriately"
  },
  {
    "objectID": "slides/07_visualizing-data.html#sometimes-breaking-the-rules-is-okay",
    "href": "slides/07_visualizing-data.html#sometimes-breaking-the-rules-is-okay",
    "title": "MATH167R: Data visualization",
    "section": "Sometimes breaking the rules is okay…",
    "text": "Sometimes breaking the rules is okay…\n\nCharles Minard"
  },
  {
    "objectID": "slides/07_visualizing-data.html#sometimes-breaking-the-rules-is-okay-1",
    "href": "slides/07_visualizing-data.html#sometimes-breaking-the-rules-is-okay-1",
    "title": "MATH167R: Data visualization",
    "section": "Sometimes breaking the rules is okay…",
    "text": "Sometimes breaking the rules is okay…\n\nW.E.B. DuBois"
  },
  {
    "objectID": "slides/07_visualizing-data.html#sometimes-breaking-the-rules-is-okay-2",
    "href": "slides/07_visualizing-data.html#sometimes-breaking-the-rules-is-okay-2",
    "title": "MATH167R: Data visualization",
    "section": "Sometimes breaking the rules is okay…",
    "text": "Sometimes breaking the rules is okay…\n\nFlorence Nightingale"
  },
  {
    "objectID": "slides/07_visualizing-data.html#lab-04",
    "href": "slides/07_visualizing-data.html#lab-04",
    "title": "MATH167R: Data visualization",
    "section": "Lab 04",
    "text": "Lab 04\nIn this lab, we’ll practice data visualization with base R and ggplot2."
  },
  {
    "objectID": "slides/07_visualizing-data.html#some-misleading-visualizations",
    "href": "slides/07_visualizing-data.html#some-misleading-visualizations",
    "title": "MATH167R: Data visualization",
    "section": "Some misleading visualizations",
    "text": "Some misleading visualizations\n\nAvoid: Pie charts? The proportions are completely off."
  },
  {
    "objectID": "slides/07_visualizing-data.html#some-misleading-visualizations-1",
    "href": "slides/07_visualizing-data.html#some-misleading-visualizations-1",
    "title": "MATH167R: Data visualization",
    "section": "Some misleading visualizations",
    "text": "Some misleading visualizations\n\nAvoid: Pie charts? Percentages don’t add up."
  },
  {
    "objectID": "slides/07_visualizing-data.html#some-misleading-visualizations-2",
    "href": "slides/07_visualizing-data.html#some-misleading-visualizations-2",
    "title": "MATH167R: Data visualization",
    "section": "Some misleading visualizations",
    "text": "Some misleading visualizations\n\nAvoid: 3d bar charts?!"
  },
  {
    "objectID": "slides/07_visualizing-data.html#some-misleading-visualizations-3",
    "href": "slides/07_visualizing-data.html#some-misleading-visualizations-3",
    "title": "MATH167R: Data visualization",
    "section": "Some misleading visualizations",
    "text": "Some misleading visualizations\n\nAvoid: Bad use of color"
  },
  {
    "objectID": "slides/07_visualizing-data.html#some-misleading-visualizations-4",
    "href": "slides/07_visualizing-data.html#some-misleading-visualizations-4",
    "title": "MATH167R: Data visualization",
    "section": "Some misleading visualizations",
    "text": "Some misleading visualizations\n\nAvoid: Bad axis, lack of information, 3D bar chart"
  },
  {
    "objectID": "slides/07_visualizing-data.html#some-misleading-visualizations-5",
    "href": "slides/07_visualizing-data.html#some-misleading-visualizations-5",
    "title": "MATH167R: Data visualization",
    "section": "Some misleading visualizations",
    "text": "Some misleading visualizations\n\nAvoid: Four numbers displayed as a cluttered chart, terrible labels, bad axis range"
  },
  {
    "objectID": "slides/16_debugging.html#overview-of-today",
    "href": "slides/16_debugging.html#overview-of-today",
    "title": "MATH167R: Debugging",
    "section": "Overview of today",
    "text": "Overview of today\n\nDebugging (based on Jennifer Bryan and Jim Hester’s What they Forgot to Teach You About R - Debugging R Code)"
  },
  {
    "objectID": "slides/16_debugging.html#step-1-look-online",
    "href": "slides/16_debugging.html#step-1-look-online",
    "title": "MATH167R: Debugging",
    "section": "Step 1: Look online",
    "text": "Step 1: Look online\nWhen you see an error code you don’t understand, search for it!\nSearch for the exact text of your error message (except for any references to filepaths, etc.).\nR has millions of users and an incredibly active online community. If you encounter any error message, chances are someone has had to debug that exact error in the past."
  },
  {
    "objectID": "slides/16_debugging.html#step-2-reset",
    "href": "slides/16_debugging.html#step-2-reset",
    "title": "MATH167R: Debugging",
    "section": "Step 2: Reset",
    "text": "Step 2: Reset\nMany, many issues will be solved by closing and re-opening R.\nSometimes, things get weird with your global environment, and you just need to start with a clean slate. It can be frustrating, because you don’t know what was causing the issue, but also a relief, because it will be fixed.\nResetting will:\n\nClear your workspace (better than rm(list = ls()!)\nReset your options to their defaults (an easy one to miss!)\nClear your search path (the order R looks for things)"
  },
  {
    "objectID": "slides/16_debugging.html#step-3-repeat",
    "href": "slides/16_debugging.html#step-3-repeat",
    "title": "MATH167R: Debugging",
    "section": "Step 3: Repeat",
    "text": "Step 3: Repeat\nWhen you encounter a bug, try to repeat it. Likely, it came about for a reason.\nWhen you do repeat it, you should repeat it with a minimal reproducible example. This means you should remove as much code and simplify as much data as possible.\n\nSmall and simple inputs\nNo extraneous packages or function calls\n\nExample: did your function break with a large data matrix of real-world data stored within a package? How about if you just use a \\(3\\times 3\\) matrix of \\(1\\)’s?\nFor more guidelines, see StackOverflow’s guide to creating minimal reproducible examples."
  },
  {
    "objectID": "slides/16_debugging.html#step-4-locate",
    "href": "slides/16_debugging.html#step-4-locate",
    "title": "MATH167R: Debugging",
    "section": "Step 4: Locate",
    "text": "Step 4: Locate\nIf you weren’t able to fix a bug the “easy” way (found the solution online or just needed a reset), and you have a minimal reproducible example demonstrating your bug, then you are ready for the really hard part: finding the bug.\nOften (not always), once you find a bug, it is rather easy to fix."
  },
  {
    "objectID": "slides/16_debugging.html#traceback-call-stack",
    "href": "slides/16_debugging.html#traceback-call-stack",
    "title": "MATH167R: Debugging",
    "section": "traceback(): call stack",
    "text": "traceback(): call stack\nSometimes functions(in functions(in functions(in functions(…)))) can get complicated.\nExercise: What will the following code return?\n\nf &lt;- function(x) x + 1\ng &lt;- function(x) f(x)\ng(\"a\")\n\n\n\nError in x + 1: non-numeric argument to binary operator"
  },
  {
    "objectID": "slides/16_debugging.html#traceback-call-stack-1",
    "href": "slides/16_debugging.html#traceback-call-stack-1",
    "title": "MATH167R: Debugging",
    "section": "traceback(): call stack",
    "text": "traceback(): call stack\nIf you call the traceback() function immediately after triggering an error, the console will print out a summary of how your program reached that error. This summary is called a call stack.\n\nf &lt;- function(x) x + 1\ng &lt;- function(x) f(x)\ng(\"a\")\n\nError in x + 1: non-numeric argument to binary operator\n\n\n\ntraceback()\n\n2: f(x) at #1\n1: g(\"a\")"
  },
  {
    "objectID": "slides/16_debugging.html#traceback-call-stack-2",
    "href": "slides/16_debugging.html#traceback-call-stack-2",
    "title": "MATH167R: Debugging",
    "section": "traceback(): call stack",
    "text": "traceback(): call stack\nExercise: What will the following code return?\n\nf &lt;- function(a) g(a)\ng &lt;- function(b) h(b)\nh &lt;- function(c) i(c)\ni &lt;- function(d) {\n  d + 10\n}\nf(5)\n\n\n\n\n[1] 15"
  },
  {
    "objectID": "slides/16_debugging.html#traceback-call-stack-3",
    "href": "slides/16_debugging.html#traceback-call-stack-3",
    "title": "MATH167R: Debugging",
    "section": "traceback(): call stack",
    "text": "traceback(): call stack\nWhat about this code?\n\nf &lt;- function(a) g(a)\ng &lt;- function(b) h(b)\nh &lt;- function(c) i(c)\ni &lt;- function(d) {\n  d + 10\n}\nf(1:3)\n\n\n\n\n[1] 11 12 13"
  },
  {
    "objectID": "slides/16_debugging.html#traceback-call-stack-4",
    "href": "slides/16_debugging.html#traceback-call-stack-4",
    "title": "MATH167R: Debugging",
    "section": "traceback(): call stack",
    "text": "traceback(): call stack\nWhat about this code?\n\nf &lt;- function(a) g(a)\ng &lt;- function(b) h(b)\nh &lt;- function(c) i(c)\ni &lt;- function(d) {\n  d + 10\n}\nf(\"a\")\n\n\n\n\nError in d + 10: non-numeric argument to binary operator\n\n\n\n\nWhy doesn’t it say error in a + 10?"
  },
  {
    "objectID": "slides/16_debugging.html#traceback-call-stack-5",
    "href": "slides/16_debugging.html#traceback-call-stack-5",
    "title": "MATH167R: Debugging",
    "section": "traceback(): call stack",
    "text": "traceback(): call stack\n\ntraceback()\n\n5: stop(\"`d` must be numeric\", call. = FALSE) \n4: i(c) \n3: h(b) \n2: g(a) \n1: f(\"a\")"
  },
  {
    "objectID": "slides/16_debugging.html#traceback-call-stack-6",
    "href": "slides/16_debugging.html#traceback-call-stack-6",
    "title": "MATH167R: Debugging",
    "section": "traceback(): call stack",
    "text": "traceback(): call stack\nRead from bottom to top:\n\nFirst call was to f(\"a\")\nSecond call was g(a)\nThird call was h(b)\nFourth call was i(c)\nFifth and last call was our error message, so we know i(c) triggered our error.\n\nWe now know that our error occurred within i(c), but we don’t know where within i(c) our error occurred."
  },
  {
    "objectID": "slides/16_debugging.html#traceback-call-stack-7",
    "href": "slides/16_debugging.html#traceback-call-stack-7",
    "title": "MATH167R: Debugging",
    "section": "traceback(): call stack",
    "text": "traceback(): call stack\nNote this is done in your Console, not your Editor pane. This is typically not a part of your reproducible workflow, this is you figuring out your own problems until you fix what actually belongs in your workflow.\nOnce you have the bug fixed, then put the debugged code in your Editor pane. In general, most debugging will be done through the Console."
  },
  {
    "objectID": "slides/16_debugging.html#print-cat-str-messages",
    "href": "slides/16_debugging.html#print-cat-str-messages",
    "title": "MATH167R: Debugging",
    "section": "print(), cat(), str(): messages",
    "text": "print(), cat(), str(): messages\nUse print() statements to test out print() statements to see the values used during execution.\n\ni &lt;- function(d) {\n  print(d)\n  d + 10\n}\nf(\"a\")\n\n[1] \"a\"\n\n\nError in d + 10: non-numeric argument to binary operator\n\n\n\nThis is a quick and easy way to find bugs quickly and should be probably your first step when manually debugging."
  },
  {
    "objectID": "slides/16_debugging.html#print-cat-str-messages-1",
    "href": "slides/16_debugging.html#print-cat-str-messages-1",
    "title": "MATH167R: Debugging",
    "section": "print(), cat(), str(): messages",
    "text": "print(), cat(), str(): messages\nTake your function and throw in a cat() statement to see what the function is seeing.\n\ni &lt;- function(d) {\n  cat(\"The value of input parameter d is:\", d, \"\\n\")\n  cat(\"The class of input parameter d is:\", class(d), \"\\n\")\n  d + 10\n}\nf(\"a\")\n\nThe value of input parameter d is: a \nThe class of input parameter d is: character \n\n\nError in d + 10: non-numeric argument to binary operator"
  },
  {
    "objectID": "slides/16_debugging.html#print-cat-str-messages-2",
    "href": "slides/16_debugging.html#print-cat-str-messages-2",
    "title": "MATH167R: Debugging",
    "section": "print(), cat(), str(): messages",
    "text": "print(), cat(), str(): messages\nWe can similarly use str():\n\ni &lt;- function(d) {\n  str(d)\n  d + 10\n}\nf(\"a\")\n\n chr \"a\"\n\n\nError in d + 10: non-numeric argument to binary operator\n\n\nMore specifically, str() can be used to see the structure of what the function is seeing. This can often be more informative if the structure is not what you expect (a common source of bugs)."
  },
  {
    "objectID": "slides/16_debugging.html#print-cat-str-messages-3",
    "href": "slides/16_debugging.html#print-cat-str-messages-3",
    "title": "MATH167R: Debugging",
    "section": "print(), cat(), str(): messages",
    "text": "print(), cat(), str(): messages\nThe main downside to these approaches is that it can get messy quickly if you use multiple print statements, and you cannot further investigate the object. However, many bugs come down to typos or other trivial errors, and print statements are often all you need."
  },
  {
    "objectID": "slides/16_debugging.html#browser-interactive-debugger",
    "href": "slides/16_debugging.html#browser-interactive-debugger",
    "title": "MATH167R: Debugging",
    "section": "browser(): Interactive debugger",
    "text": "browser(): Interactive debugger\nSometimes, it may not be enough to just use print statements and locate a bug. You can get more information and interact with that information using browser(), an interactive debugger.\nWithin RStudio, you can also get right to an interactive debugger by clicking Rerun with Debug."
  },
  {
    "objectID": "slides/16_debugging.html#browser-interactive-debugger-1",
    "href": "slides/16_debugging.html#browser-interactive-debugger-1",
    "title": "MATH167R: Debugging",
    "section": "browser(): Interactive debugger",
    "text": "browser(): Interactive debugger\nAlternatively, we can plug browser() into our function, as with the print statements.\n\ni &lt;- function(d) {\n  browser()\n  d + 10\n}\nf(\"a\")\n\nCalled from: i(c)\ndebug at &lt;text&gt;#3: d + 10\n\n\nError in d + 10: non-numeric argument to binary operator"
  },
  {
    "objectID": "slides/16_debugging.html#browser-interactive-debugger-2",
    "href": "slides/16_debugging.html#browser-interactive-debugger-2",
    "title": "MATH167R: Debugging",
    "section": "browser(): Interactive debugger",
    "text": "browser(): Interactive debugger\nAfter you run a function with browser(), you will be inside of your function with an interactive debugger.\nYou will know it worked if you see a special prompt: Browse[1]&gt;.\nWe can see:\n\nThe environment within the function using the Environment pane\nThe call stack using the new Traceback pane\nSpecial interactive debugging commands"
  },
  {
    "objectID": "slides/16_debugging.html#interactive-debugging-commands",
    "href": "slides/16_debugging.html#interactive-debugging-commands",
    "title": "MATH167R: Debugging",
    "section": "Interactive debugging commands",
    "text": "Interactive debugging commands\n\nNext, n: executes the next step in the function. (If you have a variable named n, use print(n) to display its value.)\nStep into, s, works like next, but if the next step is a function, it will step into that function so you can explore it interactively. (Easy to get lost!)\nFinish, or f: finishes execution of the current loop or function. Useful to skip over long for loops you don’t need to interact with.\nContinue, c: leaves the debugger and continues execution of the function. Useful if you’ve fixed the bad state and want to check that the function proceeds correctly.\nStop, Q: exits the debugger and returns to the R prompt."
  },
  {
    "objectID": "slides/16_debugging.html#interactive-debugging-commands-1",
    "href": "slides/16_debugging.html#interactive-debugging-commands-1",
    "title": "MATH167R: Debugging",
    "section": "Interactive debugging commands",
    "text": "Interactive debugging commands\n\nEnter (no text): repeat the previous interactive debugging command. Defaults to Next n if you haven’t used any debugging commands yet.\nwhere: prints stack trace of active calls (the interactive equivalent of traceback)."
  },
  {
    "objectID": "slides/16_debugging.html#other-useful-things-to-do",
    "href": "slides/16_debugging.html#other-useful-things-to-do",
    "title": "MATH167R: Debugging",
    "section": "Other useful things to do",
    "text": "Other useful things to do\n\nls(): List the current environment. You can use this to browse everything that the function is able to see at that moment.\nstr(), print(): examine objects as the function sees them."
  },
  {
    "objectID": "slides/16_debugging.html#a-warning",
    "href": "slides/16_debugging.html#a-warning",
    "title": "MATH167R: Debugging",
    "section": "A warning",
    "text": "A warning\nIf you execute the step of a function where the error occurs, you will exit interactive debugging mode, the error message will print, and you will be returned to the R prompt.\nThis can get annoying, because it stops you from interacting right when you hit the bug."
  },
  {
    "objectID": "slides/16_debugging.html#a-warning-1",
    "href": "slides/16_debugging.html#a-warning-1",
    "title": "MATH167R: Debugging",
    "section": "A warning",
    "text": "A warning\nStrategy:\n\nCall browser() and execute until you hit the error. Remember exactly where it occurs.\nCall browser() again and execute again, stopping just before triggering the error.\nYou can copy and paste the next line of code into the Browse console to trigger the error without exiting the interactive debugger."
  },
  {
    "objectID": "slides/16_debugging.html#tips",
    "href": "slides/16_debugging.html#tips",
    "title": "MATH167R: Debugging",
    "section": "Tips",
    "text": "Tips\n\nWithin the debugging section, you are interacting with the exact environment R is using before the error is triggered.\nExamine each object one-by-one in the environment to make sure the structure matches expectations.\nIf you still can’t figure it out, s “Step into” the next function and repeat this process."
  },
  {
    "objectID": "slides/16_debugging.html#example",
    "href": "slides/16_debugging.html#example",
    "title": "MATH167R: Debugging",
    "section": "Example",
    "text": "Example\n\ncreate_p_norm &lt;- function(p = 2) {\n  return(\n    function(x) return(sum(abs(x) ^ p) ^ (1 / p))\n  )\n}\ncalculate_p_norm &lt;- function(x, p) {\n  # browser()\n  norm_fn &lt;- create_p_norm(p)\n  return(norm_fn(x))\n}\ncalculate_p_norm(1:5, 1)\n\n[1] 15\n\n\nWithin an interactive debugging environment, you can use as.list(environment()) to see what is in the environment."
  },
  {
    "objectID": "slides/16_debugging.html#example-1",
    "href": "slides/16_debugging.html#example-1",
    "title": "MATH167R: Debugging",
    "section": "Example",
    "text": "Example\n\nloop_fun &lt;- function(x) {\n  # browser()\n  n &lt;- length(x)\n  y &lt;- rep(NA, n)\n  z &lt;- rep(NA, n)\n  for (i in 1:n) {\n    y[i] &lt;- x[i] * 2\n    z[i] &lt;- y[i] * 2\n  }\n  return(list(\"y\" = y, \"z\" = z))\n}\nloop_fun(1:5)\n\n$y\n[1]  2  4  6  8 10\n\n$z\n[1]  4  8 12 16 20\n\nloop_fun(diag(1:5))\n\n$y\n [1]  2  0  0  0  0  0  4  0  0  0  0  0  6  0  0  0  0  0  8  0  0  0  0  0 10\n\n$z\n [1]  4  0  0  0  0  0  8  0  0  0  0  0 12  0  0  0  0  0 16  0  0  0  0  0 20"
  },
  {
    "objectID": "slides/16_debugging.html#breakpoints",
    "href": "slides/16_debugging.html#breakpoints",
    "title": "MATH167R: Debugging",
    "section": "Breakpoints",
    "text": "Breakpoints\nIn RStudio, you may also use breakpoints by writing your code in an R file. A breakpoint is like a browser() call, but you avoid having to change your code.\n\nloop_fun &lt;- function(x) {\n  # browser()\n  n &lt;- length(x)\n  y &lt;- rep(NA, n)\n  z &lt;- rep(NA, n)\n  for (i in 1:n) {\n    y[i] &lt;- x[i] * 2\n    z[i] &lt;- y[i] * 2\n  }\n  return(list(\"y\" = y, \"z\" = z))\n}\nloop_fun(c(\"a\", \"b\", \"c\"))\n\nError in x[i] * 2: non-numeric argument to binary operator"
  },
  {
    "objectID": "slides/16_debugging.html#debugging-summary",
    "href": "slides/16_debugging.html#debugging-summary",
    "title": "MATH167R: Debugging",
    "section": "Debugging Summary",
    "text": "Debugging Summary\n\nSearch online.\nReset.\nRepeat.\nLocate:\n\n\nCall stack: traceback()\nNon-interactive messages: print(), cat(), str()\nInteractive debugging: browser(), debug(), debugonce(), trace()"
  },
  {
    "objectID": "slides/16_debugging.html#debugging-resources",
    "href": "slides/16_debugging.html#debugging-resources",
    "title": "MATH167R: Debugging",
    "section": "Debugging Resources",
    "text": "Debugging Resources\n\nAdvanced R Debugging - Hadley Wickham\nWhat they Forgot to Teach You About R - Jennifer Bryan and Jim Hester\nDebugging Techniques in RStudio - Amanda Gadrow\nDebugging with RStudio Article - Jonathan McPherson\nIntroduction to debugging in R and RStudio - Jim Hester\nCheatsheet"
  },
  {
    "objectID": "slides/16_debugging.html#debugging-exercise",
    "href": "slides/16_debugging.html#debugging-exercise",
    "title": "MATH167R: Debugging",
    "section": "Debugging exercise",
    "text": "Debugging exercise\nA number is a palindrome if it is the same when the digits are reversed (ex. 484). Can you fix the following code to print numbers between 1 and 1000 that are both prime and palindromes?"
  },
  {
    "objectID": "slides/16_debugging.html#debugging-exercise-1",
    "href": "slides/16_debugging.html#debugging-exercise-1",
    "title": "MATH167R: Debugging",
    "section": "Debugging exercise",
    "text": "Debugging exercise\n\nis_prime &lt;- function(x) {\n  if (x == 2) {\n    return(TRUE)\n  } else if (any(x %% 2:(x-1) == 0)) {\n    return(FALSE)\n  } else {\n    return(TRUE)\n  }\n}\nis_palindrome &lt;- function(x) {\n  x_char &lt;- as.character(x)\n  x_char &lt;- stringr::str_split(x_char, \"\")[[1]]\n  x_rev &lt;- rev(x_char)\n  return(x_char == x_rev)\n}\nfor (i in 1:1000) {\n  if (is_prime(i) & is_palindrome(i)) {\n    print(i)\n  }\n}\n\n[1] 2\n[1] 3\n[1] 5\n[1] 7\n\n\nError in if (is_prime(i) & is_palindrome(i)) {: the condition has length &gt; 1"
  },
  {
    "objectID": "slides/16_debugging.html#efrons-dice",
    "href": "slides/16_debugging.html#efrons-dice",
    "title": "MATH167R: Debugging",
    "section": "Efron’s Dice",
    "text": "Efron’s Dice\nProfessor Bradley Efron proposed a game involving the following four dice:\n\n\n\nThe game involves two players each choosing one of these four dice and rolling once. The player who rolls the higher number wins. Which die would you choose?"
  },
  {
    "objectID": "slides/16_debugging.html#efrons-dice-1",
    "href": "slides/16_debugging.html#efrons-dice-1",
    "title": "MATH167R: Debugging",
    "section": "Efron’s dice",
    "text": "Efron’s dice\nIf one player chooses \\(A\\) and the other chooses \\(B\\), what is the probability that \\(A\\) wins? We can write this as \\[\\begin{align*}\nP(\\textrm{A wins}\\mid \\textrm{other player chooses B})=P(\\textrm{A wins}\\mid B)\n\\end{align*}\\]\nWhat is \\(P(\\textrm{A wins}\\mid B)\\)?\n \n\\(P(\\textrm{A wins}\\mid C)\\)?\n \n\\(P(\\textrm{A wins}\\mid D)\\)?"
  },
  {
    "objectID": "slides/16_debugging.html#efrons-dice-2",
    "href": "slides/16_debugging.html#efrons-dice-2",
    "title": "MATH167R: Debugging",
    "section": "Efron’s dice",
    "text": "Efron’s dice\nIt turns out that Efron’s dice are an example of “intransitive” dice.\n\\[\n\\begin{align*}\n&\\textrm{A beats B with probability } &gt; 0.5\\\\\n&\\textrm{B beats C with probability } &gt; 0.5\\\\\n&\\textrm{C beats D with probability } &gt; 0.5\\\\\n&\\textrm{D beats A with probability } &gt; 0.5\n\\end{align*}\n\\]\n\nHow can we explore this using R code?"
  },
  {
    "objectID": "slides/16_debugging.html#efrons-dice-3",
    "href": "slides/16_debugging.html#efrons-dice-3",
    "title": "MATH167R: Debugging",
    "section": "Efron’s dice",
    "text": "Efron’s dice\n\n\nroll_die &lt;- function(die, n = 1) {\n  if (die == \"A\") {\n    sides &lt;- c(0, 0, 4, 4, 4, 4)\n  } else if (die == \"B\") {\n    sides &lt;- c(3, 3, 3, 3, 3, 3)\n  } else if (die == \"C\") {\n    sides &lt;- c(2, 2, 2, 2, 6, 6)\n  } else if (die == \"D\") {\n    sides &lt;- c(1, 1, 1, 5, 5, 5)\n  } else {\n    stop(\"Invalid die option.\")\n  }\n  return(sample(sides, size = n, replace = T))\n}"
  },
  {
    "objectID": "slides/16_debugging.html#efrons-dice-4",
    "href": "slides/16_debugging.html#efrons-dice-4",
    "title": "MATH167R: Debugging",
    "section": "Efron’s dice",
    "text": "Efron’s dice\n\ncompare_dice &lt;- function(die_1, die_2, n = 1000) {\n  rolls_1 &lt;- roll_die(die_1, n = n) \n  rolls_2 &lt;- roll_die(die_2, n = n)\n  win_count_1 &lt;- sum(rolls_1 &gt; rolls_2)\n  print(paste0(die_1, \" beat \", die_2, \" in \",\n              win_count_1, \" of the \", n, \" trials.\"))\n}"
  },
  {
    "objectID": "slides/16_debugging.html#efrons-dice-5",
    "href": "slides/16_debugging.html#efrons-dice-5",
    "title": "MATH167R: Debugging",
    "section": "Efron’s dice",
    "text": "Efron’s dice\nChallenge: Suppose you are given the first choice of the dice. After you pick your die, your opponent selects one of the three remaining dice at random. Which die should you pick?"
  },
  {
    "objectID": "slides/23_hypothesis-testing-III.html#overview-of-today",
    "href": "slides/23_hypothesis-testing-III.html#overview-of-today",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Overview of today",
    "text": "Overview of today\n\nSimulations for power analysis\nP-hacking simulations"
  },
  {
    "objectID": "slides/23_hypothesis-testing-III.html#permutation-tests",
    "href": "slides/23_hypothesis-testing-III.html#permutation-tests",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Permutation tests",
    "text": "Permutation tests\nTypically, for hypothesis testing, we need to know the sampling distribution of the test statistic when the null hypothesis is true.\nIn some cases, we can derive the null sampling distribution analytically.\nWhat if we don’t know the sampling distribution under the null? A permutation test is simple way to estimate the sampling distribution for any test statistic, requiring only some exchangeability assumptions on the data."
  },
  {
    "objectID": "slides/23_hypothesis-testing-III.html#permutation-tests-1",
    "href": "slides/23_hypothesis-testing-III.html#permutation-tests-1",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Permutation tests",
    "text": "Permutation tests\nExample: Suppose we want to understand whether carrying a particular genetic variant affects an individual’s height \\(y\\).\n\ncarrier &lt;- rep(c(0,1), c(100,200))\n\n# an example where y is independent of the gene\nnull_y &lt;- rnorm(300) \n# an example where y is dependent on the gene\nalt_y &lt;- rnorm(300, mean = carrier * 5)"
  },
  {
    "objectID": "slides/23_hypothesis-testing-III.html#permutation-tests-2",
    "href": "slides/23_hypothesis-testing-III.html#permutation-tests-2",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Permutation tests",
    "text": "Permutation tests\nIf the null hypothesis is true, the distribution of \\(Y\\) for the carriers should look the same as the distribution for the non-carriers. If we permute the labels repeatedly, we can get resampled datasets.\nIf the null hypothesis is true, the shuffled data sets will resemble the original dataset. If the null hypothesis is false, the shuffled dataset may not look like the real data."
  },
  {
    "objectID": "slides/23_hypothesis-testing-III.html#null-hypothesis-true",
    "href": "slides/23_hypothesis-testing-III.html#null-hypothesis-true",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Null hypothesis true",
    "text": "Null hypothesis true"
  },
  {
    "objectID": "slides/23_hypothesis-testing-III.html#null-hypothesis-false",
    "href": "slides/23_hypothesis-testing-III.html#null-hypothesis-false",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Null hypothesis false",
    "text": "Null hypothesis false"
  },
  {
    "objectID": "slides/23_hypothesis-testing-III.html#permutation-tests-3",
    "href": "slides/23_hypothesis-testing-III.html#permutation-tests-3",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Permutation tests",
    "text": "Permutation tests\n\nCalculate a test statistic based on the observed data.\nRepeatedly permute the group labels to create resamples. For each resample, compute the resample test statistic.\nCompare the observed data test statistic with the distribution of resampled test statistics."
  },
  {
    "objectID": "slides/23_hypothesis-testing-III.html#permutation-tests-4",
    "href": "slides/23_hypothesis-testing-III.html#permutation-tests-4",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Permutation tests",
    "text": "Permutation tests\nIn the case of our simulated data, we know the true distribution of the difference of sample means. We can thus use a \\(t\\)-test to perform our hypothesis test:\n\nt.test(null_y[carrier == 0], null_y[carrier == 1], var.equal=TRUE)\n\n\n    Two Sample t-test\n\ndata:  null_y[carrier == 0] and null_y[carrier == 1]\nt = 0.40101, df = 298, p-value = 0.6887\nalternative hypothesis: true difference in means is not equal to 0\n95 percent confidence interval:\n -0.1957495  0.2959423\nsample estimates:\n  mean of x   mean of y \n-0.03127240 -0.08136878"
  },
  {
    "objectID": "slides/23_hypothesis-testing-III.html#permutation-tests-5",
    "href": "slides/23_hypothesis-testing-III.html#permutation-tests-5",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Permutation tests",
    "text": "Permutation tests\nCompare with the \\(t\\)-test for the alternative hypothesis data:\n\nt.test(alt_y[carrier == 0], alt_y[carrier == 1], var.equal=TRUE)\n\n\n    Two Sample t-test\n\ndata:  alt_y[carrier == 0] and alt_y[carrier == 1]\nt = -41.436, df = 298, p-value &lt; 2.2e-16\nalternative hypothesis: true difference in means is not equal to 0\n95 percent confidence interval:\n -5.108675 -4.645416\nsample estimates:\nmean of x mean of y \n0.1121617 4.9892071"
  },
  {
    "objectID": "slides/23_hypothesis-testing-III.html#permutation-tests-6",
    "href": "slides/23_hypothesis-testing-III.html#permutation-tests-6",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Permutation tests",
    "text": "Permutation tests\nFor now, though, let’s pretend we don’t know the true null sampling distribution of our test statistic.\n\nset.seed(1)\nnull_diff &lt;- mean(null_y[carrier==1]) - mean(null_y[carrier==0])\nsingle_test &lt;- function(label, y) {\n  resample &lt;- sample(label)\n  # resample test statistic\n  mean(y[resample == 1]) - mean(y[resample == 0])\n}\ntest_stats_null &lt;- replicate(1000, single_test(carrier, null_y))"
  },
  {
    "objectID": "slides/23_hypothesis-testing-III.html#permutation-tests-7",
    "href": "slides/23_hypothesis-testing-III.html#permutation-tests-7",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Permutation tests",
    "text": "Permutation tests\n\nhist(test_stats_null)\nabline(v = null_diff, lwd=2, col=\"purple\")\n\nmean(abs(test_stats_null) &gt; abs(null_diff)) # P-value\n\n[1] 0.691"
  },
  {
    "objectID": "slides/23_hypothesis-testing-III.html#permutation-tests-8",
    "href": "slides/23_hypothesis-testing-III.html#permutation-tests-8",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Permutation tests",
    "text": "Permutation tests\nCompare with the case where the null hypothesis is false.\n\nset.seed(1)\nalt_diff &lt;- mean(alt_y[carrier==1]) - mean(alt_y[carrier==0])\ntest_stats_alt &lt;- replicate(1000, single_test(carrier, alt_y))\nhist(test_stats_alt, xlim = c(-0.5, 6))\nabline(v = alt_diff, lwd=2, col=\"purple\")\n\nmean(abs(test_stats_alt) &gt; abs(alt_diff)) # P-value\n\n[1] 0"
  },
  {
    "objectID": "slides/23_hypothesis-testing-III.html#permutation-tests-sleep-data",
    "href": "slides/23_hypothesis-testing-III.html#permutation-tests-sleep-data",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Permutation tests: sleep data",
    "text": "Permutation tests: sleep data\nWhat if we apply this idea to the sleep data?\n\nhead(sleep)\n\n  extra group ID\n1   0.7     1  1\n2  -1.6     1  2\n3  -0.2     1  3\n4  -1.2     1  4\n5  -0.1     1  5\n6   3.4     1  6"
  },
  {
    "objectID": "slides/23_hypothesis-testing-III.html#permutation-tests-sleep-data-1",
    "href": "slides/23_hypothesis-testing-III.html#permutation-tests-sleep-data-1",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Permutation tests: sleep data",
    "text": "Permutation tests: sleep data\n\ntest_stat &lt;- mean(sleep$extra[sleep$group == 1]) - \n  mean(sleep$extra[sleep$group == 2])\nsingle_test &lt;- function(label, y) {\n  resample &lt;- sample(label)\n  # resample test statistic\n  mean(y[resample == 1]) - mean(y[resample == 2])\n}\ntest_stats_alt &lt;- replicate(1000, single_test(sleep$group, sleep$extra))\nhist(test_stats_alt)\nabline(v = test_stat, lwd=2, col=\"purple\")\n\nmean(abs(test_stats_alt) &gt; abs(test_stat)) # P-value\n\n[1] 0.099"
  },
  {
    "objectID": "slides/23_hypothesis-testing-III.html#power-analysis",
    "href": "slides/23_hypothesis-testing-III.html#power-analysis",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Power analysis",
    "text": "Power analysis\nRecall that the power of a hypothesis test is the probability of rejecting the null hypothesis when the null hypothesis is false.\nNote the power will depend on the size of the difference between the true sampling distribution and the null hypothesis sampling distribution."
  },
  {
    "objectID": "slides/23_hypothesis-testing-III.html#one-sample-z-test",
    "href": "slides/23_hypothesis-testing-III.html#one-sample-z-test",
    "title": "MATH167R: Hypothesis Testing",
    "section": "One sample \\(z\\)-test",
    "text": "One sample \\(z\\)-test\nSuppose that \\(X_1,\\ldots, X_n\\sim N(\\mu, 1)\\).\nConsider the hypotheses \\(H_0:\\mu=0\\) and \\(H_a:\\mu\\neq 0\\).\nWe reject at the \\(\\alpha\\) significance level if \\[|\\overline{X}_n| &gt; \\frac{z_{\\alpha/2}}{\\sqrt{n}}\\]\nIf \\(\\mu=\\mu_a\\neq 0\\), then \\[\\overline{X}_n\\sim N\\left(\\mu_a, \\frac{1}{\\sqrt{n}}\\right)\\]"
  },
  {
    "objectID": "slides/23_hypothesis-testing-III.html#one-sample-z-test-1",
    "href": "slides/23_hypothesis-testing-III.html#one-sample-z-test-1",
    "title": "MATH167R: Hypothesis Testing",
    "section": "One sample \\(z\\)-test",
    "text": "One sample \\(z\\)-test\n\\[\n\\begin{align}\nP\\left(|\\overline{X}_n| &gt; \\frac{z_{\\alpha/2}}{\\sqrt{n}}\\right)&=P\\left(\\overline{X}_n&gt; \\frac{z_{\\alpha/2}}{\\sqrt{n}}\\right) + P\\left(\\overline{X}_n &lt; -\\frac{z_{\\alpha/2}}{\\sqrt{n}}\\right)\\\\\n&=P\\left(\\frac{\\overline{X}_n-\\mu_a}{1/\\sqrt{n}}&gt; z_{\\alpha/2}-\\frac{\\mu_a}{1/\\sqrt{n}}\\right) \\\\\n&+ P\\left(\\frac{\\overline{X}_n-\\mu_a}{1/\\sqrt{n}}&lt;-z_{\\alpha/2}-\\frac{\\mu_a}{1/\\sqrt{n}}\\right)\\\\\n&=\\left(1-\\Phi\\left(z_{\\alpha/2}-\\frac{\\mu_a}{1/\\sqrt{n}}\\right)\\right)+\\Phi\\left(-z_{\\alpha/2}-\\frac{\\mu_a}{1/\\sqrt{n}}\\right)\n\\end{align}\n\\]"
  },
  {
    "objectID": "slides/23_hypothesis-testing-III.html#one-sample-z-test-2",
    "href": "slides/23_hypothesis-testing-III.html#one-sample-z-test-2",
    "title": "MATH167R: Hypothesis Testing",
    "section": "One sample \\(z\\)-test",
    "text": "One sample \\(z\\)-test\n\none_sample_z_power &lt;- function(mu_a, alpha, n) {\n  z &lt;- qnorm(1 - alpha / 2)\n  return(1 - pnorm(z - mu_a * sqrt(n)) + pnorm(-z - mu_a * sqrt(n)))\n}\n\n# plot the power function\nx &lt;- data.frame(x = seq(-3, 3, length.out = 1000))\nggplot(x, aes(x = x)) + \n  geom_function(fun = one_sample_z_power, \n                aes(color = \"n = 5\"),\n                args = list(alpha = .05, n = 5)) +\n  geom_function(fun = one_sample_z_power, \n                aes(color = \"n = 10\"),\n                args = list(alpha = .05, n = 10)) +\n  geom_function(fun = one_sample_z_power, \n                aes(color = \"n = 20\"),\n                args = list(alpha = .05, n = 20)) +\n  xlab(\"True population mean\") + ylab(\"Power\") +\n  theme_bw()"
  },
  {
    "objectID": "slides/23_hypothesis-testing-III.html#one-sample-z-test-3",
    "href": "slides/23_hypothesis-testing-III.html#one-sample-z-test-3",
    "title": "MATH167R: Hypothesis Testing",
    "section": "One sample \\(z\\)-test",
    "text": "One sample \\(z\\)-test"
  },
  {
    "objectID": "slides/23_hypothesis-testing-III.html#using-simulations-to-estimate-power",
    "href": "slides/23_hypothesis-testing-III.html#using-simulations-to-estimate-power",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Using simulations to estimate power",
    "text": "Using simulations to estimate power\n\nsimulate_test &lt;- function(mu_a, alpha, n) {\n  Xbar &lt;- mean(rnorm(n, mean = mu_a, sd = 1))\n  Z_score &lt;- Xbar * sqrt(n)\n  return(abs(Z_score) &gt; qnorm(1 - alpha / 2))\n}\npower_sim &lt;- function(mu_a, alpha, n) {\n  return(mean(replicate(1000, simulate_test(mu_a, alpha, n))))\n}\n\nmu_a &lt;- data.frame(mu_a = seq(-2.5, 2.5, length.out = 100))\nsample_sizes &lt;- c(5, 10, 20)\n\n# matrix of simulation results\nsim_results &lt;- \n  sapply(sample_sizes,\n         function(n) \n           sapply(mu_a$mu_a, \n                  function(mu)\n                    power_sim(mu, .05, n)))\n\nggplot(mu_a, aes(x = mu_a)) +\n  geom_line(aes(y = sim_results[, 1], color = \"n = 5\")) +\n  geom_line(aes(y = sim_results[, 2], color = \"n = 10\")) +\n  geom_line(aes(y = sim_results[, 3], color = \"n = 20\")) +\n  xlab(\"True population mean\") + ylab(\"Power\") +\n  theme_bw()"
  },
  {
    "objectID": "slides/23_hypothesis-testing-III.html#using-simulations-to-estimate-power-1",
    "href": "slides/23_hypothesis-testing-III.html#using-simulations-to-estimate-power-1",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Using simulations to estimate power",
    "text": "Using simulations to estimate power"
  },
  {
    "objectID": "slides/23_hypothesis-testing-III.html#exercise-estimating-power",
    "href": "slides/23_hypothesis-testing-III.html#exercise-estimating-power",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Exercise: estimating power",
    "text": "Exercise: estimating power\nIf \\(X_1,\\ldots X_n\\sim N(1, 1)\\), what is the power for a one-sample \\(t\\) test for the hypotheses \\(H_0:\\mu = 0\\) and \\(H_a:\\mu\\not=0\\) if \\(n=30\\)?\nCreate a simulation to estimate the power."
  },
  {
    "objectID": "slides/23_hypothesis-testing-III.html#p-hacking-simulations",
    "href": "slides/23_hypothesis-testing-III.html#p-hacking-simulations",
    "title": "MATH167R: Hypothesis Testing",
    "section": "P-hacking simulations",
    "text": "P-hacking simulations\nP-hacking refers to the practice of repeatedly performing hypothesis tests (and potentially manipulating the data) until a statistically significant P-values is obtained. Usually, only this final result is published, without mentioning all of the manipulations that came before."
  },
  {
    "objectID": "slides/23_hypothesis-testing-III.html#p-hacking-simulations-1",
    "href": "slides/23_hypothesis-testing-III.html#p-hacking-simulations-1",
    "title": "MATH167R: Hypothesis Testing",
    "section": "P-hacking simulations",
    "text": "P-hacking simulations\nSuppose we simulate 25 observations of 8 variables which we know to be uncorrelated.\n\nno_signal_data &lt;- matrix(rnorm(200), ncol = 8) # 25 x 8 matrix\npairs(no_signal_data) # pairwise scatter plots"
  },
  {
    "objectID": "slides/23_hypothesis-testing-III.html#p-hacking-simulations-2",
    "href": "slides/23_hypothesis-testing-III.html#p-hacking-simulations-2",
    "title": "MATH167R: Hypothesis Testing",
    "section": "P-hacking simulations",
    "text": "P-hacking simulations\n\nno_signal_data &lt;- matrix(rnorm(200), ncol = 8) # 25 x 8 matrix\npairs(no_signal_data) # pairwise scatter plots"
  },
  {
    "objectID": "slides/23_hypothesis-testing-III.html#multiple-testing-simulations",
    "href": "slides/23_hypothesis-testing-III.html#multiple-testing-simulations",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Multiple testing simulations",
    "text": "Multiple testing simulations\nWhat if we perform a hypothesis test to test whether the correlation is zero between each pair of variables using cor.test()? With only 8 variables, we have 28 potential comparisons, the probability that we will (falsely) reject the null is already:\n\n1 - (0.95) ^ 28\n\n[1] 0.7621731"
  },
  {
    "objectID": "slides/23_hypothesis-testing-III.html#multiple-testing-simulations-1",
    "href": "slides/23_hypothesis-testing-III.html#multiple-testing-simulations-1",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Multiple testing simulations",
    "text": "Multiple testing simulations\n\nset.seed(1029)\nno_signal_data&lt;- matrix(rnorm(200), ncol = 8) # 25 x 8 matrix\npairs_to_compare &lt;- combn(8, 2) # all combinations of 2 numbers from 1-8\np_values &lt;- c()\nfor (i in 1:ncol(pairs_to_compare)) {\n  index_1 &lt;- pairs_to_compare[1, i]\n  index_2 &lt;- pairs_to_compare[2, i]\n  test_res &lt;- \n    cor.test(no_signal_data[, index_1],\n             no_signal_data[, index_2])\n  p_values &lt;- c(p_values, test_res$p.value)\n}\nprint(min(p_values))\n\n[1] 0.006656272"
  },
  {
    "objectID": "slides/23_hypothesis-testing-III.html#multiple-testing-simulations-2",
    "href": "slides/23_hypothesis-testing-III.html#multiple-testing-simulations-2",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Multiple testing simulations",
    "text": "Multiple testing simulations\nFor this reason it is common to perform a correction to the p-values when many hypothesis tests are conducted.\nExample: The Bonferroni correction divides \\(\\alpha\\) by the number of tests performed to get the corrected significance level."
  },
  {
    "objectID": "slides/18_more-simulations.html#overview-of-today",
    "href": "slides/18_more-simulations.html#overview-of-today",
    "title": "MATH167R: Simulations",
    "section": "Overview of today",
    "text": "Overview of today\n\nSimulations continued\nTiming code"
  },
  {
    "objectID": "slides/18_more-simulations.html#warm-up-estimating-pi",
    "href": "slides/18_more-simulations.html#warm-up-estimating-pi",
    "title": "MATH167R: Simulations",
    "section": "Warm up: Estimating \\(\\pi\\)",
    "text": "Warm up: Estimating \\(\\pi\\)\nThe area of a radius \\(r\\) circle is \\(\\pi r^2\\). How could we use simulation to estimate \\(\\pi\\)?\n\nHint: what if we randomly generated points on a square?\n\n\n\nlibrary(tidyverse)\nlibrary(ggplot2)\nrandom_points &lt;- data.frame(x = runif(500, -1, 1),\n                            y = runif(500, -1, 1))\nrandom_points &lt;- random_points |&gt;\n  mutate(in_circle = x^2 + y^2 &lt; 1)\nggplot(random_points, aes(x = x, y = y, color = in_circle)) + \n  geom_point() +\n  theme(aspect.ratio=1)"
  },
  {
    "objectID": "slides/18_more-simulations.html#warm-up-estimating-pi-1",
    "href": "slides/18_more-simulations.html#warm-up-estimating-pi-1",
    "title": "MATH167R: Simulations",
    "section": "Warm up: Estimating \\(\\pi\\)",
    "text": "Warm up: Estimating \\(\\pi\\)"
  },
  {
    "objectID": "slides/18_more-simulations.html#warm-up-estimating-pi-2",
    "href": "slides/18_more-simulations.html#warm-up-estimating-pi-2",
    "title": "MATH167R: Simulations",
    "section": "Warm up: Estimating \\(\\pi\\)",
    "text": "Warm up: Estimating \\(\\pi\\)\n\nrandom_points &lt;- data.frame(x = runif(500, -1, 1),\n                            y = runif(500, -1, 1))\nrandom_points &lt;- random_points |&gt;\n  mutate(in_circle = x^2 + y^2 &lt; 1)\nrandom_points |&gt; summarize(pi_est = 4 * mean(in_circle))\n\n  pi_est\n1  3.184"
  },
  {
    "objectID": "slides/18_more-simulations.html#random-walks",
    "href": "slides/18_more-simulations.html#random-walks",
    "title": "MATH167R: Simulations",
    "section": "Random walks",
    "text": "Random walks\nRandom walks are stochastic processes that describe a sequence of random steps on some space.\nA simple example is the one-dimensional random walk on the integer number line which starts at 0 and for each step, moves forward (+1) or backward (-1) with equal probability."
  },
  {
    "objectID": "slides/18_more-simulations.html#random-walks-1",
    "href": "slides/18_more-simulations.html#random-walks-1",
    "title": "MATH167R: Simulations",
    "section": "Random walks",
    "text": "Random walks\nWe can simulate a one-dimensional random walk:\n\nset.seed(123)\nn_steps &lt;- 100\nx &lt;- numeric(n_steps)\nx[1] &lt;- 0\nfor (i in 2:n_steps) {\n  x[i] &lt;- x[i - 1] + sample(c(1, -1), 1)\n}"
  },
  {
    "objectID": "slides/18_more-simulations.html#random-walks-2",
    "href": "slides/18_more-simulations.html#random-walks-2",
    "title": "MATH167R: Simulations",
    "section": "Random walks",
    "text": "Random walks\nWe can then plot our results:\n\nplot(1:n_steps, x, type = \"l\",\n     xlab = \"Step\", ylab = \"x\",\n     main = \"A one-dimensional random walk\")"
  },
  {
    "objectID": "slides/18_more-simulations.html#a-more-functional-version-with-recursion",
    "href": "slides/18_more-simulations.html#a-more-functional-version-with-recursion",
    "title": "MATH167R: Simulations",
    "section": "A more functional version with recursion",
    "text": "A more functional version with recursion\nWe can also adopt a more functional approach:\n\ntake_step &lt;- function() {\n  return(sample(c(1, -1), 1))\n}\nwalk_randomly &lt;- function(n_steps, start = 0) {\n  if (n_steps &lt;= 1) {\n    return(start)\n  }\n  x &lt;- c(start, \n         walk_randomly(n_steps - 1, start + take_step()))\n  return(x)\n}"
  },
  {
    "objectID": "slides/18_more-simulations.html#a-more-functional-version-with-recursion-1",
    "href": "slides/18_more-simulations.html#a-more-functional-version-with-recursion-1",
    "title": "MATH167R: Simulations",
    "section": "A more functional version with recursion",
    "text": "A more functional version with recursion\n\nplot(1:100, walk_randomly(100), type = \"l\",\n     xlab = \"Step\", ylab = \"x\",\n     main = \"A one-dimensional random walk\")"
  },
  {
    "objectID": "slides/18_more-simulations.html#a-two-dimensional-random-walk",
    "href": "slides/18_more-simulations.html#a-two-dimensional-random-walk",
    "title": "MATH167R: Simulations",
    "section": "A two-dimensional random walk",
    "text": "A two-dimensional random walk\nA two-dimensional random walk takes place on the integer grid, where at each step, we can either walk north, south, east, or west.\n\ntake_step_2d &lt;- function() {\n  steps &lt;- rbind(c(0, 1),\n                 c(0, -1), \n                 c(1, 0),\n                 c(-1, 0))\n  return(steps[sample(1:4, 1), ])\n}\nwalk_randomly_2d &lt;- function(n_steps, start = c(0, 0)) {\n  if (n_steps &lt;= 1) {\n    return(start)\n  }\n  x &lt;- rbind(start, \n             walk_randomly_2d(n_steps - 1, start + take_step_2d()))\n  rownames(x) &lt;- NULL\n  return(x)\n}"
  },
  {
    "objectID": "slides/18_more-simulations.html#a-two-dimensional-random-walk-1",
    "href": "slides/18_more-simulations.html#a-two-dimensional-random-walk-1",
    "title": "MATH167R: Simulations",
    "section": "A two-dimensional random walk",
    "text": "A two-dimensional random walk\n\n\n       [,1] [,2]\n  [1,]    0    0\n  [2,]    0    1\n  [3,]   -1    1\n  [4,]   -1    0\n  [5,]   -1   -1\n  [6,]   -2   -1\n  [7,]   -2    0\n  [8,]   -3    0\n  [9,]   -4    0\n [10,]   -4   -1\n [11,]   -3   -1\n [12,]   -4   -1\n [13,]   -5   -1\n [14,]   -6   -1\n [15,]   -5   -1\n [16,]   -5    0\n [17,]   -6    0\n [18,]   -7    0\n [19,]   -8    0\n [20,]   -8   -1\n [21,]   -8    0\n [22,]   -8   -1\n [23,]   -7   -1\n [24,]   -8   -1\n [25,]   -7   -1\n [26,]   -7    0\n [27,]   -6    0\n [28,]   -7    0\n [29,]   -7   -1\n [30,]   -7    0\n [31,]   -7    1\n [32,]   -7    0\n [33,]   -6    0\n [34,]   -6    1\n [35,]   -6    0\n [36,]   -6   -1\n [37,]   -6    0\n [38,]   -7    0\n [39,]   -8    0\n [40,]   -9    0\n [41,]   -9   -1\n [42,]  -10   -1\n [43,]  -10    0\n [44,]  -10    1\n [45,]  -10    0\n [46,]  -10    1\n [47,]  -11    1\n [48,]  -10    1\n [49,]  -10    2\n [50,]  -10    3\n [51,]  -11    3\n [52,]  -12    3\n [53,]  -12    2\n [54,]  -12    3\n [55,]  -13    3\n [56,]  -13    2\n [57,]  -13    3\n [58,]  -13    4\n [59,]  -13    5\n [60,]  -12    5\n [61,]  -11    5\n [62,]  -11    4\n [63,]  -11    5\n [64,]  -12    5\n [65,]  -12    4\n [66,]  -13    4\n [67,]  -12    4\n [68,]  -12    3\n [69,]  -11    3\n [70,]  -11    2\n [71,]  -10    2\n [72,]  -10    3\n [73,]  -10    4\n [74,]  -10    5\n [75,]  -10    6\n [76,]   -9    6\n [77,]   -9    5\n [78,]   -9    6\n [79,]   -9    5\n [80,]   -9    6\n [81,]   -8    6\n [82,]   -7    6\n [83,]   -7    7\n [84,]   -8    7\n [85,]   -8    6\n [86,]   -7    6\n [87,]   -7    7\n [88,]   -6    7\n [89,]   -6    6\n [90,]   -7    6\n [91,]   -8    6\n [92,]   -8    7\n [93,]   -9    7\n [94,]   -9    8\n [95,]   -9    9\n [96,]   -9   10\n [97,]   -9   11\n [98,]   -8   11\n [99,]   -8   10\n[100,]   -8    9"
  },
  {
    "objectID": "slides/18_more-simulations.html#a-two-dimensional-random-walk-2",
    "href": "slides/18_more-simulations.html#a-two-dimensional-random-walk-2",
    "title": "MATH167R: Simulations",
    "section": "A two-dimensional random walk",
    "text": "A two-dimensional random walk\nWe can use geom_path() to illustrate the path taken by the random walker:\n\nlibrary(ggplot2)\ncoords_dat &lt;- data.frame(x = coords[, 1],\n                         y = coords[, 2],\n                         step = 1:n_steps)\nggplot(coords_dat, aes(x = x, y = y, color = step)) +\n  geom_path()"
  },
  {
    "objectID": "slides/18_more-simulations.html#a-two-dimensional-random-walk-3",
    "href": "slides/18_more-simulations.html#a-two-dimensional-random-walk-3",
    "title": "MATH167R: Simulations",
    "section": "A two-dimensional random walk",
    "text": "A two-dimensional random walk\nWe can use the gganimate package to animate our visualization:\n\nlibrary(gganimate)\nanim_walk &lt;- ggplot(coords_dat, aes(x = x, y = y, color = step)) +\n  geom_path() +\n  transition_reveal(along = step)\nanim_walk"
  },
  {
    "objectID": "slides/18_more-simulations.html#random-walks-continued",
    "href": "slides/18_more-simulations.html#random-walks-continued",
    "title": "MATH167R: Simulations",
    "section": "Random walks continued",
    "text": "Random walks continued\nReturn to the code for a one-dimensional random walk:\n\ntake_step &lt;- function() {\n  # move forwards or backwards with equal probability\n  return(sample(c(1, -1), 1))\n}\nwalk_randomly &lt;- function(n_steps, start = 0) {\n  if (n_steps &lt;= 1) {\n    return(start)\n  }\n  x &lt;- c(start, walk_randomly(n_steps - 1, start + take_step()))\n  return(x)\n}\nplot(1:100, walk_randomly(100), type = \"l\",\n     xlab = \"Step\", ylab = \"x\",\n     main = \"A one-dimensional random walk\")"
  },
  {
    "objectID": "slides/18_more-simulations.html#random-walks-continued-1",
    "href": "slides/18_more-simulations.html#random-walks-continued-1",
    "title": "MATH167R: Simulations",
    "section": "Random walks continued",
    "text": "Random walks continued"
  },
  {
    "objectID": "slides/18_more-simulations.html#random-walks-continued-2",
    "href": "slides/18_more-simulations.html#random-walks-continued-2",
    "title": "MATH167R: Simulations",
    "section": "Random walks continued",
    "text": "Random walks continued\nWe can use this simulation code to estimate a number of properties about random walks, including:\n\nIf we consider a random walk of length \\(n\\), how often will the walker visit \\(x=0\\), on average?\nIf we consider a random walk of length \\(n\\), how often will the walker visit \\(x=10\\), on average?\nThe walker starts at \\(x=0\\). What is the expected length of time before the walker returns to \\(x=0\\) (if it is finite)?\nWhat is the expected maximum value of \\(|x_i|\\) for a random walk of length \\(n\\)?"
  },
  {
    "objectID": "slides/18_more-simulations.html#random-walks-continued-3",
    "href": "slides/18_more-simulations.html#random-walks-continued-3",
    "title": "MATH167R: Simulations",
    "section": "Random walks continued",
    "text": "Random walks continued\nIf we consider a random walk of length \\(n\\), how often will the walker visit \\(x=0\\), on average?\nConsider that the results of walk_randomly(n_steps) is a vector of length n_steps.\n\nset.seed(123)\nwalk_randomly(20)\n\n [1]  0  1  2  3  2  3  2  1  0  1  2  1  0 -1  0 -1  0 -1  0  1\n\n\n\nWe need an expression to count the number of times we reach \\(x=0\\) (minus the start).\n\nset.seed(123)\nsum(walk_randomly(20) == 0) - 1\n\n[1] 5"
  },
  {
    "objectID": "slides/18_more-simulations.html#random-walks-continued-4",
    "href": "slides/18_more-simulations.html#random-walks-continued-4",
    "title": "MATH167R: Simulations",
    "section": "Random walks continued",
    "text": "Random walks continued\nIf we consider a random walk of length \\(n\\), how often will the walker visit \\(x=0\\), on average?\nNow we can use replicate() to repeatedly evaluate our expression and then take the mean:\n\nset.seed(123)\nmean(replicate(10000, sum(walk_randomly(20) == 0) - 1))\n\n[1] 2.518"
  },
  {
    "objectID": "slides/18_more-simulations.html#varying-n_steps-parameter",
    "href": "slides/18_more-simulations.html#varying-n_steps-parameter",
    "title": "MATH167R: Simulations",
    "section": "Varying n_steps parameter",
    "text": "Varying n_steps parameter\nIf we consider a random walk of length \\(n\\), how often will the walker visit \\(x=0\\), on average?\n\nset.seed(123)\nns &lt;- c(10, 20, 50, 100, 200, 500, 1000) \nexpected_returns &lt;- \n  vapply(ns, \n         function(n_steps) \n           mean(replicate(1000, sum(walk_randomly(n_steps) == 0) - 1)),\n         numeric(1))\nplot(ns, expected_returns, type = \"l\", \n     xlab = \"Number of steps\", \n     ylab = \"Mean returns to x = 0\")"
  },
  {
    "objectID": "slides/18_more-simulations.html#varying-n_steps-parameter-1",
    "href": "slides/18_more-simulations.html#varying-n_steps-parameter-1",
    "title": "MATH167R: Simulations",
    "section": "Varying n_steps parameter",
    "text": "Varying n_steps parameter\nIf we consider a random walk of length \\(n\\), how often will the walker visit \\(x=0\\), on average?"
  },
  {
    "objectID": "slides/18_more-simulations.html#random-walks-continued-5",
    "href": "slides/18_more-simulations.html#random-walks-continued-5",
    "title": "MATH167R: Simulations",
    "section": "Random walks continued",
    "text": "Random walks continued\nHow could we adapt this code to answer the question:\nIf we consider a random walk of length \\(n\\), how often will the walker visit \\(x=10\\), on average?\nAs \\(n\\rightarrow\\infty\\), how will the expected number of visits to \\(x=10\\) before step \\(n\\) change?"
  },
  {
    "objectID": "slides/18_more-simulations.html#random-walks-continued-6",
    "href": "slides/18_more-simulations.html#random-walks-continued-6",
    "title": "MATH167R: Simulations",
    "section": "Random walks continued",
    "text": "Random walks continued\nIf we consider a random walk of length \\(n\\), how often will the walker visit \\(x=10\\), on average?\n\nset.seed(123)\nns &lt;- c(10, 20, 50, 100, 200, 500, 1000) \nexpected_returns &lt;- \n  vapply(ns, \n         function(n_steps) \n           mean(replicate(1000, sum(walk_randomly(n_steps) == 10))),\n         numeric(1))\nplot(ns, expected_returns, type = \"l\", \n     xlab = \"Number of steps\", \n     ylab = \"Mean visits to x = 10\")"
  },
  {
    "objectID": "slides/18_more-simulations.html#random-walks-continued-7",
    "href": "slides/18_more-simulations.html#random-walks-continued-7",
    "title": "MATH167R: Simulations",
    "section": "Random walks continued",
    "text": "Random walks continued\nIf we consider a random walk of length \\(n\\), how often will the walker visit \\(x=10\\), on average?"
  },
  {
    "objectID": "slides/18_more-simulations.html#expected-time-of-return",
    "href": "slides/18_more-simulations.html#expected-time-of-return",
    "title": "MATH167R: Simulations",
    "section": "Expected time of return",
    "text": "Expected time of return\nCan we adapt this code to answer the following question?\nThe walker starts at \\(x=0\\). What is the expected length of time before the walker returns to \\(x=0\\) (if it is finite)?\nWe have to be a little clever here–we only ever compute a finite-length random walk.\nFor any nonnegative integer valued random variable \\(X\\),\n\\[E(X)=\\sum_{n = 1}^\\infty P(X&gt;n)\\]"
  },
  {
    "objectID": "slides/18_more-simulations.html#expected-time-of-return-1",
    "href": "slides/18_more-simulations.html#expected-time-of-return-1",
    "title": "MATH167R: Simulations",
    "section": "Expected time of return",
    "text": "Expected time of return\n\nset.seed(123)\nns &lt;- 1:20\n# for each n, estimate the proportion of random walks that do NOT return\n# to zero, using simulations\nproportion_no_returns &lt;- \n  vapply(ns, \n         function(n_steps) \n           mean(replicate(2500, sum(walk_randomly(n_steps) == 0) &lt; 2)),\n         numeric(1))\nplot(ns, proportion_no_returns, type = \"l\", \n     xlab = \"Number of steps\", \n     ylab = \"Mean visits to x = 10\")\nproportion_no_returns"
  },
  {
    "objectID": "slides/18_more-simulations.html#expected-time-of-return-2",
    "href": "slides/18_more-simulations.html#expected-time-of-return-2",
    "title": "MATH167R: Simulations",
    "section": "Expected time of return",
    "text": "Expected time of return\n\n\n\n [1] 1.0000 1.0000 0.5080 0.4828 0.3720 0.3704 0.3308 0.3036 0.2836 0.2700\n[11] 0.2336 0.2504 0.2136 0.2340 0.2140 0.2084 0.1944 0.2196 0.1944 0.1784"
  },
  {
    "objectID": "slides/18_more-simulations.html#expected-time-of-return-3",
    "href": "slides/18_more-simulations.html#expected-time-of-return-3",
    "title": "MATH167R: Simulations",
    "section": "Expected time of return",
    "text": "Expected time of return\nDoes the infinite series converge?\n\n# calculate partial sums of the infinite series\ncumsum(proportion_no_returns)\n\n [1] 1.0000 2.0000 2.5080 2.9908 3.3628 3.7332 4.0640 4.3676 4.6512 4.9212\n[11] 5.1548 5.4052 5.6188 5.8528 6.0668 6.2752 6.4696 6.6892 6.8836 7.0620"
  },
  {
    "objectID": "slides/18_more-simulations.html#expected-time-of-return-4",
    "href": "slides/18_more-simulations.html#expected-time-of-return-4",
    "title": "MATH167R: Simulations",
    "section": "Expected time of return",
    "text": "Expected time of return\nThe walker starts at \\(x=0\\). What is the expected length of time before the walker returns to \\(x=0\\) (if it is finite)?\nIt turns out the expected length of time is infinite–a key example of why we have to be careful about using simulations to replace mathematical analysis."
  },
  {
    "objectID": "slides/18_more-simulations.html#exercise",
    "href": "slides/18_more-simulations.html#exercise",
    "title": "MATH167R: Simulations",
    "section": "Exercise",
    "text": "Exercise\nHow would we write a simulation to answer the following question:\nWhat is the expected maximum value of \\(|x_i|\\) for a random walk of length \\(n\\)?"
  },
  {
    "objectID": "slides/18_more-simulations.html#timing-code",
    "href": "slides/18_more-simulations.html#timing-code",
    "title": "MATH167R: Simulations",
    "section": "Timing code",
    "text": "Timing code\nWhen running simulations, the number of different dimensions we consider (number of simulations, number of steps, etc.) can rapidly increase computational cost.\nWe often may want to be able to estimate the runtime of our simulations or to compare the speed of various versions of a simulation.\nExample: Which is faster: vectorized code or a for loop?\n\n# vectorized\nx_vec &lt;- rnorm(100000) + 1\n\n# for loop\nx_for &lt;- numeric()\nfor (i in 1:100000){\n  x_for[i] &lt;- rnorm(1) + 1\n}"
  },
  {
    "objectID": "slides/18_more-simulations.html#sys.time",
    "href": "slides/18_more-simulations.html#sys.time",
    "title": "MATH167R: Simulations",
    "section": "Sys.time()",
    "text": "Sys.time()\nThe Sys.time() function can be used to report the time at evaluation.\n\nstart_time &lt;- Sys.time()\nx_vec &lt;- rnorm(100000) + 1\nprint(Sys.time() - start_time)\n\nTime difference of 0.00347209 secs\n\nstart_time &lt;- Sys.time()\nx_for &lt;- numeric()\nfor (i in 1:100000){\n  x_for[i] &lt;- rnorm(1) + 1\n}\nprint(Sys.time() - start_time)\n\nTime difference of 0.13658 secs"
  },
  {
    "objectID": "slides/18_more-simulations.html#system.time",
    "href": "slides/18_more-simulations.html#system.time",
    "title": "MATH167R: Simulations",
    "section": "system.time()",
    "text": "system.time()\nAltenatively, the system.time() function can be used to time the evaluation of a specific expression,\n\nsystem.time(x_vec &lt;- rnorm(100000) + 1)\n\n   user  system elapsed \n  0.003   0.000   0.002 \n\nx_for &lt;- numeric()\nsystem.time(\n\n  for (i in 1:100000){\n    x_for[i] &lt;- rnorm(1) + 1\n  }\n)\n\n   user  system elapsed \n  0.106   0.008   0.115"
  },
  {
    "objectID": "slides/18_more-simulations.html#microbenchmark",
    "href": "slides/18_more-simulations.html#microbenchmark",
    "title": "MATH167R: Simulations",
    "section": "microbenchmark",
    "text": "microbenchmark\nFinally, the microbenchmark package can be used to time functions repeatedly.\n\n# vectorized\nsq_vectorized &lt;- function(x) {\n    return(x ^ 2)\n}\n# for loop\nsq_for_loop &lt;- function(x) {\n    for (i in 1:length(x)) {\n        x[i] &lt;- x[i] ^ 2\n    }\n    return(x)\n}\n\nlibrary(microbenchmark)\n# microbenchmark to compare the two functions\nx &lt;- rnorm(1000)\ncompare_sq &lt;- microbenchmark(sq_vectorized(x),\n                             sq_for_loop(x),\n                             times = 100)\ncompare_sq\n\nUnit: nanoseconds\n             expr   min      lq     mean  median    uq     max neval\n sq_vectorized(x)   492   635.5  5452.59   697.0   738  473591   100\n   sq_for_loop(x) 27347 27552.0 42420.65 27695.5 27798 1493507   100"
  },
  {
    "objectID": "slides/18_more-simulations.html#algorithmic-efficiency",
    "href": "slides/18_more-simulations.html#algorithmic-efficiency",
    "title": "MATH167R: Simulations",
    "section": "Algorithmic efficiency",
    "text": "Algorithmic efficiency\nThe amount of time code takes is related to the efficiency of the underlying algorithm.\nAlgorithms are commonly analyzed in terms of their asymptotic complexity. The most common way to describe complexity is Big O notation, where an algorithm with \\(O(g(n))\\) complexity has a time requirement which is asymptotically proportional to \\(g(n)\\).\nExamples:\n\nFinding the median in a sorted list of numbers is \\(O(1)\\) constant complexity.\nFinding the largest number in an unsorted list of numbers is \\(O(n)\\) linear complexity."
  },
  {
    "objectID": "slides/18_more-simulations.html#example-inverting-matrices.",
    "href": "slides/18_more-simulations.html#example-inverting-matrices.",
    "title": "MATH167R: Simulations",
    "section": "Example: inverting matrices.",
    "text": "Example: inverting matrices.\nIn practice, timing code can be used to examine these relationships.\n\ncompare_mat &lt;- \n  microbenchmark(\n    mat_3_x_3 = solve(matrix(rnorm(9), nrow = 3)),\n    mat_5_x_5 = solve(matrix(rnorm(25), nrow = 5)),\n    mat_7_x_7 = solve(matrix(rnorm(49), nrow = 7)),\n    mat_9_x_9 = solve(matrix(rnorm(81), nrow = 9)),\n    times = 100\n  )\ncompare_mat\n\nUnit: microseconds\n      expr    min     lq      mean  median      uq       max neval\n mat_3_x_3  7.298  7.626   8.69569  7.7695  8.0155    39.278   100\n mat_5_x_5  8.364  8.774   9.80310  9.0200  9.4300    69.003   100\n mat_7_x_7  9.635 10.086  11.03023 10.4140 10.9675    34.768   100\n mat_9_x_9 11.521 11.890 678.47948 12.2180 12.6280 66517.539   100"
  },
  {
    "objectID": "slides/20_confidence-intervals.html#overview-of-today",
    "href": "slides/20_confidence-intervals.html#overview-of-today",
    "title": "MATH167R: Statistical inference",
    "section": "Overview of today",
    "text": "Overview of today\n\nReview of law of large numbers\nReview of central limit theorem\nReview of confidence intervals\nComputing confidence intervals in R\nSimulations with confidence intervals"
  },
  {
    "objectID": "slides/20_confidence-intervals.html#law-of-large-numbers",
    "href": "slides/20_confidence-intervals.html#law-of-large-numbers",
    "title": "MATH167R: Statistical inference",
    "section": "Law of large numbers",
    "text": "Law of large numbers\nWe have been using simulations to estimate \\(E(Y)\\) where \\(Y\\) is some random variable. Why does this work?\nReview: The law of large numbers, informally speaking, states that if we perform the same experiment many times, the average of the observed results will be close to the expected value (and will get closer as we increase the number of trials).\n\nThe LLN can be formalized as follows: if \\(X_1,\\ldots, X_n\\) are iid random variables with expected value \\(\\mu\\), then the sample mean \\(\\overline{X}_n\\) will converge to \\(\\mu\\) (in probability or almost surely)."
  },
  {
    "objectID": "slides/20_confidence-intervals.html#law-of-large-numbers-simulation",
    "href": "slides/20_confidence-intervals.html#law-of-large-numbers-simulation",
    "title": "MATH167R: Statistical inference",
    "section": "Law of large numbers simulation",
    "text": "Law of large numbers simulation\n\nset.seed(1028)\ndice_rolls &lt;- sample(1:6, 1000, replace = TRUE)\nsample_avg &lt;- sapply(1:length(dice_rolls), function(i) mean(dice_rolls[1:i]))\nplot(1:1000, sample_avg, type = \"l\", col = \"red\",\n     xlab = \"Rolls\", ylab = \"Average\")\nabline(h = 3.5, col = \"blue\")"
  },
  {
    "objectID": "slides/20_confidence-intervals.html#central-limit-theorem",
    "href": "slides/20_confidence-intervals.html#central-limit-theorem",
    "title": "MATH167R: Statistical inference",
    "section": "Central limit theorem",
    "text": "Central limit theorem\nWhat does the central limit theorem say?\n\nLet \\(X_1,\\ldots, X_n\\) be independent samples from a distribution with mean \\(\\mu\\) and variance \\(\\sigma^2\\). Then if \\(n\\) is sufficiently large, \\(\\overline{X}_n\\) has approximately a normal distribution with\n\n\\(E(\\overline{X}_n)=\\mu\\)\n\\(\\mathrm{Var}(\\overline{X}_n)=\\sigma^2/n\\).\n\nThe larger the value of \\(n\\), the better the approximation. (Devore p. 232)."
  },
  {
    "objectID": "slides/20_confidence-intervals.html#central-limit-theorem-1",
    "href": "slides/20_confidence-intervals.html#central-limit-theorem-1",
    "title": "MATH167R: Statistical inference",
    "section": "Central limit theorem",
    "text": "Central limit theorem\nSuppose \\(X_1,\\ldots, X_{10}\\sim N(2, 4)\\):\n\nlibrary(ggplot2)\nXbars &lt;- data.frame(Xbar = replicate(1000, mean(rnorm(10, mean = 2, sd = 2))))\nggplot(Xbars, aes(x = Xbar)) + \n  geom_histogram(aes(y = ..density..)) + \n  geom_function(fun = dnorm, args = list(mean = 2, sd = 2 / sqrt(10)), color = \"red\")"
  },
  {
    "objectID": "slides/20_confidence-intervals.html#central-limit-theorem-2",
    "href": "slides/20_confidence-intervals.html#central-limit-theorem-2",
    "title": "MATH167R: Statistical inference",
    "section": "Central limit theorem",
    "text": "Central limit theorem\nWhat if \\(n = 5\\)?\n\nn &lt;- 5\nXbars &lt;- data.frame(Xbar = replicate(1000, mean(rnorm(n, mean = 2, sd = 2))))\nggplot(Xbars, aes(x = Xbar)) + \n  geom_histogram(aes(y = ..density..)) + \n  geom_function(fun = dnorm, args = list(mean = 2, sd = 2 / sqrt(n)), color = \"red\")"
  },
  {
    "objectID": "slides/20_confidence-intervals.html#central-limit-theorem-3",
    "href": "slides/20_confidence-intervals.html#central-limit-theorem-3",
    "title": "MATH167R: Statistical inference",
    "section": "Central limit theorem",
    "text": "Central limit theorem\nWhat if \\(n = 5\\), but \\(X_1,\\ldots, X_{5}\\sim \\mathrm{Exp}(1)\\):\n\nn &lt;- 5\nXbars &lt;- data.frame(Xbar = replicate(1000, mean(rexp(n, rate = 1))))\nggplot(Xbars, aes(x = Xbar)) + \n  geom_histogram(aes(y = ..density..)) + \n  geom_function(fun = dnorm, args = list(mean = 1, sd = 1 / sqrt(n)), color = \"red\")"
  },
  {
    "objectID": "slides/20_confidence-intervals.html#exercise",
    "href": "slides/20_confidence-intervals.html#exercise",
    "title": "MATH167R: Statistical inference",
    "section": "Exercise",
    "text": "Exercise\nHow can you break the central limit theorem?\nLet \\(X_1,\\ldots, X_n\\) be a random sample from a distribution with mean \\(\\mu\\) and variance \\(\\sigma^2\\). Then if \\(n\\) is sufficiently large, \\(\\overline{X}_n\\) has approximately a normal distribution with \\(E(\\overline{X}_n)=\\mu\\) and \\(\\mathrm{Var}(\\overline{X}_n)=\\sigma^2/n\\). The larger the value of \\(n\\), the better the approximation. (Devore p. 232).\n\nWhat assumptions can you break?"
  },
  {
    "objectID": "slides/20_confidence-intervals.html#confidence-intervals",
    "href": "slides/20_confidence-intervals.html#confidence-intervals",
    "title": "MATH167R: Statistical inference",
    "section": "Confidence intervals",
    "text": "Confidence intervals\nLast class, we talked about bootstrap confidence intervals, but today we will return to the classic statistical theory for constructing confidence intervals."
  },
  {
    "objectID": "slides/20_confidence-intervals.html#a-simple-example-normal-population",
    "href": "slides/20_confidence-intervals.html#a-simple-example-normal-population",
    "title": "MATH167R: Statistical inference",
    "section": "A simple example: Normal population",
    "text": "A simple example: Normal population\nA simple case is for constructing confidence intervals for a normally distributed population variable. If we assume\n\nThe population distribution is normal\nThe value of the population standard deviation \\(\\sigma\\) is known\n\nGiven samples \\(X_1,\\ldots, X_n\\), we can compute \\(\\overline{X}_n\\) and then\n\\[\\frac{\\overline{X}_n-\\mu}{\\sigma/\\sqrt{n}}\\sim N(0, 1)\\]"
  },
  {
    "objectID": "slides/20_confidence-intervals.html#a-simple-example-normal-population-1",
    "href": "slides/20_confidence-intervals.html#a-simple-example-normal-population-1",
    "title": "MATH167R: Statistical inference",
    "section": "A simple example: Normal population",
    "text": "A simple example: Normal population\nWe can thus compute a 95% confidence interval:\n\\[P\\left(-1.96&lt; \\frac{\\overline{X}_n-\\mu}{\\sigma/\\sqrt{n}}&lt;1.96\\right)=.95\\]\nAlgebraic manipulation yields\n\\[P\\left(\\overline{X}_n-1.96\\frac{\\sigma}{\\sqrt{n}}&lt;\\mu&lt;\\overline{X}_n+1.96\\frac{\\sigma}{\\sqrt{n}}\\right)=.95\\]\nThe final interval can be written as \\(\\overline{X}_n\\pm 1.96(\\sigma/\\sqrt{n})\\)."
  },
  {
    "objectID": "slides/20_confidence-intervals.html#a-simple-example-normal-population-2",
    "href": "slides/20_confidence-intervals.html#a-simple-example-normal-population-2",
    "title": "MATH167R: Statistical inference",
    "section": "A simple example: Normal population",
    "text": "A simple example: Normal population\nIn general, for a \\(100(1-\\alpha)\\%\\) confidence interval, we can use\n\\[P\\left(-z_{\\alpha/2}&lt; \\frac{\\overline{X}_n-\\mu}{\\sigma/\\sqrt{n}}&lt;z_{\\alpha/2}\\right)=1-\\alpha\\]\nwhere \\(z_{\\alpha/2}\\) is defined by \\(1 - P(Z\\leq z_{\\alpha/2})=\\alpha/2\\). This yields the interval\n\\[\\overline{X}_n\\pm z_{\\alpha/2}(\\sigma/\\sqrt{n})\\]"
  },
  {
    "objectID": "slides/20_confidence-intervals.html#interpretation",
    "href": "slides/20_confidence-intervals.html#interpretation",
    "title": "MATH167R: Statistical inference",
    "section": "Interpretation",
    "text": "Interpretation\nConsider the equation\n\\[P\\left(\\overline{X}_n-1.96\\frac{\\sigma}{\\sqrt{n}}&lt;\\mu&lt;\\overline{X}_n+1.96\\frac{\\sigma}{\\sqrt{n}}\\right)=.95\\]\nWhich elements of this equation are random?\n\nRemember, \\(\\overline{X}_n\\) and thus the interval itself are random. Prior to observing the data and computing \\(\\overline{X}_n\\), there is a .95 probability that the interval will include the true value of \\(\\mu\\).\n\n\nHowever, we cannot say anything about the probability that any particular confidence interval contains \\(\\mu\\)."
  },
  {
    "objectID": "slides/20_confidence-intervals.html#example-devore-7.1",
    "href": "slides/20_confidence-intervals.html#example-devore-7.1",
    "title": "MATH167R: Statistical inference",
    "section": "Example (Devore 7.1)",
    "text": "Example (Devore 7.1)\nA sample of \\(n=31\\) trained typists was selected, and the preferred keyboard height was determined for each typist. The resulting sample average preferred height was \\(x=80.0\\)cm.\nAssuming that the preferred height is normally distributed with \\(\\sigma = 2.0\\)cm, obtain a 95% confidence interval (interval of plausible values) for \\(\\mu\\), the true average preferred height.\n\n\\[\\overline{X}_n\\pm 1.96\\frac{2.0}{\\sqrt{31}}=80.0\\pm .7=(79.3, 80.7)\\]"
  },
  {
    "objectID": "slides/20_confidence-intervals.html#simulating-many-confidence-intervals",
    "href": "slides/20_confidence-intervals.html#simulating-many-confidence-intervals",
    "title": "MATH167R: Statistical inference",
    "section": "Simulating many confidence intervals",
    "text": "Simulating many confidence intervals\n\nn &lt;- 30 # sample size\nmu &lt;- 10 # unknown true mean\nsigma &lt;- 2 # known standard deviation\nXbars &lt;- replicate(100, mean(rnorm(n, mean = mu, sd = sigma)))\ncoverage_rate &lt;- mean(abs(Xbars - mu) &lt; 1.96 * sigma / sqrt(n))\ncoverage_rate\n\n[1] 0.92"
  },
  {
    "objectID": "slides/20_confidence-intervals.html#simulating-many-confidence-intervals-1",
    "href": "slides/20_confidence-intervals.html#simulating-many-confidence-intervals-1",
    "title": "MATH167R: Statistical inference",
    "section": "Simulating many confidence intervals",
    "text": "Simulating many confidence intervals\nCode to visualize all of our confidence intervals:\n\nlibrary(tidyverse)\nplot_dat &lt;- data.frame(id = 1:100,\n                       Xbar = Xbars) |&gt;\n  mutate(upper = Xbar + 1.96 * sigma / sqrt(n),\n         lower = Xbar - 1.96 * sigma / sqrt(n))\nggplot(plot_dat, \n       aes(x = id, y = Xbar, \n           color = abs(Xbars - mu) &lt; 1.96 * sigma / sqrt(n))) + \n  geom_errorbar(aes(ymin = lower, ymax = upper)) +\n  geom_abline(intercept = mu, slope = 0) + \n  theme(legend.position = \"none\")"
  },
  {
    "objectID": "slides/20_confidence-intervals.html#simulating-many-confidence-intervals-2",
    "href": "slides/20_confidence-intervals.html#simulating-many-confidence-intervals-2",
    "title": "MATH167R: Statistical inference",
    "section": "Simulating many confidence intervals",
    "text": "Simulating many confidence intervals"
  },
  {
    "objectID": "slides/20_confidence-intervals.html#large-sample-confidence-intervals",
    "href": "slides/20_confidence-intervals.html#large-sample-confidence-intervals",
    "title": "MATH167R: Statistical inference",
    "section": "Large-sample confidence intervals",
    "text": "Large-sample confidence intervals\nWhat if we do not know whether the population distribution is normal? Provided \\(n\\) is sufficiently large, the CLT implies that \\(\\overline{X}_n\\) is approximately normal regardless of the population distribution.\nWhat if we do not know \\(\\sigma?\\) Again, provided \\(n\\) is sufficiently large, we can replace \\(\\sigma\\) with the sample standard deviation \\(S\\).\nWe obtain the confidence interval formula:\n\\[\\overline{X}_n\\pm z_{\\alpha/2}(S/\\sqrt{n})\\]"
  },
  {
    "objectID": "slides/20_confidence-intervals.html#simulating-many-confidence-intervals-3",
    "href": "slides/20_confidence-intervals.html#simulating-many-confidence-intervals-3",
    "title": "MATH167R: Statistical inference",
    "section": "Simulating many confidence intervals",
    "text": "Simulating many confidence intervals\n\nn &lt;- 30 # sample size\nlambda &lt;- 10\nsample_stats_poisson &lt;- function() {\n  x &lt;- rpois(n, lambda)\n  return(c(mean(x), sd(x)))\n}\nstats &lt;- replicate(100, sample_stats_poisson())\nstats[, 1:5] # print out first five simulation results\n\n          [,1]      [,2]      [,3]     [,4]     [,5]\n[1,] 10.666667 10.733333 10.500000 9.633333 9.800000\n[2,]  2.940013  2.702915  2.933164 2.953471 3.252585\n\ncoverage_rate &lt;- mean(abs(stats[1,] - mu) &lt; 1.96 * stats[2,] / sqrt(n))\ncoverage_rate\n\n[1] 0.98"
  },
  {
    "objectID": "slides/20_confidence-intervals.html#when-n-is-small-but-sigma-unknown-t-intervals",
    "href": "slides/20_confidence-intervals.html#when-n-is-small-but-sigma-unknown-t-intervals",
    "title": "MATH167R: Statistical inference",
    "section": "When \\(n\\) is small but \\(\\sigma\\) unknown: \\(t\\)-intervals",
    "text": "When \\(n\\) is small but \\(\\sigma\\) unknown: \\(t\\)-intervals\nWhat about when \\(n\\) is small, but \\(\\sigma\\) is unknown? Assuming again that the population distribution is normal,\n\\[T=\\frac{\\overline{X}_n-\\mu}{S/\\sqrt{n}}\\]\nhas a \\(t\\) distribution with \\(n-1\\) degrees of freedom. We can thus use the confidence interval\n\\[\\overline{X}_n\\pm t_{\\alpha/2, n-1}(S/\\sqrt{n})\\] where \\(P(T\\leq t_{p, n-1})=p\\) when \\(T\\) follows a \\(t\\)-distribution with \\(n-1\\) degrees of freedom."
  },
  {
    "objectID": "slides/20_confidence-intervals.html#t-distribution-vs.-normal-distribution",
    "href": "slides/20_confidence-intervals.html#t-distribution-vs.-normal-distribution",
    "title": "MATH167R: Statistical inference",
    "section": "\\(t\\)-distribution vs. normal distribution",
    "text": "\\(t\\)-distribution vs. normal distribution"
  },
  {
    "objectID": "slides/20_confidence-intervals.html#assessing-normality-of-the-population-distribution",
    "href": "slides/20_confidence-intervals.html#assessing-normality-of-the-population-distribution",
    "title": "MATH167R: Statistical inference",
    "section": "Assessing normality of the population distribution",
    "text": "Assessing normality of the population distribution\nHow can we tell if the population distribution is normal? One simple check is to use a quantile-quantile (QQ) plot.\n\nUsing your data, estimate the quantiles using the empirical distribution.\nCompare the sample quantiles with the quantiles of a known distribution (often normal).\nIf the sample and theoretical quantiles appear to fall on a line, then the empirical distribution function will be similar to (a scaled version of) the theoretical distribution function."
  },
  {
    "objectID": "slides/20_confidence-intervals.html#example-precipitation",
    "href": "slides/20_confidence-intervals.html#example-precipitation",
    "title": "MATH167R: Statistical inference",
    "section": "Example: Precipitation",
    "text": "Example: Precipitation\nThe precip dataset includes annual precipitation in inches for a number of US cities. Is this normally distributed?\n\nhead(precip)\n\n     Mobile      Juneau     Phoenix Little Rock Los Angeles  Sacramento \n       67.0        54.7         7.0        48.5        14.0        17.2 \n\nhist(precip)"
  },
  {
    "objectID": "slides/20_confidence-intervals.html#example-precipitation-1",
    "href": "slides/20_confidence-intervals.html#example-precipitation-1",
    "title": "MATH167R: Statistical inference",
    "section": "Example: Precipitation",
    "text": "Example: Precipitation\nThe qqnorm() function can be used to compare the empirical/sample quantiles and the theoretical quantiles of a standard normal. The qqline() function adds a line that passes through the first and third quartiles.\n\nqqnorm(precip, ylab = \"Precipitation [in/yr] for 70 US cities\", pch = 16)\nqqline(precip)"
  },
  {
    "objectID": "slides/20_confidence-intervals.html#example-penguins",
    "href": "slides/20_confidence-intervals.html#example-penguins",
    "title": "MATH167R: Statistical inference",
    "section": "Example: Penguins",
    "text": "Example: Penguins\n\nlibrary(palmerpenguins)\ndata(penguins)\nqqnorm(penguins$bill_length_mm, ylab = \"Penguin bill lengths\", pch = 16)\nqqline(penguins$bill_length_mm)"
  },
  {
    "objectID": "slides/20_confidence-intervals.html#example-penguins-1",
    "href": "slides/20_confidence-intervals.html#example-penguins-1",
    "title": "MATH167R: Statistical inference",
    "section": "Example: Penguins",
    "text": "Example: Penguins\n\nhist(penguins$bill_length_mm)"
  },
  {
    "objectID": "slides/20_confidence-intervals.html#example-penguins-2",
    "href": "slides/20_confidence-intervals.html#example-penguins-2",
    "title": "MATH167R: Statistical inference",
    "section": "Example: Penguins",
    "text": "Example: Penguins\n\nadelie &lt;- penguins |&gt; dplyr::filter(species == \"Adelie\")\nqqnorm(adelie$bill_length_mm, ylab = \"Penguin bill lengths\", pch = 16)\nqqline(adelie$bill_length_mm)"
  },
  {
    "objectID": "slides/20_confidence-intervals.html#example-penguins-3",
    "href": "slides/20_confidence-intervals.html#example-penguins-3",
    "title": "MATH167R: Statistical inference",
    "section": "Example: Penguins",
    "text": "Example: Penguins\n\nhist(adelie$bill_length_mm)"
  },
  {
    "objectID": "slides/20_confidence-intervals.html#using-r-to-compute-confidence-intervals",
    "href": "slides/20_confidence-intervals.html#using-r-to-compute-confidence-intervals",
    "title": "MATH167R: Statistical inference",
    "section": "Using R to compute confidence intervals",
    "text": "Using R to compute confidence intervals\nGenerally, if you are only doing a simple normal-based or \\(t\\)-based confidence interval for a mean, I recommend computing \\(\\overline{X}_n\\) and \\(S\\) using mean() and sd(), and then computing the confidence interval by hand.\nYou can also use the t.test() function to compute the appropriate \\(t\\)-interval for a population mean:\n\nprecip_t &lt;- t.test(precip, conf.level = 0.95)\nprecip_ci &lt;- precip_t$conf.int # get confidence interval\nprecip_ci\n\n[1] 31.61748 38.15395\nattr(,\"conf.level\")\n[1] 0.95"
  },
  {
    "objectID": "slides/20_confidence-intervals.html#comparing-t-based-and-bootstrap-confidence-intervals",
    "href": "slides/20_confidence-intervals.html#comparing-t-based-and-bootstrap-confidence-intervals",
    "title": "MATH167R: Statistical inference",
    "section": "Comparing \\(t\\)-based and bootstrap confidence intervals",
    "text": "Comparing \\(t\\)-based and bootstrap confidence intervals\n\nbootstrap_Xbar &lt;- \n  replicate(10000, mean(sample(precip, size = length(precip), replace = TRUE)))\nquantile(bootstrap_Xbar, probs = c(.025, .975))\n\n    2.5%    97.5% \n31.78282 38.07286 \n\nprecip_ci\n\n[1] 31.61748 38.15395\nattr(,\"conf.level\")\n[1] 0.95\n\n\n\nIn this case, since \\(n\\) is large, the non-normality is not a big deal."
  },
  {
    "objectID": "slides/20_confidence-intervals.html#confidence-intervals-for-proportions",
    "href": "slides/20_confidence-intervals.html#confidence-intervals-for-proportions",
    "title": "MATH167R: Statistical inference",
    "section": "Confidence intervals for proportions",
    "text": "Confidence intervals for proportions\nFor large \\(n\\), the following confidence interval is often used for a population proportion:\n\\[\\widehat{p}\\pm z_{\\alpha/2}\\sqrt{\\frac{\\widehat{p}(1-\\widehat{p})}{n}}\\]\nNote that this formula only gives an approximate CI because of the use of \\(\\widehat{p}\\) when estimating the standard error of \\(\\widehat{p}\\)."
  },
  {
    "objectID": "slides/20_confidence-intervals.html#other-confidence-intervals",
    "href": "slides/20_confidence-intervals.html#other-confidence-intervals",
    "title": "MATH167R: Statistical inference",
    "section": "Other confidence intervals",
    "text": "Other confidence intervals\nR has implementations for confidence intervals for many types of population parameters, including for non-normally distributed populations. Always carefully read the documentation before using these functions."
  },
  {
    "objectID": "slides/20_confidence-intervals.html#summary",
    "href": "slides/20_confidence-intervals.html#summary",
    "title": "MATH167R: Statistical inference",
    "section": "Summary",
    "text": "Summary\nSuppose you have independent and identically distributed data \\(X_1,\\ldots, X_n\\) with mean \\(\\mu\\) and variance \\(\\sigma^2\\). If you wish to construct a confidence interval for a mean parameter \\(\\mu\\):\n\nWhen \\(n\\) is large, you can assume \\(\\overline{X}_n\\) is normally distributed with mean \\(\\mu\\) and variance \\(\\sigma^2/n\\).\nWhen \\(n\\) is small, but \\(X_1,\\ldots, X_n\\) are normally distributed,  you can use a \\(t\\)-interval since \\[T=\\frac{\\overline{X}_n-\\mu}{S/\\sqrt{n}}\\] has a \\(t\\)-distribution with \\(n-1\\) degrees of freedom.\nWhat about when \\(n\\) is small and \\(X_1,\\ldots, X_n\\) are not normally distributed, what do we do?"
  },
  {
    "objectID": "slides/20_confidence-intervals.html#simulations",
    "href": "slides/20_confidence-intervals.html#simulations",
    "title": "MATH167R: Statistical inference",
    "section": "Simulations",
    "text": "Simulations\nWhat if \\(n\\) is small and \\(X_1,\\ldots, X_n\\) are Poisson? Exponential? Negative binomial? We can use simulation to see how poorly our intervals do."
  },
  {
    "objectID": "slides/02_objects-classes.html#warm-up-getting-to-know-each-other",
    "href": "slides/02_objects-classes.html#warm-up-getting-to-know-each-other",
    "title": "MATH167R: Basic Definitions",
    "section": "Warm-up: Getting to know each other",
    "text": "Warm-up: Getting to know each other\nIn groups of two or three, share:\n\nIntroduce yourself\nDiscuss what you think the following code does (feel free to try it out):\n\n\nsides &lt;- 1:6\nrolls &lt;- sample(sides, 100, replace = T)\nprint(sum(rolls == 1))\n\n\n\n\n[1] 15"
  },
  {
    "objectID": "slides/02_objects-classes.html#overview-of-today",
    "href": "slides/02_objects-classes.html#overview-of-today",
    "title": "MATH167R: Basic Definitions",
    "section": "Overview of today",
    "text": "Overview of today\n\nBasic definitions: objects, expressions, functions, data types\nFile paths and file management\nR Markdown"
  },
  {
    "objectID": "slides/02_objects-classes.html#review",
    "href": "slides/02_objects-classes.html#review",
    "title": "MATH167R: Basic Definitions",
    "section": "Review",
    "text": "Review\n\n“To understand computations in R, two slogans are helpful: Everything that exists is an object. Everything that happens is a function call.”\n(Chambers, 2014)\n\nWe saw last class that we can use R to perform basic mathematical operations:\n\n3 + 5\n\n[1] 8"
  },
  {
    "objectID": "slides/02_objects-classes.html#expressions",
    "href": "slides/02_objects-classes.html#expressions",
    "title": "MATH167R: Basic Definitions",
    "section": "Expressions",
    "text": "Expressions\nWe saw last class that we can use R to perform basic mathematical operations:\n\n3 + 5\n\n[1] 8\n\n\nDefinition: an expression is a symbol or a combination of symbols that evaluates to a value.\n\n1 + 2\n\n[1] 3"
  },
  {
    "objectID": "slides/02_objects-classes.html#objects",
    "href": "slides/02_objects-classes.html#objects",
    "title": "MATH167R: Basic Definitions",
    "section": "Objects",
    "text": "Objects\nDefinition: An object is created when R evaluates an expression. The object is accessible only by name.\n\nAn anonymous object gets deleted from the computer memory by a process called garbage collection.\nA special object named .Last.value contains the value of the last evaluated expression (in console only)."
  },
  {
    "objectID": "slides/02_objects-classes.html#assignment",
    "href": "slides/02_objects-classes.html#assignment",
    "title": "MATH167R: Basic Definitions",
    "section": "Assignment",
    "text": "Assignment\nWe saw last class that we can assign names to values:\n\nx &lt;- 1 + 2\nx\n\n[1] 3\n\n\nDefinition: Assignment is an operation to bind an object to name, using the symbol &lt;-.\nNote: = and &lt;- are not generally equivalent. However, they are equivalent when they are used as assignment operators.\n\nx = 1 + 2\nx\n\n[1] 3"
  },
  {
    "objectID": "slides/02_objects-classes.html#check-your-understanding-assignment",
    "href": "slides/02_objects-classes.html#check-your-understanding-assignment",
    "title": "MATH167R: Basic Definitions",
    "section": "Check your understanding: Assignment",
    "text": "Check your understanding: Assignment\nWhat do you expect the output of the following chunks to be?\n\nx &lt;- 1\ny &lt;- x + 1\nx &lt;- 0\nz &lt;- y + 1\nprint(z)\n\n\na &lt;- 1\nb &lt;- a + 1\nb &lt;- 2 * b\nprint(b)"
  },
  {
    "objectID": "slides/02_objects-classes.html#check-your-understanding-assignment-1",
    "href": "slides/02_objects-classes.html#check-your-understanding-assignment-1",
    "title": "MATH167R: Basic Definitions",
    "section": "Check your understanding: Assignment",
    "text": "Check your understanding: Assignment\nWhat do you expect the output of the following chunks to be?\n\nx &lt;- 1\ny &lt;- x + 1\nx &lt;- 0\nz &lt;- y + 1\nprint(z)\n\n[1] 3\n\n\n\na &lt;- 1\nb &lt;- a + 1\nb &lt;- 2 * b\nprint(b)\n\n[1] 4"
  },
  {
    "objectID": "slides/02_objects-classes.html#objects-and-data",
    "href": "slides/02_objects-classes.html#objects-and-data",
    "title": "MATH167R: Basic Definitions",
    "section": "Objects and data",
    "text": "Objects and data\nWe can use assignments to save values as named objects and perform math on the objects:\n\nx &lt;- 3\ny &lt;- 5\nx + y\n\n[1] 8\n\n\nToday we’ll see that R can handle objects that are not numbers:\n\nz &lt;- \"Hello\"\n\n\nNote: be careful because not all operations work with all types of data:\n\nx + z\n\nError in x + z: non-numeric argument to binary operator"
  },
  {
    "objectID": "slides/02_objects-classes.html#atomic-vectors",
    "href": "slides/02_objects-classes.html#atomic-vectors",
    "title": "MATH167R: Basic Definitions",
    "section": "Atomic vectors",
    "text": "Atomic vectors\nThe most basic type of object in R used for storing values is the atomic vector. The four most common types of atomic vectors are:\n\nlogical: ex. TRUE or FALSE\ninteger: ex. 1, 2, 3, 4, …\ndouble: ex. 3.1\ncharacter: ex. \"Hello\"\n\nIntegers and doubles are both also called numeric vectors."
  },
  {
    "objectID": "slides/02_objects-classes.html#atomic-vectors-1",
    "href": "slides/02_objects-classes.html#atomic-vectors-1",
    "title": "MATH167R: Basic Definitions",
    "section": "Atomic vectors",
    "text": "Atomic vectors\n\nHierarchical diagram of atomic vector types in Rfrom Advanced R, Hadley Wickham."
  },
  {
    "objectID": "slides/02_objects-classes.html#atomic-vectors-2",
    "href": "slides/02_objects-classes.html#atomic-vectors-2",
    "title": "MATH167R: Basic Definitions",
    "section": "Atomic vectors",
    "text": "Atomic vectors\n\nexample_lgc &lt;- T\nexample_int &lt;- 1L\n\nThe typeof function can be used to get the data type of an object.\n\n\ntypeof(example_lgc)\n\n[1] \"logical\"\n\ntypeof(example_int)\n\n[1] \"integer\""
  },
  {
    "objectID": "slides/02_objects-classes.html#atomic-vectors-3",
    "href": "slides/02_objects-classes.html#atomic-vectors-3",
    "title": "MATH167R: Basic Definitions",
    "section": "Atomic vectors",
    "text": "Atomic vectors\n\nexample_dbl &lt;- 1.0\nexample_chr &lt;- \"Hello\"\n\nThe typeof function can be used to get the data type of an object.\n\n\ntypeof(example_dbl)\n\n[1] \"double\"\n\ntypeof(example_chr)\n\n[1] \"character\""
  },
  {
    "objectID": "slides/02_objects-classes.html#coercion",
    "href": "slides/02_objects-classes.html#coercion",
    "title": "MATH167R: Basic Definitions",
    "section": "Coercion",
    "text": "Coercion\nYou can explicitly change the type of an object:\n\nas.numeric(example_lgc)\n\n[1] 1\n\nas.numeric(example_chr)\n\n[1] NA"
  },
  {
    "objectID": "slides/02_objects-classes.html#coercion-1",
    "href": "slides/02_objects-classes.html#coercion-1",
    "title": "MATH167R: Basic Definitions",
    "section": "Coercion",
    "text": "Coercion\nWhen elements of different types are mixed in an atomic vector, R automatically converts all of them to the same type.\nOrder of precedence, from the highest to the lowest: character, numeric, integer, logical.\n\nc(TRUE, \"hello\", 1)\n\n[1] \"TRUE\"  \"hello\" \"1\""
  },
  {
    "objectID": "slides/02_objects-classes.html#special-values",
    "href": "slides/02_objects-classes.html#special-values",
    "title": "MATH167R: Basic Definitions",
    "section": "Special values",
    "text": "Special values\n\n\n\n\n\n\n\nValue\nUsual meaning\n\n\n\n\nNA\nMissing values\n\n\nNaN\na computed value that is not a number\n\n\nNULL\nan object with no value\n\n\n-Inf and Inf\na computed value that is large (or large and negative)"
  },
  {
    "objectID": "slides/02_objects-classes.html#environment",
    "href": "slides/02_objects-classes.html#environment",
    "title": "MATH167R: Basic Definitions",
    "section": "Environment",
    "text": "Environment\nWhen R evaluates an expression such as x + 1, how does R locate the object associated with the name x?\n\nDuring an assignment, the binding between an object and its name is stored in an environment.\n\n\nWhen R starts, a global environment (sometimes called a workspace) is created; every subsequent assignment that takes place at the command prompt adds objects to this environment."
  },
  {
    "objectID": "slides/02_objects-classes.html#environment-1",
    "href": "slides/02_objects-classes.html#environment-1",
    "title": "MATH167R: Basic Definitions",
    "section": "Environment",
    "text": "Environment\nWe will see later that we can enter local environments within the global environment and define objects that are confined to these local environments.\nThe ls() command displays object in the current global environment.\nTo remove objects, we can use the rm() command."
  },
  {
    "objectID": "slides/02_objects-classes.html#operators",
    "href": "slides/02_objects-classes.html#operators",
    "title": "MATH167R: Basic Definitions",
    "section": "Operators",
    "text": "Operators\nAn operator is a symbol that tells the compiler to perform specific mathematical or logical operations.\nTypes of operators:\n\nAssignment operators\nArithmetic operators\nLogical operators\nRelational operators"
  },
  {
    "objectID": "slides/02_objects-classes.html#arithmetic-operators",
    "href": "slides/02_objects-classes.html#arithmetic-operators",
    "title": "MATH167R: Basic Definitions",
    "section": "Arithmetic Operators",
    "text": "Arithmetic Operators\n\n\n\nOperator\nOperation\nExample\nResult\n\n\n\n\n+\nAddition\n&gt; 3 + 4\n[1] 7\n\n\n-\nSubtraction\n&gt; 3 - 4\n[1] -1\n\n\n*\nMultiplication\n&gt; 3 * 4\n[1] 12\n\n\n/\nDivision\n&gt; 3 / 4\n[1] 0.75"
  },
  {
    "objectID": "slides/02_objects-classes.html#arithmetic-operators-1",
    "href": "slides/02_objects-classes.html#arithmetic-operators-1",
    "title": "MATH167R: Basic Definitions",
    "section": "Arithmetic Operators",
    "text": "Arithmetic Operators\n\n\n\nOperator\nOperation\nExample\nResult\n\n\n\n\n^ or **\nExponentiation\n&gt; 3 ^ 4\n[1] 81\n\n\n%%\nModulo\n&gt; 3 %% 4\n[1] 3"
  },
  {
    "objectID": "slides/02_objects-classes.html#logical-operators",
    "href": "slides/02_objects-classes.html#logical-operators",
    "title": "MATH167R: Basic Definitions",
    "section": "Logical Operators",
    "text": "Logical Operators\n\n\n\nOperator\nOperation\nExample\n\nResult\n\n\n\n\n&\nAND\n&gt; TRUE & FALSE\n\n[1] FALSE\n\n\n|\nOR\n&gt; TRUE | FALSE\n\n[1] TRUE\n\n\n!\nNOT\n&gt; !TRUE\n\n[1] FALSE"
  },
  {
    "objectID": "slides/02_objects-classes.html#relational-operators",
    "href": "slides/02_objects-classes.html#relational-operators",
    "title": "MATH167R: Basic Definitions",
    "section": "Relational Operators",
    "text": "Relational Operators\n\n\n\nOperator\nOperation\nExample\nResult\n\n\n\n\n&gt;\ngreater than\n&gt; 2 &gt; 1\n[1] TRUE\n\n\n&gt;=\ngreater than or equal to\n&gt; 2 &gt;= 1\n[1] TRUE\n\n\n==\nequal\n&gt; 2 == 1\n[1] FALSE\n\n\n&lt;=\nless than or equal to\n&gt; 2 &lt;= 1\n[1] FALSE\n\n\n&lt;\nless than\n&gt; 2 &lt; 1\n[1] FALSE\n\n\n!=\nnot equal to\n&gt; 2 != 1\n[1] TRUE"
  },
  {
    "objectID": "slides/02_objects-classes.html#check-your-understanding-operators",
    "href": "slides/02_objects-classes.html#check-your-understanding-operators",
    "title": "MATH167R: Basic Definitions",
    "section": "Check your understanding: Operators",
    "text": "Check your understanding: Operators\n\nTRUE & FALSE & TRUE\nTRUE & (FALSE | TRUE)\n1 &lt; 4\n(1 &lt; 4) & (3 &gt; 4)"
  },
  {
    "objectID": "slides/02_objects-classes.html#check-your-understanding-operators-1",
    "href": "slides/02_objects-classes.html#check-your-understanding-operators-1",
    "title": "MATH167R: Basic Definitions",
    "section": "Check your understanding: Operators",
    "text": "Check your understanding: Operators\nAnswers:\n\nTRUE & FALSE & TRUE\n\n[1] FALSE\n\nTRUE & (FALSE | TRUE)\n\n[1] TRUE\n\n1 &lt; 4\n\n[1] TRUE\n\n(1 &lt; 4) & (3 &gt; 4)\n\n[1] FALSE"
  },
  {
    "objectID": "slides/02_objects-classes.html#the-working-directory",
    "href": "slides/02_objects-classes.html#the-working-directory",
    "title": "MATH167R: Basic Definitions",
    "section": "The working directory",
    "text": "The working directory\n\nThe working directory is a folder where files are retrieved from or saved to by default.\nThe command getwd() gets the working directory, which usually is:\n\n/Users/USERNAME on Apple\nC:\\Users\\USERNAME on Windows\n\nFiles on a computer are grouped into folders, which are organized in a hierarchy.\nThe absolute pathname of a file describes its location in the hierarchy."
  },
  {
    "objectID": "slides/02_objects-classes.html#relative-pathnames",
    "href": "slides/02_objects-classes.html#relative-pathnames",
    "title": "MATH167R: Basic Definitions",
    "section": "Relative pathnames",
    "text": "Relative pathnames\nThe relative pathname of a file specifies its location relative to the working directory.\n\nThe command setwd() sets the working directory for the current R session.\n\n\ngetwd()\nsetwd(\"/Users/pgao/Desktop\")\n\n\nOn Windows, add C: to the beginning of the absolute pathname.\n\n\ngetwd()\nsetwd(\"C:/Documents/\")"
  },
  {
    "objectID": "slides/02_objects-classes.html#example-file-structure",
    "href": "slides/02_objects-classes.html#example-file-structure",
    "title": "MATH167R: Basic Definitions",
    "section": "Example file structure",
    "text": "Example file structure\n\nHierarchical tree diagram showing file structure starting from root directory branching to folder1 and folder2, with folder1 containing three files and folder2 branching to folder3 and folder4."
  },
  {
    "objectID": "slides/02_objects-classes.html#project-based-workflow",
    "href": "slides/02_objects-classes.html#project-based-workflow",
    "title": "MATH167R: Basic Definitions",
    "section": "Project-based workflow",
    "text": "Project-based workflow\nIn this class, I encourage you to organize all your code/assignments/files into a single MATH167R folder.\nOnce you create this folder, you can create an RStudio Project, which will create a file that tells RStudio that all the code in the folder is associated with a single project.\nAny code in the project folder assumes that the working directory is the project root directory. This ensures that the project can be moved around your computer or onto another computer and none of the paths will break. This solves the issue of everyone having differing home directories."
  },
  {
    "objectID": "slides/02_objects-classes.html#project-based-workflow-1",
    "href": "slides/02_objects-classes.html#project-based-workflow-1",
    "title": "MATH167R: Basic Definitions",
    "section": "Project-based workflow",
    "text": "Project-based workflow\n\nCreate a folder called MATH167R on your computer.\nIn RStudio, click File &gt; New Project &gt; Existing Directory and select your MATH167R folder. This will create an .Rproj file that indicates to R where the working directory for this project should be.\n(Optional) Create a shortcut to this .Rproj file to easily open your work for this class."
  },
  {
    "objectID": "slides/02_objects-classes.html#example-file-structure-for-math167r",
    "href": "slides/02_objects-classes.html#example-file-structure-for-math167r",
    "title": "MATH167R: Basic Definitions",
    "section": "Example file structure for MATH167R",
    "text": "Example file structure for MATH167R\nMATH167R\n├── labs\n│   ├── 01_lab.R\n│   └── 02_lab.R\n├── checkins\n│   ├── 01_checkin.R\n│   └── 02_checkin.R\n├── project\n│   └── data\n│       └── trees.csv\n└── exams"
  },
  {
    "objectID": "slides/02_objects-classes.html#naming-files",
    "href": "slides/02_objects-classes.html#naming-files",
    "title": "MATH167R: Basic Definitions",
    "section": "Naming files",
    "text": "Naming files\nTips from Jenny Bryan:\n\nmachine readable\nhuman readable\nplays well with default ordering"
  },
  {
    "objectID": "slides/02_objects-classes.html#naming-files-1",
    "href": "slides/02_objects-classes.html#naming-files-1",
    "title": "MATH167R: Basic Definitions",
    "section": "Naming files",
    "text": "Naming files\n\n\nBad:\n\nnewfinal2actualFINALnew.docx\nmy first lab.R\nstuff.R\n\n\nBetter:\n\n01_lab1.Rmd\nanalysis_functions.R\n2020-01-08_labWriteup.Rmd"
  },
  {
    "objectID": "slides/02_objects-classes.html#r-markdown-1",
    "href": "slides/02_objects-classes.html#r-markdown-1",
    "title": "MATH167R: Basic Definitions",
    "section": "R Markdown",
    "text": "R Markdown\nR Markdown files (see examples here)\n\nCombine code, output, and writing\nSelf-contained analyses\nCreates HTML, PDF, slides (like these!), webpages, …\nwill be required for assignments"
  },
  {
    "objectID": "slides/02_objects-classes.html#your-first-rmarkdown-file",
    "href": "slides/02_objects-classes.html#your-first-rmarkdown-file",
    "title": "MATH167R: Basic Definitions",
    "section": "Your first RMarkdown file",
    "text": "Your first RMarkdown file\n\nOpen this link. At the top right corner of this website, click “Code” to get the code for this document.\n\nAt the top of the file, you should see the following header:\n---\ntitle: \"Check-in 1: R Markdown\"\nauthor: \"YOUR NAME HERE\"\ndate: \"2024-01-29\"\noutput: html_document\n---\nThis header contains metadata about the document that follows: the name of the file, the author, the date, and what kind of output it will create. Highlight all this code and copy it to your clipboard."
  },
  {
    "objectID": "slides/02_objects-classes.html#your-first-rmarkdown-file-1",
    "href": "slides/02_objects-classes.html#your-first-rmarkdown-file-1",
    "title": "MATH167R: Basic Definitions",
    "section": "Your first RMarkdown file",
    "text": "Your first RMarkdown file\n\nIn RStudio, click File &gt; New File &gt; R Markdown &gt; OK to accept all default options. A new .Rmd file should open. Replace everything in the new file with your copied code.\n\n---\ntitle: \"Check-in 1: R Markdown\"\nauthor: \"YOUR NAME HERE\"\ndate: \"2024-01-29\"\noutput: html_document\n---\nThis header contains metadata about the document that follows: the name of the file, the author, the date, and what kind of output it will create."
  },
  {
    "objectID": "slides/02_objects-classes.html#source-editor",
    "href": "slides/02_objects-classes.html#source-editor",
    "title": "MATH167R: Basic Definitions",
    "section": "Source Editor",
    "text": "Source Editor\n\nScreenshot of source editor with header, followed by plain text, followed by code chunk wrapped in tick marks"
  },
  {
    "objectID": "slides/02_objects-classes.html#visual-editor",
    "href": "slides/02_objects-classes.html#visual-editor",
    "title": "MATH167R: Basic Definitions",
    "section": "Visual Editor",
    "text": "Visual Editor\n\nScreenshot of visual editor with header, followed by plain text, followed by code chunk"
  },
  {
    "objectID": "slides/02_objects-classes.html#code-chunks",
    "href": "slides/02_objects-classes.html#code-chunks",
    "title": "MATH167R: Basic Definitions",
    "section": "Code chunks",
    "text": "Code chunks\nCode chunks contain R code that is evaluated when you render your R Markdown report. You can insert a code chunk by clicking Insert &gt; Code Chunk or by typing the chunk delimiters ```{r} and ``` .\nChunk output can be customized with optional arguments set in the {} of a chunk header, as we will see in Lab 01."
  },
  {
    "objectID": "slides/02_objects-classes.html#r-markdown-and-directory-weirdness",
    "href": "slides/02_objects-classes.html#r-markdown-and-directory-weirdness",
    "title": "MATH167R: Basic Definitions",
    "section": "R Markdown (and directory weirdness)",
    "text": "R Markdown (and directory weirdness)\n\nR Markdown handles all the tricky file management–just put the file you want to access in the same folder as your .Rmd file\nThis can be confusing/frustrating—patience is key!"
  },
  {
    "objectID": "slides/02_objects-classes.html#r-markdown-2",
    "href": "slides/02_objects-classes.html#r-markdown-2",
    "title": "MATH167R: Basic Definitions",
    "section": "R Markdown",
    "text": "R Markdown\nRemember the following:\n\nR Markdown produces fully reproducible reports – each time you render, you run the analysis from the beginning of the document.\nCode goes in chunks, while the explanation/narrative goes outside of chunks\nRStudio now provides a visual editor for a familiar / Google docs-like editing experience"
  },
  {
    "objectID": "slides/02_objects-classes.html#check-in-1",
    "href": "slides/02_objects-classes.html#check-in-1",
    "title": "MATH167R: Basic Definitions",
    "section": "Check-in 1",
    "text": "Check-in 1\nNot due for a while, but in your interest to do this ASAP to make sure R Markdown is working!"
  },
  {
    "objectID": "slides/25_advanced-statistics.html#overview-of-today",
    "href": "slides/25_advanced-statistics.html#overview-of-today",
    "title": "MATH167R: Advanced statistical methods",
    "section": "Overview of today",
    "text": "Overview of today\n\nLogistic regression\nANOVA\nThe \\(F\\)-test for Regression Analysis"
  },
  {
    "objectID": "slides/25_advanced-statistics.html#logistic-regression",
    "href": "slides/25_advanced-statistics.html#logistic-regression",
    "title": "MATH167R: Advanced statistical methods",
    "section": "Logistic regression",
    "text": "Logistic regression\nWhen we have binary outcomes \\(Y_1,\\ldots, Y_n\\) where \\(Y_i\\in \\{0, 1\\}\\) for all \\(i\\), it may be inappropriate to use linear regression to model the relationships between \\(Y\\) and covariates \\(X\\).\nLogistic regression can be used to relate the probability that \\(Y_i=1\\) to available covariates."
  },
  {
    "objectID": "slides/25_advanced-statistics.html#logistic-regression-1",
    "href": "slides/25_advanced-statistics.html#logistic-regression-1",
    "title": "MATH167R: Advanced statistical methods",
    "section": "Logistic regression",
    "text": "Logistic regression\nModel:\n\\[P(Y_i=1)=p_i\\] \\[\\text{logit}(p_i)=\\log\\left(\\frac{p_i}{1-p_i}\\right)=\\mathbf{x}_i^\\top\\boldsymbol\\beta\\] where \\(\\mathbf{X}_i\\) is the covariate vector for individual \\(i\\) and \\(\\boldsymbol\\beta\\) is a vector of regression covariates.\nNote that the logit transformation has domain \\((0,1)\\) and range \\((-\\infty, \\infty)\\)."
  },
  {
    "objectID": "slides/25_advanced-statistics.html#logistic-regression-2",
    "href": "slides/25_advanced-statistics.html#logistic-regression-2",
    "title": "MATH167R: Advanced statistical methods",
    "section": "Logistic regression",
    "text": "Logistic regression\nWhen we have only one covariate \\(x\\), the model is as follows:\n\\[\\text{logit}(p(x))=\\log\\left(\\frac{p(x)}{1-p(x)}\\right)=\\beta_0+\\beta_1 x\\]\nwhere \\(p(x)\\) represents the probability that an individual with covariate value \\(x\\) experiences the response/event of interest.\nWhat is the interpretation of \\(\\beta_0\\)? What about \\(\\beta_1\\)?"
  },
  {
    "objectID": "slides/25_advanced-statistics.html#logistic-regression-3",
    "href": "slides/25_advanced-statistics.html#logistic-regression-3",
    "title": "MATH167R: Advanced statistical methods",
    "section": "Logistic regression",
    "text": "Logistic regression\nConsider the model \\[\\log\\left(\\frac{p}{1-p}\\right)=\\beta_0+\\beta_1 x\\] implies \\[\\frac{p}{1-p}=\\exp(\\beta_0+\\beta_1 x)=\\exp(\\beta_0)\\exp(\\beta_1 x)=\\exp(\\beta_0)\\exp(\\beta_1)^x\\] When \\(x\\) increases by one unit, the odds are multiplied by a factor of \\(\\exp(\\beta_1)\\)."
  },
  {
    "objectID": "slides/25_advanced-statistics.html#odds-vs.-probability",
    "href": "slides/25_advanced-statistics.html#odds-vs.-probability",
    "title": "MATH167R: Advanced statistical methods",
    "section": "Odds vs. probability",
    "text": "Odds vs. probability\nIf the probability of rain tomorrow is 60%, what are the odds of rain occurring tomorrow?\nIf the odds of rain occurring are 2:1, what is the probability of rain occurring?"
  },
  {
    "objectID": "slides/25_advanced-statistics.html#example-challenger-disaster",
    "href": "slides/25_advanced-statistics.html#example-challenger-disaster",
    "title": "MATH167R: Advanced statistical methods",
    "section": "Example: Challenger disaster",
    "text": "Example: Challenger disaster\nOn January 28, 1986, the Challenger space shuttle suffered an accident shortly after launch, killing all crew members on board. An investigation suspected that damage to a set of critical parts called O-rings caused the disaster. It is believed that the damage is related to the temperature at launch time. The following data summarize data on O-rings for 23 shuttle missions.\n\norings &lt;- readr::read_csv(\"https://www.openintro.org/data/csv/orings.csv\")\nhead(orings)\n\n# A tibble: 6 × 4\n  mission temperature damaged undamaged\n    &lt;dbl&gt;       &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;\n1       1          53       5         1\n2       2          57       1         5\n3       3          58       1         5\n4       4          63       1         5\n5       5          66       0         6\n6       6          67       0         6"
  },
  {
    "objectID": "slides/25_advanced-statistics.html#example-challenger-disaster-1",
    "href": "slides/25_advanced-statistics.html#example-challenger-disaster-1",
    "title": "MATH167R: Advanced statistical methods",
    "section": "Example: Challenger disaster",
    "text": "Example: Challenger disaster\nThis plot visualizes the empirical proportion of damaged O-rings for each mission:\n\nplot((damaged / 6) ~ temperature, data = orings, pch = 16,\n     ylab = \"Proportion of O-rings damaged\", xlab = \"Temperature (F)\")"
  },
  {
    "objectID": "slides/25_advanced-statistics.html#example-challenger-disaster-2",
    "href": "slides/25_advanced-statistics.html#example-challenger-disaster-2",
    "title": "MATH167R: Advanced statistical methods",
    "section": "Example: Challenger disaster",
    "text": "Example: Challenger disaster\nThe glm() function can be used to fit generalized linear models including logistic regression models. The family argument is used to specify the distribution of the response variable (in this case, binomial for a logistic rgression).\n\norings_res &lt;- glm((damaged &gt; 0) ~ temperature, data = orings, family = binomial)\nsummary(orings_res)\n\n\nCall:\nglm(formula = (damaged &gt; 0) ~ temperature, family = binomial, \n    data = orings)\n\nCoefficients:\n            Estimate Std. Error z value Pr(&gt;|z|)  \n(Intercept)  15.0429     7.3786   2.039   0.0415 *\ntemperature  -0.2322     0.1082  -2.145   0.0320 *\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 28.267  on 22  degrees of freedom\nResidual deviance: 20.315  on 21  degrees of freedom\nAIC: 24.315\n\nNumber of Fisher Scoring iterations: 5"
  },
  {
    "objectID": "slides/25_advanced-statistics.html#example-challenger-disaster-3",
    "href": "slides/25_advanced-statistics.html#example-challenger-disaster-3",
    "title": "MATH167R: Advanced statistical methods",
    "section": "Example: Challenger disaster",
    "text": "Example: Challenger disaster\nHere, our estimate of \\(\\beta_0\\) is \\(\\widehat{\\beta}_0=15.04\\) and our estimate of \\(\\beta_1\\) is \\(\\widehat{\\beta}_1=-.23\\).\nWe can interpret \\(\\beta_1\\) as follows: for each additional degree of ambient temperature, the log-odds of experiencing an O-ring failure decreases by \\(.23\\).\nIn other words, the odds changes by a factor of \\(\\exp(.23)\\approx.79\\) as temperature increases by one degree.\nNote that the \\(p\\)-value for \\(\\beta_1\\) is significant at the \\(.05\\) level, suggesting that we can reject the null hypothesis that \\(\\beta_1=0\\) (that temperature is not associated with O-ring failure)."
  },
  {
    "objectID": "slides/25_advanced-statistics.html#example-challenger-disaster-4",
    "href": "slides/25_advanced-statistics.html#example-challenger-disaster-4",
    "title": "MATH167R: Advanced statistical methods",
    "section": "Example: Challenger disaster",
    "text": "Example: Challenger disaster\nWe can use many of the functions we used with lm objects, including:\n\nfitted() returns the predicted probabilities for a logistic regression\npredict() can be used to generate predictions\nplot() returns a series of diagnostic plots\nresiduals() returns residuals–not that these are not usually the typical observed minus predicted residuals.\nanova() can be used to assess the model fit for glm objects."
  },
  {
    "objectID": "slides/25_advanced-statistics.html#example-challenger-disaster-5",
    "href": "slides/25_advanced-statistics.html#example-challenger-disaster-5",
    "title": "MATH167R: Advanced statistical methods",
    "section": "Example: Challenger disaster",
    "text": "Example: Challenger disaster\n\nfitted(orings_res)\n\n         1          2          3          4          5          6          7 \n0.93924781 0.85931657 0.82884484 0.60268105 0.43049313 0.37472428 0.37472428 \n         8          9         10         11         12         13         14 \n0.37472428 0.32209405 0.27362105 0.22996826 0.22996826 0.22996826 0.22996826 \n        15         16         17         18         19         20         21 \n0.15804910 0.12954602 0.08554356 0.08554356 0.06904407 0.06904407 0.04454055 \n        22         23 \n0.03564141 0.02270329"
  },
  {
    "objectID": "slides/25_advanced-statistics.html#example-challenger-disaster-6",
    "href": "slides/25_advanced-statistics.html#example-challenger-disaster-6",
    "title": "MATH167R: Advanced statistical methods",
    "section": "Example: Challenger disaster",
    "text": "Example: Challenger disaster\n\nbase_res &lt;- glm((damaged &gt; 0) ~ 1, data = orings, family = binomial)\nanova(orings_res, base_res, test = \"F\")\n\nAnalysis of Deviance Table\n\nModel 1: (damaged &gt; 0) ~ temperature\nModel 2: (damaged &gt; 0) ~ 1\n  Resid. Df Resid. Dev Df Deviance     F   Pr(&gt;F)   \n1        21     20.315                              \n2        22     28.267 -1   -7.952 7.952 0.004804 **\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1"
  },
  {
    "objectID": "slides/25_advanced-statistics.html#analysis-of-variance",
    "href": "slides/25_advanced-statistics.html#analysis-of-variance",
    "title": "MATH167R: Advanced statistical methods",
    "section": "Analysis of Variance",
    "text": "Analysis of Variance\nThe analysis of variance or ANOVA is a collection of statistical methods used to compare two or more groups to assess the differences between group means.\nThe simplest ANOVA provides a test of whether two or more population means are equivalent. As such the ANOVA is a generalization of the two sample \\(t\\)-test.\nANOVA is typically said to be introduced by Ronald Fisher, who applied the method to study the variation in crop yield related to different fertiliser treatments."
  },
  {
    "objectID": "slides/25_advanced-statistics.html#one-way-anova",
    "href": "slides/25_advanced-statistics.html#one-way-anova",
    "title": "MATH167R: Advanced statistical methods",
    "section": "One-way ANOVA",
    "text": "One-way ANOVA\nOne-way ANOVA or single-factor ANOVA is used to compare two or more population means. Let \\(I\\) be the number of groups/populations and \\(\\mu_I\\) to be the population mean of the response of interest for group \\(I\\).\nHypotheses:\n\n\\(H_0:\\mu_1=\\ldots=\\mu_I\\)\n\\(H_a: \\text{at least two of the means are different}\\)\n\nAssumptions:\n\nThe population distributions are all normal with the same variance \\(\\sigma^2\\)."
  },
  {
    "objectID": "slides/25_advanced-statistics.html#test-statistic",
    "href": "slides/25_advanced-statistics.html#test-statistic",
    "title": "MATH167R: Advanced statistical methods",
    "section": "Test Statistic",
    "text": "Test Statistic\nThe \\(F\\) test is commonly used to compare the causes of the total variation. In particular, the \\(F\\) test statistic is defined as\n\\[F=\\frac{\\text{variance between groups}}{\\text{variance within groups}}\\]\nIf \\(F\\) is large, then there may be evidence to reject the hypothesis that the group means are all equal."
  },
  {
    "objectID": "slides/25_advanced-statistics.html#test-statistic-1",
    "href": "slides/25_advanced-statistics.html#test-statistic-1",
    "title": "MATH167R: Advanced statistical methods",
    "section": "Test Statistic",
    "text": "Test Statistic\n\\[F=\\frac{\\text{variance between groups}}{\\text{variance within groups}}=\\frac{\n\\text{Mean Square for Treatments}}{\\text{Mean Square for Error}}\\]\nIn a balanced design, where each group has the same number of \\(J\\) samples, and \\(X_{i, j}\\) denotes the \\(j\\)th measurement from group \\(i\\), the mean square terms have the following formulas:\n\\[\\text{Mean Square for Treatments}=\\frac{J}{I-1}\\sum_i(\\overline{X}_i-\\overline{X}_{\\cdot\\cdot})^2\\]\nwhere \\(\\overline{X}_i\\) is the sample group mean and \\(\\overline{X}_{\\cdot\\cdot}\\) is the overall sample mean.\n\\[\\text{Mean Square for Error}=\\frac{S_1^2+S_2^2+\\cdots+S_I^2}{I}\\]"
  },
  {
    "objectID": "slides/25_advanced-statistics.html#example-plantgrowth",
    "href": "slides/25_advanced-statistics.html#example-plantgrowth",
    "title": "MATH167R: Advanced statistical methods",
    "section": "Example: PlantGrowth",
    "text": "Example: PlantGrowth\nThe PlantGrowth data provides results from an experiment comparing plant growth under a control and two different treatment conditions.\n\nboxplot(weight ~ group, data = PlantGrowth, main = \"PlantGrowth data\",\n        ylab = \"Dried weight of plants\", col = \"lightgray\")"
  },
  {
    "objectID": "slides/25_advanced-statistics.html#example-plantgrowth-1",
    "href": "slides/25_advanced-statistics.html#example-plantgrowth-1",
    "title": "MATH167R: Advanced statistical methods",
    "section": "Example: PlantGrowth",
    "text": "Example: PlantGrowth\n\nanova_res &lt;- anova(lm(weight ~ group, data = PlantGrowth))\nanova_res\n\nAnalysis of Variance Table\n\nResponse: weight\n          Df  Sum Sq Mean Sq F value  Pr(&gt;F)  \ngroup      2  3.7663  1.8832  4.8461 0.01591 *\nResiduals 27 10.4921  0.3886                  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1"
  },
  {
    "objectID": "slides/25_advanced-statistics.html#obtaining-a-p-value-with-an-f-test-statistic",
    "href": "slides/25_advanced-statistics.html#obtaining-a-p-value-with-an-f-test-statistic",
    "title": "MATH167R: Advanced statistical methods",
    "section": "Obtaining a \\(p\\)-value with an \\(F\\)-test statistic",
    "text": "Obtaining a \\(p\\)-value with an \\(F\\)-test statistic\nWhen \\(H_0\\) is true, \\(F\\) follows an \\(F\\)-distribution with \\(\\nu_1=I-1\\) and \\(\\nu_2=I(J-1)\\).\n\nlibrary(ggplot2)\nx &lt;- data.frame(x = seq(0, 8, length.out = 3))\nggplot(x, aes(x = x)) + \n  geom_function(fun = df, args = list(df1 = 2, df2 = 27)) + \n  geom_vline(xintercept = anova_res$`F value`, color = \"red\") +\n  theme_minimal()"
  },
  {
    "objectID": "slides/25_advanced-statistics.html#the-f-distribution",
    "href": "slides/25_advanced-statistics.html#the-f-distribution",
    "title": "MATH167R: Advanced statistical methods",
    "section": "The \\(F\\)-distribution",
    "text": "The \\(F\\)-distribution\nThe \\(F\\) distribution has two parameters:\n\nnumerator degrees of freedom \\(\\nu_1\\)\ndenominator degrees of freedom \\(\\nu_2\\)\n\nThe \\(F\\) distribution was derived as the ratio of (scaled) chi-square random variables and is frequently used to model the null distribution of test statistics.\n\\[F = \\frac{U_1/d_1}{U_2/d_2}\\]\nwhere \\(U_1\\) is chi-square with \\(d_1\\) degrees of freedom, \\(U_2\\) is chi-square with \\(d_2\\) degrees of freedom, and \\(U_1\\) and \\(U_2\\) are independent."
  },
  {
    "objectID": "slides/25_advanced-statistics.html#example-emails",
    "href": "slides/25_advanced-statistics.html#example-emails",
    "title": "MATH167R: Advanced statistical methods",
    "section": "Example: emails",
    "text": "Example: emails\nThe emails data provides information on emails categorized as spam and non-spam.\n\nemails &lt;- read.csv(\"https://www.openintro.org/data/csv/email50.csv\")\nboxplot(num_char ~ spam, data = emails, main = \"Emails data\",\n        ylab = \"Length of email (characters)\", col = \"lightgray\")"
  },
  {
    "objectID": "slides/25_advanced-statistics.html#example-emails-1",
    "href": "slides/25_advanced-statistics.html#example-emails-1",
    "title": "MATH167R: Advanced statistical methods",
    "section": "Example: emails",
    "text": "Example: emails\n\nanova_res &lt;- anova(lm(num_char ~ spam, data = emails))\nanova_res\n\nAnalysis of Variance Table\n\nResponse: num_char\n          Df Sum Sq Mean Sq F value Pr(&gt;F)\nspam       1    0.1   0.052   3e-04 0.9863\nResiduals 48 8441.3 175.860"
  },
  {
    "objectID": "slides/25_advanced-statistics.html#the-general-linear-f-test",
    "href": "slides/25_advanced-statistics.html#the-general-linear-f-test",
    "title": "MATH167R: Advanced statistical methods",
    "section": "The General Linear \\(F\\)-test",
    "text": "The General Linear \\(F\\)-test\nIn general, the anova() function can be used to test the fit of a model for sample data.\nFor a simple linear regression case, the \\(F\\) test can be used to compare a full model of the form\n\\[y_i = (\\beta_0+\\beta_1x_{i1})+\\epsilon_i\\]\nwith a reduced model:\n\\[y_i=\\beta_0+\\epsilon_i\\] ## The General Linear \\(F\\)-test\nHypotheses:\n\n\\(H_0:y_i=\\beta_0+\\epsilon_i\\)\n\\(H_a: y_i=\\beta_0+\\beta_1x_{i1}+\\epsilon_i\\)"
  },
  {
    "objectID": "slides/25_advanced-statistics.html#the-general-linear-f-test-1",
    "href": "slides/25_advanced-statistics.html#the-general-linear-f-test-1",
    "title": "MATH167R: Advanced statistical methods",
    "section": "The General Linear \\(F\\)-test",
    "text": "The General Linear \\(F\\)-test\nLet \\(p_{full}\\) be the number of parameters in the full model and \\(p_{reduced}\\) be the number of parameters in the reduced model.\nLet \\(SSE_{full}\\) and \\(SSE_{reduced}\\) be the sum of squared errors for the full and reduced models, respectively.\n\\[\nF = \\frac{(SSE_{reduced}-SSE_{full})/(p_{full}-p_{reduced})}{SSE_{full}/p_{full}}\n\\]\nThen \\(F\\) follows an \\(F\\) distribution with \\(p_{full}-p_{reduced}\\) and \\(p_{full}\\) degrees of freedom."
  },
  {
    "objectID": "slides/25_advanced-statistics.html#example-mtcars",
    "href": "slides/25_advanced-statistics.html#example-mtcars",
    "title": "MATH167R: Advanced statistical methods",
    "section": "Example: mtcars",
    "text": "Example: mtcars\n\nmy_lm &lt;- lm(mpg ~ wt, data = mtcars)\nanova(my_lm)\n\nAnalysis of Variance Table\n\nResponse: mpg\n          Df Sum Sq Mean Sq F value    Pr(&gt;F)    \nwt         1 847.73  847.73  91.375 1.294e-10 ***\nResiduals 30 278.32    9.28                      \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1"
  },
  {
    "objectID": "slides/25_advanced-statistics.html#example-mtcars-1",
    "href": "slides/25_advanced-statistics.html#example-mtcars-1",
    "title": "MATH167R: Advanced statistical methods",
    "section": "Example: mtcars",
    "text": "Example: mtcars\nNote that this is equivalent to the Wald test for the coefficient for wt in the univariate case:\n\nsummary(my_lm)\n\n\nCall:\nlm(formula = mpg ~ wt, data = mtcars)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-4.5432 -2.3647 -0.1252  1.4096  6.8727 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)  37.2851     1.8776  19.858  &lt; 2e-16 ***\nwt           -5.3445     0.5591  -9.559 1.29e-10 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 3.046 on 30 degrees of freedom\nMultiple R-squared:  0.7528,    Adjusted R-squared:  0.7446 \nF-statistic: 91.38 on 1 and 30 DF,  p-value: 1.294e-10"
  },
  {
    "objectID": "slides/25_advanced-statistics.html#the-general-linear-f-test-2",
    "href": "slides/25_advanced-statistics.html#the-general-linear-f-test-2",
    "title": "MATH167R: Advanced statistical methods",
    "section": "The General Linear \\(F\\)-test",
    "text": "The General Linear \\(F\\)-test\nMore generally the \\(F\\)-test can be used to test sets of nested models, when a reduced model can be compared with a full model.\nHypotheses:\n\n\\(H_0: \\text{reduced model true}\\)\n\\(H_a: \\text{full model fits better}\\)"
  },
  {
    "objectID": "slides/25_advanced-statistics.html#example-mtcars-2",
    "href": "slides/25_advanced-statistics.html#example-mtcars-2",
    "title": "MATH167R: Advanced statistical methods",
    "section": "Example: mtcars",
    "text": "Example: mtcars\n\nmy_lm &lt;- lm(mpg ~ hp + wt, data = mtcars)\nanova(my_lm)\n\nAnalysis of Variance Table\n\nResponse: mpg\n          Df Sum Sq Mean Sq F value    Pr(&gt;F)    \nhp         1 678.37  678.37 100.862 5.987e-11 ***\nwt         1 252.63  252.63  37.561 1.120e-06 ***\nResiduals 29 195.05    6.73                      \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\nWhen we have more than one explanatory variable, the \\(F\\)-test is different from the univariate Wald test."
  },
  {
    "objectID": "slides/25_advanced-statistics.html#example-mtcars-3",
    "href": "slides/25_advanced-statistics.html#example-mtcars-3",
    "title": "MATH167R: Advanced statistical methods",
    "section": "Example: mtcars",
    "text": "Example: mtcars\n\nsummary(my_lm)\n\n\nCall:\nlm(formula = mpg ~ hp + wt, data = mtcars)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n-3.941 -1.600 -0.182  1.050  5.854 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept) 37.22727    1.59879  23.285  &lt; 2e-16 ***\nhp          -0.03177    0.00903  -3.519  0.00145 ** \nwt          -3.87783    0.63273  -6.129 1.12e-06 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 2.593 on 29 degrees of freedom\nMultiple R-squared:  0.8268,    Adjusted R-squared:  0.8148 \nF-statistic: 69.21 on 2 and 29 DF,  p-value: 9.109e-12"
  },
  {
    "objectID": "slides/25_advanced-statistics.html#example-mtcars-4",
    "href": "slides/25_advanced-statistics.html#example-mtcars-4",
    "title": "MATH167R: Advanced statistical methods",
    "section": "Example: mtcars",
    "text": "Example: mtcars\nWe can explicitly specify the full and reduced models:\n\nmy_lm_full &lt;- lm(mpg ~ hp + wt, data = mtcars)\nmy_lm_reduced &lt;- lm(mpg ~ 1, data = mtcars)\nanova(my_lm_full, my_lm_reduced)\n\nAnalysis of Variance Table\n\nModel 1: mpg ~ hp + wt\nModel 2: mpg ~ 1\n  Res.Df     RSS Df Sum of Sq      F    Pr(&gt;F)    \n1     29  195.05                                  \n2     31 1126.05 -2      -931 69.211 9.109e-12 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1"
  },
  {
    "objectID": "slides/25_advanced-statistics.html#fishers-exact-test",
    "href": "slides/25_advanced-statistics.html#fishers-exact-test",
    "title": "MATH167R: Advanced statistical methods",
    "section": "Fisher’s exact test",
    "text": "Fisher’s exact test\nAgresti (1990): A British woman claimed to be able to distinguish whether milk or tea was added to the cup first. To test, she was given 8 cups of tea, in four of which milk was added first. The null hypothesis is that there is no association between the true order of pouring and the woman’s guess. The alternative that there is a positive association (that the odds ratio is greater than 1)."
  },
  {
    "objectID": "slides/25_advanced-statistics.html#fishers-exact-test-1",
    "href": "slides/25_advanced-statistics.html#fishers-exact-test-1",
    "title": "MATH167R: Advanced statistical methods",
    "section": "Fisher’s exact test",
    "text": "Fisher’s exact test\n\nTeaTasting &lt;-\n  matrix(c(3, 1, 1, 3),\n         nrow = 2,\n         dimnames = list(Guess = c(\"Milk\", \"Tea\"),\n                         Truth = c(\"Milk\", \"Tea\")))\nfisher.test(TeaTasting, alternative = \"greater\")\n\n\n    Fisher's Exact Test for Count Data\n\ndata:  TeaTasting\np-value = 0.2429\nalternative hypothesis: true odds ratio is greater than 1\n95 percent confidence interval:\n 0.3135693       Inf\nsample estimates:\nodds ratio \n  6.408309"
  },
  {
    "objectID": "slides/26_prediction.html#overview-of-today",
    "href": "slides/26_prediction.html#overview-of-today",
    "title": "MATH167R: Prediction",
    "section": "Overview of today",
    "text": "Overview of today\n\nTraining and Testing\nCross-validation\nStatistical Prediction Algorithms\n\nGoal: Learn the concepts, terminology, and techniques in statistical prediction."
  },
  {
    "objectID": "slides/26_prediction.html#acknowledgement",
    "href": "slides/26_prediction.html#acknowledgement",
    "title": "MATH167R: Prediction",
    "section": "Acknowledgement",
    "text": "Acknowledgement\nThis lecture draws from Ryan Tibshirani’s Statistical Prediction lecture for Statistical Computing at Carnegie Mellon University."
  },
  {
    "objectID": "slides/26_prediction.html#recall-regression",
    "href": "slides/26_prediction.html#recall-regression",
    "title": "MATH167R: Prediction",
    "section": "Recall: Regression",
    "text": "Recall: Regression\nAssume we have some data:\n\n\\(X_1,\\ldots, X_p\\): \\(p\\) independent variables/explanatory variables/covariates/predictors\n\\(Y\\): the dependent variables/response/outcome.\n\nWe want to know the relationship between our covariates and our response, we can do this with a method called regression. Regression provides us with a statistical method to conduct inference and prediction.\n\nWhat is the difference between inference and prediction?"
  },
  {
    "objectID": "slides/26_prediction.html#recall-regression-1",
    "href": "slides/26_prediction.html#recall-regression-1",
    "title": "MATH167R: Prediction",
    "section": "Recall: Regression",
    "text": "Recall: Regression\n\ninference: assess the relationship between our variables, our statistical model as a whole, predictor importance\n\nWhat is the relationship between sleep and GPA?\nIs parents’ education or parents’ income more important for explaining income?\n\nprediction: predict new/future outcomes from new/future covariates\n\nCan we predict test scores based on hours spent studying?"
  },
  {
    "objectID": "slides/26_prediction.html#linear-regression",
    "href": "slides/26_prediction.html#linear-regression",
    "title": "MATH167R: Prediction",
    "section": "Linear Regression",
    "text": "Linear Regression\nGiven our response \\(Y\\) and our predictors \\(X_1, \\ldots, X_p\\), a linear regression model takes the form:\n\\[\n\\begin{align}\nY &= \\beta_0 + \\beta_1 X_1 + \\cdots + \\beta_p X_p + \\epsilon,\\\\\n\\epsilon &\\sim N(0,\\sigma^2)\n\\end{align}\n\\]\nPreviously, we focused on using this model for inference (e.g. \\(H_0: \\beta_1 = 0\\)). Today, we are shifting our focus to prediction."
  },
  {
    "objectID": "slides/26_prediction.html#statistical-prediction",
    "href": "slides/26_prediction.html#statistical-prediction",
    "title": "MATH167R: Prediction",
    "section": "Statistical Prediction",
    "text": "Statistical Prediction\nOften, we use a linear model even when we know that the assumptions for inference are broken: for example, when errors are not normally distributed.\nThough the model may be wrong, it may still be useful for learning about the relationship between response and covariates.\nIn addition, we can use a working model for prediction."
  },
  {
    "objectID": "slides/26_prediction.html#training-and-testing-data",
    "href": "slides/26_prediction.html#training-and-testing-data",
    "title": "MATH167R: Prediction",
    "section": "Training and testing data",
    "text": "Training and testing data\nWhen training predictive algorithms, it is common to split your data into two categories:\nTraining data: data used to train/fit our model\nTest data: data used to evaluate/test the performance of our model\nSuppose we have training data \\(X_{i1}, \\ \\ldots,\\ X_{ip}, Y_i, \\ i = 1,\\ldots,n\\) which we use to estimate regression coefficents \\(\\widehat\\beta_0, \\ \\widehat\\beta_1, \\ldots \\widehat\\beta_p\\) (Recall: we use \\(\\widehat{}\\) “hats” to indicate estimates)."
  },
  {
    "objectID": "slides/26_prediction.html#making-predictions",
    "href": "slides/26_prediction.html#making-predictions",
    "title": "MATH167R: Prediction",
    "section": "Making predictions",
    "text": "Making predictions\nNow suppose we are given new testing data \\(X^*_1,\\ \\ldots, X^*_{p}\\) and asked to predict the associated \\(Y^∗\\). Using our estimated linear model, the prediction is: \\[\\widehat{Y}^* = \\widehat\\beta_0 + \\widehat{\\beta}_1 X^*_1 + \\cdots + \\widehat{\\beta}_p X^*_p\\]\nWe define the mean squared error, or mean squared prediction error, as\n\\[\\mathbb{E}[(Y^* -\\widehat{Y}^*)^2].\\]\nIn other words, the test error is defined as the expected squared difference between a new prediction and the truth, where the expectation is taken over the population distribution of test data."
  },
  {
    "objectID": "slides/26_prediction.html#test-error",
    "href": "slides/26_prediction.html#test-error",
    "title": "MATH167R: Prediction",
    "section": "Test error",
    "text": "Test error\nMean squared prediction error: \\(\\mathbb{E}[(Y^* -\\widehat{Y}^*)^2],\\) the expected squared difference between a new prediction and the truth.\nThe MSPE quantifies the predictive power of our model, but we do not actually have access to the full population distribution.\nAs such, we must estimate the MSPE using our data in order to use it to assess our model.\nIn particular, we could use the MSPE for:\n\npredictive assessment: understanding the magnitude of errors we should expect when making future predictions\nmodel/method selection: choosing among multiple candidate models."
  },
  {
    "objectID": "slides/26_prediction.html#training-error",
    "href": "slides/26_prediction.html#training-error",
    "title": "MATH167R: Prediction",
    "section": "Training Error",
    "text": "Training Error\nA natural estimator for the test error might be the observed average training error:\n\\[\\dfrac{1}{n}\\sum_{i=1}^n (Y_i - \\widehat{Y}_i)^2.\\]\nCan you think of a problem with this approach?\n\nIn general, this will be too optimistic. Why? We obtained parameter estimates \\(\\widehat{\\beta}_0,\\ \\ldots,\\ \\widehat{\\beta}_p\\) based on our training data."
  },
  {
    "objectID": "slides/26_prediction.html#training-error-1",
    "href": "slides/26_prediction.html#training-error-1",
    "title": "MATH167R: Prediction",
    "section": "Training Error",
    "text": "Training Error\nMore specifically (with a linear regression model), we chose parameters to minimize the squared errors (hence, least squares).\nWe cannot expect this error rate to generalize to test data.\nCritically, the more complex our model, the more optimistic our training data will be as an estimate for our test data"
  },
  {
    "objectID": "slides/26_prediction.html#example-training-error-vs-test-error",
    "href": "slides/26_prediction.html#example-training-error-vs-test-error",
    "title": "MATH167R: Prediction",
    "section": "Example: Training Error vs Test Error",
    "text": "Example: Training Error vs Test Error\n\nlibrary(ggpubr)\n# generate data\nset.seed(302)\nn &lt;- 30\nx &lt;- sort(runif(n, -3, 3))\ny &lt;- 2*x + 2*rnorm(n)\nx_test &lt;- sort(runif(n, -3, 3))\ny_test &lt;- 2*x_test + 2*rnorm(n)\ndf_train &lt;- data.frame(\"x\" = x, \"y\" = y)\ndf_test &lt;- data.frame(\"x\" = x_test, \"y\" = y_test)\n\n# store a theme\nmy_theme &lt;- theme_bw(base_size = 16) + \n  theme(plot.title = element_text(hjust = 0.5, face = \"bold\"),\n        plot.subtitle = element_text(hjust = 0.5))\n\n# generate plots\ng_train &lt;- ggplot(df_train, aes(x = x, y = y)) + geom_point() +\n  xlim(-3, 3) + ylim(min(y, y_test), max(y, y_test)) + \n  labs(title = \"Training Data\") + my_theme\ng_test &lt;- ggplot(df_test, aes(x = x, y = y)) + geom_point() +\n  xlim(-3, 3) + ylim(min(y, y_test), max(y, y_test)) + \n  labs(title = \"Test Data\") + my_theme\nggarrange(g_train, g_test) # from ggpubr, to put side-by-side"
  },
  {
    "objectID": "slides/26_prediction.html#example-training-error-vs-test-error-1",
    "href": "slides/26_prediction.html#example-training-error-vs-test-error-1",
    "title": "MATH167R: Prediction",
    "section": "Example: Training Error vs Test Error",
    "text": "Example: Training Error vs Test Error"
  },
  {
    "objectID": "slides/26_prediction.html#example-training-error-vs-test-error-2",
    "href": "slides/26_prediction.html#example-training-error-vs-test-error-2",
    "title": "MATH167R: Prediction",
    "section": "Example: Training Error vs Test Error",
    "text": "Example: Training Error vs Test Error\n\n# Fit linear model and calculate training error\nlm_fit &lt;- lm(y ~ x, data = df_train)\nyhat_train &lt;- predict(lm_fit)\n# (y_i - yhat_i)^2\ntrain_err &lt;- mean((df_train$y - yhat_train)^2)\n\n# Calculate testing error\nyhat_test &lt;- predict(lm_fit, data.frame(x = df_test$x))\ntest_err &lt;- mean((df_test$y - yhat_test)^2)\n\n# Add linear model and error text to plot\ng_train2 &lt;- g_train + \n  labs(subtitle = paste(\"Training error:\", round(train_err, 3))) +\n  geom_line(aes(y = fitted(lm_fit)), col = \"red\", lwd = 1.5)\ng_test2 &lt;- g_test + \n  labs(subtitle = paste(\"Test error:\", round(test_err, 3))) +\n  geom_line(aes(y = fitted(lm_fit), x = df_train$x), col = \"red\", lwd = 1.5)\n\nggarrange(g_train2, g_test2)"
  },
  {
    "objectID": "slides/26_prediction.html#example-training-error-vs-test-error-for-linear-model",
    "href": "slides/26_prediction.html#example-training-error-vs-test-error-for-linear-model",
    "title": "MATH167R: Prediction",
    "section": "Example: Training Error vs Test Error for linear model",
    "text": "Example: Training Error vs Test Error for linear model"
  },
  {
    "objectID": "slides/26_prediction.html#example-degree-5-polynomial",
    "href": "slides/26_prediction.html#example-degree-5-polynomial",
    "title": "MATH167R: Prediction",
    "section": "Example: Degree 5 polynomial",
    "text": "Example: Degree 5 polynomial\n\n# Fit 5 degree polynomial and calculate training error\nlm_fit_5 &lt;- lm(y ~ poly(x, 5), data = df_train)\nyhat_train_5 &lt;- predict(lm_fit_5)\ntrain_err_5 &lt;- mean((df_train$y - yhat_train_5)^2)\n\n# Calculate testing error\nyhat_test_5 &lt;- predict(lm_fit_5, data.frame(x = df_test$x))\ntest_err_5 &lt;- mean((df_test$y - yhat_test_5)^2)\n\n# Create smooth line for plotting\nx_fit &lt;- data.frame(x = seq(-3, 3, length = 100))\nline_fit &lt;- data.frame(x = x_fit, y = predict(lm_fit_5, newdata = x_fit))\n                       \n# Add linear model and error text to plot\ng_train3 &lt;- g_train + \n  labs(subtitle = paste(\"Training error:\", round(train_err_5, 3))) +\n  geom_line(data = line_fit, aes(y = y, x = x), col = \"red\", lwd = 1.5)\ng_test3 &lt;- g_test + \n  labs(subtitle = paste(\"Test error:\", round(test_err_5, 3))) +\n  geom_line(data = line_fit, aes(y = y, x = x), col = \"red\", lwd = 1.5)\n\nggarrange(g_train3, g_test3)"
  },
  {
    "objectID": "slides/26_prediction.html#example-degree-5-polynomial-1",
    "href": "slides/26_prediction.html#example-degree-5-polynomial-1",
    "title": "MATH167R: Prediction",
    "section": "Example: Degree 5 polynomial",
    "text": "Example: Degree 5 polynomial"
  },
  {
    "objectID": "slides/26_prediction.html#example-degree-10-polynomial",
    "href": "slides/26_prediction.html#example-degree-10-polynomial",
    "title": "MATH167R: Prediction",
    "section": "Example: Degree 10 polynomial",
    "text": "Example: Degree 10 polynomial\n\n# Fit 10 degree polynomial and calculate training error\nlm_fit_10 &lt;- lm(y ~ poly(x, 10), data = df_train)\nyhat_train_10 &lt;- predict(lm_fit_10)\ntrain_err_10 &lt;- mean((df_train$y - yhat_train_10)^2)\n\n# Calculate testing error\nyhat_test_10 &lt;- predict(lm_fit_10, data.frame(x = df_test$x))\ntest_err_10 &lt;- mean((df_test$y - yhat_test_10)^2)\n\n# Create smooth line for plotting\nx_fit &lt;- data.frame(x = seq(-3, 3, length = 100))\nline_fit &lt;- data.frame(x = x_fit, y = predict(lm_fit_10, newdata = x_fit))\n                       \n# Add linear model and error text to plot\ng_train4 &lt;- g_train + \n  labs(subtitle = paste(\"Training error:\", round(train_err_10, 3))) +\n  geom_line(data = line_fit, aes(y = y, x = x), col = \"red\", lwd = 1.5)\ng_test4 &lt;- g_test + \n  labs(subtitle = paste(\"Test error:\", round(test_err_10, 3))) +\n  geom_line(data = line_fit, aes(y = y, x = x), col = \"red\", lwd = 1.5)\n\nggarrange(g_train4, g_test4)"
  },
  {
    "objectID": "slides/26_prediction.html#example-degree-10-polynomial-1",
    "href": "slides/26_prediction.html#example-degree-10-polynomial-1",
    "title": "MATH167R: Prediction",
    "section": "Example: Degree 10 polynomial",
    "text": "Example: Degree 10 polynomial"
  },
  {
    "objectID": "slides/26_prediction.html#example-degree-15-polynomial",
    "href": "slides/26_prediction.html#example-degree-15-polynomial",
    "title": "MATH167R: Prediction",
    "section": "Example: Degree 15 polynomial",
    "text": "Example: Degree 15 polynomial\n\n# Fit 15 degree polynomial and calculate training error\nlm_fit_15 &lt;- lm(y ~ poly(x, 15), data = df_train)\nyhat_train_15 &lt;- predict(lm_fit_15)\ntrain_err_15 &lt;- mean((df_train$y - yhat_train_15)^2)\n\n# Calculate testing error\nyhat_test_15 &lt;- predict(lm_fit_15, data.frame(x = df_test$x))\ntest_err_15 &lt;- mean((df_test$y - yhat_test_15)^2)\n\n# Create smooth line for plotting\nx_fit &lt;- data.frame(x = seq(-3, 3, length = 100))\nline_fit &lt;- data.frame(x = x_fit, y = predict(lm_fit_15, newdata = x_fit))\n                       \n# Add linear model and error text to plot\ng_train5 &lt;- g_train + \n  labs(subtitle = paste(\"Training error:\", round(train_err_15, 3))) +\n  geom_line(data = line_fit, aes(y = y, x = x), col = \"red\", lwd = 1.5)\ng_test5 &lt;- g_test + \n  labs(subtitle = paste(\"Test error:\", round(test_err_15, 3))) +\n  geom_line(data = line_fit, aes(y = y, x = x), col = \"red\", lwd = 1.5)\n\nggarrange(g_train5, g_test5)"
  },
  {
    "objectID": "slides/26_prediction.html#example-degree-15-polynomial-1",
    "href": "slides/26_prediction.html#example-degree-15-polynomial-1",
    "title": "MATH167R: Prediction",
    "section": "Example: Degree 15 polynomial",
    "text": "Example: Degree 15 polynomial"
  },
  {
    "objectID": "slides/26_prediction.html#bias-variance-tradeoff",
    "href": "slides/26_prediction.html#bias-variance-tradeoff",
    "title": "MATH167R: Prediction",
    "section": "Bias-Variance Tradeoff",
    "text": "Bias-Variance Tradeoff\nThe formula for test error can be decomposed as a function of the bias and variance of our estimates.\n\nBias: the expected difference between our estimate and the truth\nVariance: the variability of our estimate of the truth"
  },
  {
    "objectID": "slides/26_prediction.html#bias-variance-tradeoff-1",
    "href": "slides/26_prediction.html#bias-variance-tradeoff-1",
    "title": "MATH167R: Prediction",
    "section": "Bias-Variance Tradeoff",
    "text": "Bias-Variance Tradeoff\nFor example, suppose \\(Y^*=\\mu+\\epsilon\\) where \\(\\epsilon\\) is mean zero random error with variance \\(\\sigma^2\\):\n\\[\\begin{align}\\mathbb{E}[(Y^* -\\widehat{Y}^*)^2]&=\\mathbb{E}(Y^{*2})-2\\mathbb{E}(Y^*\\widehat{Y}^*)+\\mathbb{E}(\\widehat{Y}^{*2})\\\\\n&=\\mu^2+\\sigma^2-2\\mu\\mathbb{E}(\\widehat{Y}^*)+\\mathrm{Var}(\\widehat{Y}^{*})+\\mathbb{E}(\\widehat{Y}^{*2})\\\\\n&=(\\mu -\\mathbb{E}(\\widehat{Y}^*))^2+\\sigma^2+\\mathrm{Var}(\\widehat{Y}^{*}) \\end{align}\\]"
  },
  {
    "objectID": "slides/26_prediction.html#bias-variance-tradeoff-2",
    "href": "slides/26_prediction.html#bias-variance-tradeoff-2",
    "title": "MATH167R: Prediction",
    "section": "Bias-Variance Tradeoff",
    "text": "Bias-Variance Tradeoff\n\nImage Credit: An Introduction to Statistical Learning by Gareth James, Daniela Witten, Trevor Hastie, Robert Tibshirani"
  },
  {
    "objectID": "slides/26_prediction.html#bias-variance-tradeoff-3",
    "href": "slides/26_prediction.html#bias-variance-tradeoff-3",
    "title": "MATH167R: Prediction",
    "section": "Bias-Variance Tradeoff",
    "text": "Bias-Variance Tradeoff\n\nBias: underfitting, error from missing relevant relationships\nVariance: overfitting, error from high sensitivity\n\n\nImage Source"
  },
  {
    "objectID": "slides/26_prediction.html#bias-variance-tradeoff-4",
    "href": "slides/26_prediction.html#bias-variance-tradeoff-4",
    "title": "MATH167R: Prediction",
    "section": "Bias-Variance Tradeoff",
    "text": "Bias-Variance Tradeoff\n\nImage Source"
  },
  {
    "objectID": "slides/26_prediction.html#bias-variance-tradeoff-5",
    "href": "slides/26_prediction.html#bias-variance-tradeoff-5",
    "title": "MATH167R: Prediction",
    "section": "Bias-Variance Tradeoff",
    "text": "Bias-Variance Tradeoff\nIt is easy to fit a model with extremely low variance and extremely high bias, or extremely low bias and extremely high variance, but these models will not have a good test error. Ideally, we would like an estimate that has both low bias and low variance, but this is not always possible!\nAs a general rule of thumb, as we increase the complexity of our model, the bias will decrease but the variance will increase. You can think of our bias decreasing because we are training our model to be more specific to our training data. You can think of the variance increasing because our model will be overfit, and will vary substantially with new training data."
  },
  {
    "objectID": "slides/26_prediction.html#sample-splitting",
    "href": "slides/26_prediction.html#sample-splitting",
    "title": "MATH167R: Prediction",
    "section": "Sample-splitting",
    "text": "Sample-splitting\nWhere do we get our “training data” and our “test data” in practice? We can’t just simulate more data for our test data in the real world. In practice, we use a technique called sample-splitting:\n\nSplit the data set into two (or more…) parts\nFirst part of data: train the model/method\nSecond part of data: make predictions\nEvaluate observed test error"
  },
  {
    "objectID": "slides/26_prediction.html#sample-splitting-1",
    "href": "slides/26_prediction.html#sample-splitting-1",
    "title": "MATH167R: Prediction",
    "section": "Sample-splitting",
    "text": "Sample-splitting\n\nlibrary(forcats)\n# Generate data\nset.seed(302)\nn &lt;- 50\nx &lt;- sort(runif(n, -3, 3))\ny &lt;- 2*x + 2*rnorm(n)\n\n# Randomly split data into two parts\ninds &lt;- sample(rep(1:2, length = n))\nsplit &lt;- as.factor(inds) |&gt;\n  fct_recode(Training = \"1\", Test = \"2\")\ndata &lt;- data.frame(\"x\" = x, \"y\" = y, \"split\" = split)\n\ng_split &lt;- ggplot(data, aes(x = x, y = y, color = split)) + geom_point() +\n  labs(title = \"Sample-splitting\") + my_theme\ng_split"
  },
  {
    "objectID": "slides/26_prediction.html#sample-splitting-2",
    "href": "slides/26_prediction.html#sample-splitting-2",
    "title": "MATH167R: Prediction",
    "section": "Sample-splitting",
    "text": "Sample-splitting"
  },
  {
    "objectID": "slides/26_prediction.html#sample-splitting-3",
    "href": "slides/26_prediction.html#sample-splitting-3",
    "title": "MATH167R: Prediction",
    "section": "Sample-splitting",
    "text": "Sample-splitting\n\n# Train on the training split\ndata_train &lt;- data |&gt; dplyr::filter(split == \"Training\")\nlm_1 &lt;- lm(y ~ x, data = data_train)\nlm_10 &lt;- lm(y ~ poly(x, 10), data = data_train)\n\n# Predict on the second half\ndata_test &lt;- data |&gt; dplyr::filter(split == \"Test\")\npred_1 &lt;- predict(lm_1, data.frame(x = data_test$x))\npred_10 &lt;- predict(lm_10, data.frame(x = data_test$x))\n\n# Calculate test error\ntest_err_1 &lt;- mean((data_test$y - pred_1)^2)\ntest_err_10 &lt;- mean((data_test$y - pred_10)^2)"
  },
  {
    "objectID": "slides/26_prediction.html#sample-splitting-4",
    "href": "slides/26_prediction.html#sample-splitting-4",
    "title": "MATH167R: Prediction",
    "section": "Sample-splitting",
    "text": "Sample-splitting\n\n# Create smooth lines for plotting\nx_fit &lt;- data.frame(x = seq(min(data$x), max(data$x), length = 100))\nline_fit_1 &lt;- data.frame(x = x_fit, y = predict(lm_1, newdata = x_fit))\nline_fit_10 &lt;- data.frame(x = x_fit, y = predict(lm_10, newdata = x_fit))\n                       \n# Add linear model and error text to plot\ng_split1 &lt;- g_split + \n  labs(subtitle = paste(\"Degree 1 Test error:\", round(test_err_1, 3))) +\n  geom_line(data = line_fit_1, aes(y = y, x = x), col = \"black\", lwd = 1.5)\ng_split10 &lt;- g_split + \n  labs(subtitle = paste(\"Degree 10 Test error:\", round(test_err_10, 3))) +\n  geom_line(data = line_fit_10, aes(y = y, x = x), col = \"black\", lwd = 1.5)\n\nggarrange(g_split1, g_split10, common.legend = TRUE, legend = \"bottom\")"
  },
  {
    "objectID": "slides/26_prediction.html#sample-splitting-5",
    "href": "slides/26_prediction.html#sample-splitting-5",
    "title": "MATH167R: Prediction",
    "section": "Sample-splitting",
    "text": "Sample-splitting"
  },
  {
    "objectID": "slides/26_prediction.html#sample-splitting-6",
    "href": "slides/26_prediction.html#sample-splitting-6",
    "title": "MATH167R: Prediction",
    "section": "Sample-splitting",
    "text": "Sample-splitting\nSample-splitting gives us a powerful tool to evaluate the performance of estimator on data that was not used to train it. Of course, this comes at the cost of sacrificing some of our data that could be used in order to train a model with as much information as possible, but this is a sacrifice we must make in practice if we want to appropriately evaluate the predictive performance of our models/methods!\nHowever, we can do better than just splitting our data in half."
  },
  {
    "objectID": "slides/26_prediction.html#k-fold-cross-validation",
    "href": "slides/26_prediction.html#k-fold-cross-validation",
    "title": "MATH167R: Prediction",
    "section": "k-fold Cross-validation",
    "text": "k-fold Cross-validation\nIn general, the process of \\(k\\)-fold cross-validation is as follows:\n\nSplit data into \\(k\\) parts (folds)\nUse all but 1 fold as your training data and fit the model\nUse the remaining fold for your test data and make predictions\nSwitch which fold is your test data and repeat steps 2 and 3 until all folds have been test data (k times)\nCompute squared error\n\nCommonly, we use \\(k=5\\) and \\(k=10\\)."
  },
  {
    "objectID": "slides/26_prediction.html#k-fold-cross-validation-1",
    "href": "slides/26_prediction.html#k-fold-cross-validation-1",
    "title": "MATH167R: Prediction",
    "section": "k-fold Cross-validation",
    "text": "k-fold Cross-validation"
  },
  {
    "objectID": "slides/26_prediction.html#k-fold-cross-validation-2",
    "href": "slides/26_prediction.html#k-fold-cross-validation-2",
    "title": "MATH167R: Prediction",
    "section": "k-fold Cross-validation",
    "text": "k-fold Cross-validation\nFor each split, we calculate the out-of-sample mean squared prediction error. For example, for the first split, we calculate\n\\[MSE_1 = \\dfrac{1}{m}\\sum_{j = 1}^{m} (Y_{j,test} - \\widehat{Y}_{j,test})^2,\\] where \\(m\\) is the number of observations in the test set.\nThen we calculate the cross-validation estimate of our test error\n\\[CV_{(k)} = \\dfrac{1}{k}\\sum_{i=1}^{k}MSE_i.\\]\nIn words, our cross-validation estimate of the test error is the average of the mean squared errors across the splits!"
  },
  {
    "objectID": "slides/26_prediction.html#leave-one-out-cross-validation",
    "href": "slides/26_prediction.html#leave-one-out-cross-validation",
    "title": "MATH167R: Prediction",
    "section": "Leave-One-Out Cross-Validation",
    "text": "Leave-One-Out Cross-Validation\nLeave-one-out cross-validation (LOOCV) is a special instance of \\(k\\)-fold cross-validation where \\(k\\) is equal to the sample size \\(n\\). This means you fit \\(n\\) different models using \\(n-1\\) data points for your training data, and then test on the remaining individual data point."
  },
  {
    "objectID": "slides/26_prediction.html#bias-variance-tradeoff-6",
    "href": "slides/26_prediction.html#bias-variance-tradeoff-6",
    "title": "MATH167R: Prediction",
    "section": "Bias-variance Tradeoff",
    "text": "Bias-variance Tradeoff\nLOOCV strengths in that it uses as much data as possible to train the model while still having out-of-sample test data. Thus, it will provide approximately unbiased estimates of the test error, and is the best choice for minimizing bias.\nHowever, LOOCV has one major drawback: variance. Because it fits \\(n\\) models, each of which is trained on almost identical training data, the outputs of the models are highly correlated. All other things being equal, the mean of correlated observations has a higher variance than the mean of uncorrelated observations. Thus, LOOCV has higher variance than \\(k\\)-fold CV with \\(k&lt;n\\).\nAs a rule of thumb, stick to \\(k=5\\) and \\(k=10\\). These values tend to result in an ideal balance in terms of the bias-variance tradeoff."
  },
  {
    "objectID": "slides/26_prediction.html#what-to-do-after-cross-validation",
    "href": "slides/26_prediction.html#what-to-do-after-cross-validation",
    "title": "MATH167R: Prediction",
    "section": "What to do after cross-validation?",
    "text": "What to do after cross-validation?\nWe use cross-validation as a method to evaluate our model, not to build our model! Thus, once we have used \\(k\\)-fold cross-validation to come up with a reasonable estimate of our out-of-sample test-error (and perhaps to choose among several models based on this test error), we use the full data to train our final predictive model.\nThus, using cross-validation, we are able to build a model based on our full data, and still evaluate the performance of our model on out-of-sample data!"
  },
  {
    "objectID": "slides/26_prediction.html#k-fold-cross-validation-example",
    "href": "slides/26_prediction.html#k-fold-cross-validation-example",
    "title": "MATH167R: Prediction",
    "section": "k-fold Cross-validation Example",
    "text": "k-fold Cross-validation Example\n\nset.seed(302)\n# Split data in 5 parts, randomly\nk &lt;- 5\ninds &lt;- sample(rep(1:k, length = n))\n# Use data from before\ndata &lt;- data.frame(\"x\" = x, \"y\" = y, \"split\" = inds)\n\n# Empty matrix to store predictions, 2 columns for 2 models\npred_mat &lt;- matrix(NA, n, 2)\nfor (i in 1:k) {\n  data_train &lt;- data |&gt; dplyr::filter(split != i)\n  data_test &lt;- data |&gt; dplyr::filter(split == i)\n  \n  # Train our models\n  lm_1_cv &lt;- lm(y ~ x, data = data_train)\n  lm_10_cv &lt;- lm(y ~ poly(x, 10), data = data_train)\n  \n  # Record predictions\n  pred_mat[inds == i, 1] &lt;- predict(lm_1_cv, data.frame(x = data_test$x))\n  pred_mat[inds == i, 2] &lt;- predict(lm_10_cv, data.frame(x = data_test$x))\n}\n\n# Compute average MSE to get CV error\ncv_err &lt;- colMeans((pred_mat - data$y)^2)"
  },
  {
    "objectID": "slides/26_prediction.html#k-fold-cross-validation-example-1",
    "href": "slides/26_prediction.html#k-fold-cross-validation-example-1",
    "title": "MATH167R: Prediction",
    "section": "k-fold Cross-validation Example",
    "text": "k-fold Cross-validation Example\n\n# Create predictive model\nlm_1 &lt;- lm(y ~ x, data = data)\nlm_10 &lt;- lm(y ~ poly(x, 10), data = data)\n\n# Create smooth lines for plotting\nx_fit &lt;- data.frame(x = seq(min(data$x), max(data$x), length = 100))\nline_fit_1 &lt;- data.frame(x = x_fit, y = predict(lm_1, newdata = x_fit))\nline_fit_10 &lt;- data.frame(x = x_fit, y = predict(lm_10, newdata = x_fit))\n\n# Recode split for legend\ndata &lt;- data |&gt; \n  mutate(Fold = fct_recode(as.factor(split), \"Fold 1\" = \"1\", \"Fold 2\" = \"2\",\n                           \"Fold 3\" = \"3\", \"Fold 4\" = \"4\", \"Fold 5\" = \"5\"))\n\ng_cv &lt;- ggplot(data, aes(x = x, y = y, color = Fold)) + geom_point() +\n  labs(title = \"Cross-validation\") + my_theme\ng_cv1 &lt;- g_cv + \n  labs(subtitle = paste(\"Degree 1 CV error:\", round(cv_err[1], 3))) +\n  geom_line(data = line_fit_1, aes(y = y, x = x), col = \"black\", lwd = 1.5)\ng_cv10 &lt;- g_cv + \n  labs(subtitle = paste(\"Degree 10 CV error:\", round(cv_err[2], 3))) +\n  geom_line(data = line_fit_10, aes(y = y, x = x), col = \"black\", lwd = 1.5)\nggarrange(g_cv1, g_cv10, common.legend = TRUE, legend = \"bottom\")"
  },
  {
    "objectID": "slides/26_prediction.html#k-fold-cross-validation-example-2",
    "href": "slides/26_prediction.html#k-fold-cross-validation-example-2",
    "title": "MATH167R: Prediction",
    "section": "k-fold Cross-validation Example",
    "text": "k-fold Cross-validation Example"
  },
  {
    "objectID": "slides/26_prediction.html#statistical-prediction-algorithms",
    "href": "slides/26_prediction.html#statistical-prediction-algorithms",
    "title": "MATH167R: Prediction",
    "section": "Statistical Prediction Algorithms",
    "text": "Statistical Prediction Algorithms\nWe’ve talked about how regression can be used for both statistical inference and prediction. We are now going to shift to talk about algorithms designed specifically for statistical prediction.\nWe will discuss only a few methods for this course to teach you about the principles of how they work. This will serve as an introduction to topics you may encounter if you venture further into fields such as machine learning."
  },
  {
    "objectID": "slides/26_prediction.html#statistical-prediction-algorithms-1",
    "href": "slides/26_prediction.html#statistical-prediction-algorithms-1",
    "title": "MATH167R: Prediction",
    "section": "Statistical Prediction Algorithms",
    "text": "Statistical Prediction Algorithms\nThe normal distribution, specified by parameters for the mean and the variance, is an example of a parametric model. We are now going to discuss some non-parametric models. As the name implies, these models do not assume that the data are drawn from some distribution with a fixed number of parameters.\nNon-parametric models are not motivated by inference on model parameters. Instead, the focus is often on pure prediction. How can we use data to help us classify and predict the world around us? For the most part, many of these methods would have been impossible before the rise of high-powered computing."
  },
  {
    "objectID": "slides/26_prediction.html#k-nearest-neighbors",
    "href": "slides/26_prediction.html#k-nearest-neighbors",
    "title": "MATH167R: Prediction",
    "section": "k-nearest neighbors",
    "text": "k-nearest neighbors\nk-nearest neighbors is a non-parametric prediction algorithm.\n\nInput: training data \\(X_i = (X_{i1}, \\ldots, X_{ip})\\) and output class \\(Y_i\\) for \\(i = 1,\\ldots, n\\)\nInput: test data \\(X^* = (X^*_1, \\ldots, X^*_p)\\) with unknown output class \\(Y^*\\)\nAlgorithm: Find \\(X_{(1)},\\ldots, X_{(k)}\\), the \\(k\\) nearest points to \\(X^*\\)\nOutput: Predicted class \\(\\widehat{Y}^*\\), the most common class from \\(X_{(1)},\\ldots, X_{(k)}\\)"
  },
  {
    "objectID": "slides/26_prediction.html#k-nearest-neighbors-1",
    "href": "slides/26_prediction.html#k-nearest-neighbors-1",
    "title": "MATH167R: Prediction",
    "section": "k-nearest neighbors",
    "text": "k-nearest neighbors\nThis method is simple and highly flexible, but it can also be slow and inappropriate for certain settings.\n\nImage Credit: An Introduction to Statistical Learning by Gareth James, Daniela Witten, Trevor Hastie, Robert Tibshirani"
  },
  {
    "objectID": "slides/26_prediction.html#k-nearest-neighbors-2",
    "href": "slides/26_prediction.html#k-nearest-neighbors-2",
    "title": "MATH167R: Prediction",
    "section": "k-nearest neighbors",
    "text": "k-nearest neighbors\n\nImage Credit: An Introduction to Statistical Learning by Gareth James, Daniela Witten, Trevor Hastie, Robert Tibshirani"
  },
  {
    "objectID": "slides/26_prediction.html#choosing-k",
    "href": "slides/26_prediction.html#choosing-k",
    "title": "MATH167R: Prediction",
    "section": "Choosing k",
    "text": "Choosing k\nWhat happens when \\(k=1\\)? \\(k = n\\)?\nIn order to choose an “optimal” \\(k\\), it is common to use cross-validation:\n\nFor \\(k=1,\\ldots,n\\) (or a more restrictive range), fit \\(k\\)-nearest neighbors\nUse cross-validation to identify \\(k\\) with the minimum test error\nRe-train a \\(k\\)-nearest neighbor model using all the data with optimal choice of \\(k\\)\n\nCross-validation is a great tool to choose values for tuning parameters across a number of algorithms, not just \\(k\\)-nearest neighbors!"
  },
  {
    "objectID": "slides/26_prediction.html#choosing-k-1",
    "href": "slides/26_prediction.html#choosing-k-1",
    "title": "MATH167R: Prediction",
    "section": "Choosing k",
    "text": "Choosing k"
  },
  {
    "objectID": "slides/26_prediction.html#choosing-k-2",
    "href": "slides/26_prediction.html#choosing-k-2",
    "title": "MATH167R: Prediction",
    "section": "Choosing k",
    "text": "Choosing k\n\nImage Credit"
  },
  {
    "objectID": "slides/26_prediction.html#trees",
    "href": "slides/26_prediction.html#trees",
    "title": "MATH167R: Prediction",
    "section": "Trees",
    "text": "Trees\nInstead of classifying based on neighboring data points in the training data, we can classify based on splits in our covariates.\n\nInput: training data \\(X_i = (X_{i1}, \\ldots, X_{ip})\\) and output class/value \\(Y_i\\) for \\(i = 1,\\ldots, n\\)\nInput: test data \\(X^* = (X^*_1, \\ldots, X^*_p)\\) with unknown output class/value \\(Y^*\\)\nAlgorithm: Identify splits in \\(X_i\\) that best predict \\(Y_i\\)\nOutput: Predicted class/value \\(\\widehat{Y}^*\\) using splits"
  },
  {
    "objectID": "slides/26_prediction.html#trees-1",
    "href": "slides/26_prediction.html#trees-1",
    "title": "MATH167R: Prediction",
    "section": "Trees",
    "text": "Trees\nTrees to predict class are referred to as classification trees. Trees to predict quantitative output are referred to as regression trees.\nThis algorithm is easy, efficient, and interpretable, but it is not as flexible as \\(k\\)-nearest neighbors.\n\nImage source"
  },
  {
    "objectID": "slides/26_prediction.html#random-forest",
    "href": "slides/26_prediction.html#random-forest",
    "title": "MATH167R: Prediction",
    "section": "Random Forest",
    "text": "Random Forest\nIn practice, we don’t typically predict with a single tree. Instead, we combine multiple trees and take the average/most common of their predictions. Keeping with the tree metaphor, this is referred to as the random forest algorithm."
  },
  {
    "objectID": "slides/26_prediction.html#random-forest-1",
    "href": "slides/26_prediction.html#random-forest-1",
    "title": "MATH167R: Prediction",
    "section": "Random Forest",
    "text": "Random Forest\n\nImage source"
  },
  {
    "objectID": "slides/26_prediction.html#random-forest-2",
    "href": "slides/26_prediction.html#random-forest-2",
    "title": "MATH167R: Prediction",
    "section": "Random Forest",
    "text": "Random Forest\n\nImage source"
  },
  {
    "objectID": "slides/26_prediction.html#variable-importance",
    "href": "slides/26_prediction.html#variable-importance",
    "title": "MATH167R: Prediction",
    "section": "Variable Importance",
    "text": "Variable Importance\nOne major benefit of tree-based prediction algorithms is that they provide a powerful and interpretable tool for assessing variable importance. For example, we can look across all trees in a random forest, assess how often variables were used for splitting and how helpful those splits were for prediction, and identify the variables that improve our predictions the most!\n(For more on this, see the Gini index and “An Introduction to Statistical Learning” by Gareth James, Daniela Witten, Trevor Hastie, Robert Tibshirani.)"
  },
  {
    "objectID": "slides/26_prediction.html#statistical-prediction-algorithms-2",
    "href": "slides/26_prediction.html#statistical-prediction-algorithms-2",
    "title": "MATH167R: Prediction",
    "section": "Statistical Prediction Algorithms",
    "text": "Statistical Prediction Algorithms\nThis was a very brief overfiew of a very small subset of the algorithms used for statistical prediction. Other common examples include:\n\nneural networks,\nsupport vector machines,\nkernel classifiers,\nBayesian classifiers,\nand more…\n\nThese algorithms, and related topics, are likely things that you will cover if you take courses more focused on machine learning."
  },
  {
    "objectID": "slides/25_linear-regression.html#overview-of-today",
    "href": "slides/25_linear-regression.html#overview-of-today",
    "title": "MATH167R: Linear regression",
    "section": "Overview of today",
    "text": "Overview of today\n\nReview of linear regression\nWhy use a linear model?\nPitfalls of linear regression: breaking assumptions and more"
  },
  {
    "objectID": "slides/25_linear-regression.html#warm-up",
    "href": "slides/25_linear-regression.html#warm-up",
    "title": "MATH167R: Linear regression",
    "section": "Warm-up",
    "text": "Warm-up\nWhat is the method of least squares and how does it relate to linear regression?"
  },
  {
    "objectID": "slides/25_linear-regression.html#simple-linear-regression",
    "href": "slides/25_linear-regression.html#simple-linear-regression",
    "title": "MATH167R: Linear regression",
    "section": "Simple linear regression",
    "text": "Simple linear regression\nHow does the speed of a car affect its stopping distance?\n\nplot(dist ~ speed, data = cars,\n     xlab = \"Speed (mph)\",\n     ylab = \"Stopping Distance (ft)\",\n     pch  = 16, col = \"blue\")"
  },
  {
    "objectID": "slides/25_linear-regression.html#simple-linear-regression-1",
    "href": "slides/25_linear-regression.html#simple-linear-regression-1",
    "title": "MATH167R: Linear regression",
    "section": "Simple linear regression",
    "text": "Simple linear regression\nSuppose \\(x_1,\\ldots, x_n\\) represent the speed values of each car in our dataset. Let \\(Y_1,\\ldots, Y_n\\) represent the dist variable.\nThe simple linear regression model is given by \\[Y_i=\\beta_0+\\beta_1x_i+\\epsilon_i\\] - \\(\\beta_0\\) is the intercept parameter\n\n\\(\\beta_1\\) is the slope parameter\n\\(\\epsilon_i\\) represents iid \\(N(0,\\sigma^2)\\) errors, where \\(\\sigma^2\\) is the variance of \\(\\epsilon_i\\)."
  },
  {
    "objectID": "slides/25_linear-regression.html#simple-linear-regression-2",
    "href": "slides/25_linear-regression.html#simple-linear-regression-2",
    "title": "MATH167R: Linear regression",
    "section": "Simple linear regression",
    "text": "Simple linear regression\nUnder this model, we can also write that \\[Y_i\\mid X_i= x_i\\sim N(\\beta_0+\\beta_1x_i, \\sigma^2)\\] As a result \\[E(Y_i\\mid X_i= x_i)= \\beta_0+\\beta_1x_i\\] \\[\\mathrm{Var}(Y_i\\mid X_i= x_i)= \\sigma^2\\]"
  },
  {
    "objectID": "slides/25_linear-regression.html#simple-linear-regression-3",
    "href": "slides/25_linear-regression.html#simple-linear-regression-3",
    "title": "MATH167R: Linear regression",
    "section": "Simple linear regression",
    "text": "Simple linear regression\nTypically, we say there are four assumptions for simple linear regression:\n\nLinearity: The relationship between \\(X\\) and \\(E(Y\\mid X)\\) is linear: \\[E(Y_i\\mid X_i= x_i)= \\beta_0+\\beta_1x_i\\]\nIndependence: The observations \\(Y_1,\\ldots, Y_n\\) are independent of each other.\nNormality: \\[Y_i\\mid X_i= x_i\\sim N(\\beta_0+\\beta_1x_i, \\sigma^2)\\]\nEqual variance: The variance of the errors \\(\\epsilon_i\\) is the same for all values of \\(x_i\\).\n\nNote that even if one or more of these assumptions breaks, linear regression can still be useful if used with caution."
  },
  {
    "objectID": "slides/25_linear-regression.html#simple-linear-regression-least-squares",
    "href": "slides/25_linear-regression.html#simple-linear-regression-least-squares",
    "title": "MATH167R: Linear regression",
    "section": "Simple linear regression: Least squares",
    "text": "Simple linear regression: Least squares\nTypically, we start with data \\(Y_1,\\ldots, Y_n\\) and \\(x_1,\\ldots, x_n\\). How do we estimate \\(\\beta_0\\) and \\(\\beta_1\\)?\nIn other words, what is the best line to use for modeling the relationship between \\(X\\) and \\(Y\\)?\nUsually, we use the least squares line, which is the solution to the following optimization problem: \\[\\arg\\min\\sum_{i=1}^n (y_i-(\\beta_0+\\beta_1x_i))^2=\\arg\\min\\sum_{i=1}^n (y_i-\\hat{y}_i)^2\\] where \\(\\hat{y}_i\\) is the model prediction for \\(y_i\\)."
  },
  {
    "objectID": "slides/25_linear-regression.html#regression-methods",
    "href": "slides/25_linear-regression.html#regression-methods",
    "title": "MATH167R: Linear regression",
    "section": "Regression methods",
    "text": "Regression methods\nAssume we have some data:\n\n\\(X_1,\\ldots, X_p\\): \\(p\\) independent variables/explanatory variables/covariates/predictors\n\\(Y\\): the dependent variables/response/outcome.\n\nWe want to know the relationship between our covariates and our response, we can do this with a method called regression. Regression provides us with a statistical method to conduct inference and prediction."
  },
  {
    "objectID": "slides/25_linear-regression.html#regression-methods-1",
    "href": "slides/25_linear-regression.html#regression-methods-1",
    "title": "MATH167R: Linear regression",
    "section": "Regression methods",
    "text": "Regression methods\n\ninference: assess the relationship between our variables, our statistical model as a whole, predictor importance\nWhat is the relationship between sleep and GPA?\nIs parents’ education or parents’ income more important for explaining income?\nprediction: predict new/future outcomes from new/future covariates\nCan we predict test scores based on hours spent studying?"
  },
  {
    "objectID": "slides/25_linear-regression.html#exercise",
    "href": "slides/25_linear-regression.html#exercise",
    "title": "MATH167R: Linear regression",
    "section": "Exercise",
    "text": "Exercise\nClassify the following questions as inference or prediction:\n\nCan we use high school students’ SAT/ACT scores to estimate their college GPAs?\nIs there an association between political candidates’ heights and the number of votes they receive?\nDo states with higher minimum wages have lower poverty rates?"
  },
  {
    "objectID": "slides/25_linear-regression.html#why-linear-regression",
    "href": "slides/25_linear-regression.html#why-linear-regression",
    "title": "MATH167R: Linear regression",
    "section": "Why linear regression?",
    "text": "Why linear regression?\nRegression methods focus on modeling the relationship between response \\(Y\\) and explanatory variables \\(X_1,\\ldots, X_p\\).\nLinear regression proposes a model of the form \\[Y=\\beta_0+\\beta_1X_1+\\cdots +\\beta_p X_p+\\epsilon; \\hspace{1em} \\epsilon\\sim N(0, \\sigma^2)\\] Sometimes, the following weaker form is used (why is this weaker?) \\[E(Y\\mid X_1,\\ldots, X_p)=\\beta_0+\\beta_1X_1+\\cdots +\\beta_p X_p\\] In other words, the expected value of \\(Y\\) (given \\(X_1,\\ldots, X_p\\)) is a linear transformation of \\(X_1,\\ldots, X_p\\)."
  },
  {
    "objectID": "slides/25_linear-regression.html#other-models",
    "href": "slides/25_linear-regression.html#other-models",
    "title": "MATH167R: Linear regression",
    "section": "Other models",
    "text": "Other models\nHeight/gravity"
  },
  {
    "objectID": "slides/25_linear-regression.html#other-models-use-cases",
    "href": "slides/25_linear-regression.html#other-models-use-cases",
    "title": "MATH167R: Linear regression",
    "section": "Other models: use cases",
    "text": "Other models: use cases"
  },
  {
    "objectID": "slides/25_linear-regression.html#why-linear-regression-1",
    "href": "slides/25_linear-regression.html#why-linear-regression-1",
    "title": "MATH167R: Linear regression",
    "section": "Why linear regression?",
    "text": "Why linear regression?\n\nSimplicity: Easy to fit, usually gets the general trend correct, hard to overfit\nInterpretability: Consider the following log-normal model: \\[Y=\\exp(\\beta_0+\\beta_1X_1+\\cdots +\\beta_p X_p+\\epsilon); \\hspace{1em} \\epsilon\\sim N(0, \\sigma^2)\\] How do we interpret \\(\\beta_1\\)?"
  },
  {
    "objectID": "slides/25_linear-regression.html#additivity",
    "href": "slides/25_linear-regression.html#additivity",
    "title": "MATH167R: Linear regression",
    "section": "Additivity",
    "text": "Additivity\nNote that linear regression can often be generalized to encompass other models. Consider the following model: \\[Y=\\beta_0+\\beta_1X_1 +\\beta_2X_1^2\\] This is an example of polynomial regression, but the methods for fitting this model are essentially the same as ordinary least squares, using \\(X_1^2\\) as an extra covariate.\nMany alternative models can be written in this form by transforming the covariates or transforming the response \\(Y\\)."
  },
  {
    "objectID": "slides/25_linear-regression.html#assumptions-of-linear-regression",
    "href": "slides/25_linear-regression.html#assumptions-of-linear-regression",
    "title": "MATH167R: Linear regression",
    "section": "Assumptions of linear regression",
    "text": "Assumptions of linear regression\n\nLinearity: The relationship between \\(X\\) and \\(E(Y\\mid X)\\) is linear: \\[E(Y_i\\mid X_i= x_i)= \\beta_0+\\beta_1x_i\\]\nIndependence: The observations \\(Y_1,\\ldots, Y_n\\) are independent of each other.\nNormality: \\[Y_i\\mid X_i= x_i\\sim N(\\beta_0+\\beta_1x_i, \\sigma^2)\\]\nEqual variance: The variance of the errors \\(\\epsilon_i\\) is the same for all values of \\(x_i\\)."
  },
  {
    "objectID": "slides/25_linear-regression.html#checking-the-assumptions",
    "href": "slides/25_linear-regression.html#checking-the-assumptions",
    "title": "MATH167R: Linear regression",
    "section": "Checking the assumptions",
    "text": "Checking the assumptions"
  },
  {
    "objectID": "slides/25_linear-regression.html#all-assumptions-true",
    "href": "slides/25_linear-regression.html#all-assumptions-true",
    "title": "MATH167R: Linear regression",
    "section": "All assumptions true",
    "text": "All assumptions true\n\n\n\n\nlibrary(tidyverse)\nx &lt;- runif(n = 40, min = 0, max = 5)\ny &lt;- rnorm(n = 40, mean = 1 + 2 * x)\nlm_res &lt;- lm(y ~ x)\nggplot(mapping = aes(x = x, y = y)) +\n  geom_point(size = 1.5) +\n  geom_abline(\n    slope = lm_res$coefficients[2], \n    intercept = lm_res$coefficients[1],\n    color = \"red\"\n  ) + \n  theme_minimal()"
  },
  {
    "objectID": "slides/25_linear-regression.html#all-assumptions-true-1",
    "href": "slides/25_linear-regression.html#all-assumptions-true-1",
    "title": "MATH167R: Linear regression",
    "section": "All assumptions true",
    "text": "All assumptions true\n\n\n\nInference: Asymptotically valid confidence intervals and hypothesis tests for \\(\\beta_0\\) and \\(\\beta_1\\).\n\n\n\nsummary(lm_res)\n\n\nCall:\nlm(formula = y ~ x)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-1.9766 -0.5870 -0.1388  0.5345  1.8733 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)   1.2927     0.2728   4.738    3e-05 ***\nx             1.9568     0.1006  19.448   &lt;2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.8904 on 38 degrees of freedom\nMultiple R-squared:  0.9087,    Adjusted R-squared:  0.9063 \nF-statistic: 378.2 on 1 and 38 DF,  p-value: &lt; 2.2e-16"
  },
  {
    "objectID": "slides/25_linear-regression.html#all-assumptions-true-2",
    "href": "slides/25_linear-regression.html#all-assumptions-true-2",
    "title": "MATH167R: Linear regression",
    "section": "All assumptions true",
    "text": "All assumptions true\n\n\n\nPrediction: Assuming the model holds for new data, unbiased point predictions and asymptotically valid prediction intervals for \\(Y_{n+1}\\).\n\n\n\npredict(lm_res, \n        newdata = list(x = 1), \n        interval = \"prediction\")\n\n       fit      lwr      upr\n1 3.249552 1.404936 5.094169"
  },
  {
    "objectID": "slides/25_linear-regression.html#breaking-linearity",
    "href": "slides/25_linear-regression.html#breaking-linearity",
    "title": "MATH167R: Linear regression",
    "section": "Breaking linearity",
    "text": "Breaking linearity\nWhat if \\(E(Y_i\\mid X_i= x_i)\\not= \\beta_0+\\beta_1x_i\\)?\n\n\n\n\nx &lt;- runif(n = 40, min = 0, max = 5)\ny &lt;- rnorm(n = 40, mean = 1 + 2 * x^3)\nlm_res &lt;- lm(y ~ x)\nggplot(mapping = aes(x = x, y = y)) +\n  geom_point(size = 1.5) +\n  geom_abline(\n    slope = lm_res$coefficients[2], \n    intercept = lm_res$coefficients[1],\n    color = \"red\"\n  ) + \n  theme_minimal()"
  },
  {
    "objectID": "slides/25_linear-regression.html#breaking-linearity-1",
    "href": "slides/25_linear-regression.html#breaking-linearity-1",
    "title": "MATH167R: Linear regression",
    "section": "Breaking linearity",
    "text": "Breaking linearity\nOur standard inference and prediction strategies no longer work in general.\nInference: Confidence intervals and hypothesis tests for \\(\\beta_0\\) and \\(\\beta_1\\) are no longer valid.\nPrediction: Point predictions are no longer unbiased and prediction intervals are no longer valid."
  },
  {
    "objectID": "slides/25_linear-regression.html#collinearity",
    "href": "slides/25_linear-regression.html#collinearity",
    "title": "MATH167R: Linear regression",
    "section": "Collinearity",
    "text": "Collinearity\nWhat if our predictor variables are closely related? Consider the following simulation:\n\nn &lt;- 50\nx1 &lt;- rnorm(n)\nx2 &lt;- x1 * 2\ne &lt;- rnorm(n)\ny &lt;- 1 + 3 * x1 + e\nlm(y ~ x1)\n\n\nCall:\nlm(formula = y ~ x1)\n\nCoefficients:\n(Intercept)           x1  \n      1.031        3.120  \n\nlm(y ~ x1 + x2)\n\n\nCall:\nlm(formula = y ~ x1 + x2)\n\nCoefficients:\n(Intercept)           x1           x2  \n      1.031        3.120           NA"
  },
  {
    "objectID": "slides/25_linear-regression.html#collinearity-1",
    "href": "slides/25_linear-regression.html#collinearity-1",
    "title": "MATH167R: Linear regression",
    "section": "Collinearity",
    "text": "Collinearity\nWhat if our predictor variables are closely related? Consider the following simulation:\n\nx2b &lt;- x1 * 2 + rnorm(n, sd = .01)\nlm(y ~ x1 + x2b)\n\n\nCall:\nlm(formula = y ~ x1 + x2b)\n\nCoefficients:\n(Intercept)           x1          x2b  \n      1.042       33.013      -14.939"
  },
  {
    "objectID": "slides/22_hypothesis-testing-II.html#overview-of-today",
    "href": "slides/22_hypothesis-testing-II.html#overview-of-today",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Overview of today",
    "text": "Overview of today\n\nReview of basic hypothesis tests\nDesigning your own hypothesis test\nPermutation tests"
  },
  {
    "objectID": "slides/22_hypothesis-testing-II.html#summary-hypothesis-testing",
    "href": "slides/22_hypothesis-testing-II.html#summary-hypothesis-testing",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Summary: hypothesis testing",
    "text": "Summary: hypothesis testing\n\nDefine null and alternative hypotheses.\n\nex. \\(H_0:\\mu = 0\\) and \\(H_a:\\mu\\neq 0\\)\n\nCompute a test statistic for which the null sampling distribution is known (based on assumptions about the population/sample).\n\nex. \\(T=(\\overline{X}_n-\\mu)/(S^2/\\sqrt{n})\\sim t_{n-1}\\)\n\nCompare the test statistic with the null distribution to obtain a P-value.\n\nex. \\(P(|T|&gt;|t|)\\) where \\(t\\) is the observed test statistic."
  },
  {
    "objectID": "slides/22_hypothesis-testing-II.html#example-two-sample-z-test",
    "href": "slides/22_hypothesis-testing-II.html#example-two-sample-z-test",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Example: Two-sample \\(z\\)-test",
    "text": "Example: Two-sample \\(z\\)-test\nAssumptions:\n\n\\(X_1, \\ldots, X_m\\) is a random sample from a distribution with mean \\(\\mu_1\\) and variance \\(\\sigma_1^2\\).\n\\(Y_1, \\ldots, Y_n\\) is a random sample from a distribution with mean \\(\\mu_2\\) and variance \\(\\sigma_2^2\\).\nThe \\(X\\) and \\(Y\\) samples are independent of one another.\nThe sample sizes are adequately large (usually appropriate if \\(m&gt;40\\) and \\(n&gt;40\\)."
  },
  {
    "objectID": "slides/22_hypothesis-testing-II.html#example-two-sample-z-test-1",
    "href": "slides/22_hypothesis-testing-II.html#example-two-sample-z-test-1",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Example: Two-sample \\(z\\)-test",
    "text": "Example: Two-sample \\(z\\)-test\nHypotheses:\n\nH_0: \\(\\mu_1=\\mu_2\\)\nH_a: \\(\\mu_1\\not=\\mu_2\\)"
  },
  {
    "objectID": "slides/22_hypothesis-testing-II.html#example-two-sample-z-test-2",
    "href": "slides/22_hypothesis-testing-II.html#example-two-sample-z-test-2",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Example: Two-sample \\(z\\)-test",
    "text": "Example: Two-sample \\(z\\)-test\nUnder these assumptions, \\(\\overline{X}-\\overline{Y}\\) is approximately normal and the test statistic \\[Z=\\frac{\\overline{X}-\\overline{Y}-(\\mu_1-\\mu_2)}{\\sqrt{\\frac{S_1^2}{m}+\\frac{S_2^2}{n}}}\\] has approximately a standard normal distribution when \\(H_0\\) is true."
  },
  {
    "objectID": "slides/22_hypothesis-testing-II.html#example-two-sample-t-test",
    "href": "slides/22_hypothesis-testing-II.html#example-two-sample-t-test",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Example: Two-sample \\(t\\)-test",
    "text": "Example: Two-sample \\(t\\)-test\nWhen the samples are small, but the population distributions are approximately normal, the standardized test statistic \\[T=\\frac{\\overline{X}-\\overline{Y}-(\\mu_1-\\mu_2)}{\\sqrt{\\frac{S_1^2}{m}+\\frac{S_2^2}{n}}}\\] has approximately a \\(t\\) distribution with df \\(v\\) estimated from the data by\n\\[\\nu =\\frac{\\left(\\frac{s_1^2}{m}+\\frac{s_2^2}{n}\\right)^2}{\\frac{(s_1^2/m)^2}{m-1}+\\frac{(s_2^2/n)^2}{n-1}}\\]"
  },
  {
    "objectID": "slides/22_hypothesis-testing-II.html#example-two-sample-t-test-1",
    "href": "slides/22_hypothesis-testing-II.html#example-two-sample-t-test-1",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Example: Two-sample \\(t\\)-test",
    "text": "Example: Two-sample \\(t\\)-test\nWe can use the sleep data in R, which contains Student’s example data on the effect of two sleeping drugs on 10 patients, to test out the t.test() function.\n\nt.test(extra ~ group, data = sleep)\n\n\n    Welch Two Sample t-test\n\ndata:  extra by group\nt = -1.8608, df = 17.776, p-value = 0.07939\nalternative hypothesis: true difference in means between group 1 and group 2 is not equal to 0\n95 percent confidence interval:\n -3.3654832  0.2054832\nsample estimates:\nmean in group 1 mean in group 2 \n           0.75            2.33"
  },
  {
    "objectID": "slides/22_hypothesis-testing-II.html#there-is-only-one-test",
    "href": "slides/22_hypothesis-testing-II.html#there-is-only-one-test",
    "title": "MATH167R: Hypothesis Testing",
    "section": "“There is only one test”",
    "text": "“There is only one test”\n\nImage by Allen Downey"
  },
  {
    "objectID": "slides/22_hypothesis-testing-II.html#there-is-only-one-test-tim-and-bob",
    "href": "slides/22_hypothesis-testing-II.html#there-is-only-one-test-tim-and-bob",
    "title": "MATH167R: Hypothesis Testing",
    "section": "“There is only one test”: Tim and Bob",
    "text": "“There is only one test”: Tim and Bob\n\nLea et al. (2007)"
  },
  {
    "objectID": "slides/22_hypothesis-testing-II.html#there-is-only-one-test-tim-and-bob-1",
    "href": "slides/22_hypothesis-testing-II.html#there-is-only-one-test-tim-and-bob-1",
    "title": "MATH167R: Hypothesis Testing",
    "section": "“There is only one test”: Tim and Bob",
    "text": "“There is only one test”: Tim and Bob\n\nImage by Allen DowneyWhat is the data? Test statistic? Model of \\(H_0\\)? P-value?"
  },
  {
    "objectID": "slides/22_hypothesis-testing-II.html#designing-your-own-hypothesis-test",
    "href": "slides/22_hypothesis-testing-II.html#designing-your-own-hypothesis-test",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Designing your own hypothesis test",
    "text": "Designing your own hypothesis test\nSuppose we have five sequences of 200 coin flips.\n\n\n# A tibble: 6 × 5\n  A     B     C     D     E    \n  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;\n1 T     H     H     T     H    \n2 H     H     H     H     H    \n3 T     H     T     H     H    \n4 H     T     H     H     H    \n5 H     T     T     H     T    \n6 T     H     T     T     H    \n\n\nOnly one sequence is generated by flipping a fair coin, using the code sample(c(\"H\", \"T\"), 200, replace = T).\nCan we design a hypothesis test to help us identify the true sequence?\nThis activity adapted from a blog post from Alex Hayes."
  },
  {
    "objectID": "slides/22_hypothesis-testing-II.html#designing-your-own-hypothesis-test-1",
    "href": "slides/22_hypothesis-testing-II.html#designing-your-own-hypothesis-test-1",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Designing your own hypothesis test",
    "text": "Designing your own hypothesis test\nFirst, load the flips using the following code.\n\nlibrary(tidyverse)\nflips &lt;- read_csv(\"https://math167r-s24.github.io/static/flips.csv\")\nhead(flips)\n\n# A tibble: 6 × 5\n  A     B     C     D     E    \n  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;\n1 T     H     H     T     H    \n2 H     H     H     H     H    \n3 T     H     T     H     H    \n4 H     T     H     H     H    \n5 H     T     T     H     T    \n6 T     H     T     T     H    \n\n\nCan you tell which is real and which are fake?"
  },
  {
    "objectID": "slides/22_hypothesis-testing-II.html#visual-inspection",
    "href": "slides/22_hypothesis-testing-II.html#visual-inspection",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Visual inspection",
    "text": "Visual inspection"
  },
  {
    "objectID": "slides/22_hypothesis-testing-II.html#visual-inspection-1",
    "href": "slides/22_hypothesis-testing-II.html#visual-inspection-1",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Visual inspection",
    "text": "Visual inspection\n\nflips_long &lt;- flips |&gt;\n  mutate(id = 1:200) |&gt;\n  pivot_longer(-id,  names_to = \"Sequence\", values_to = \"Flip\")\n\nflips_long |&gt; \n  ggplot(aes(x = id, y = Flip, group = Sequence)) +\n  geom_line() +\n  geom_point(aes(color = Flip)) +\n  facet_grid(rows = vars(Sequence)) + \n  theme(\n    legend.position = \"none\",\n    axis.title = element_blank()\n  )"
  },
  {
    "objectID": "slides/22_hypothesis-testing-II.html#a-simple-test-counting-the-number-of-heads",
    "href": "slides/22_hypothesis-testing-II.html#a-simple-test-counting-the-number-of-heads",
    "title": "MATH167R: Hypothesis Testing",
    "section": "A simple test: Counting the number of heads",
    "text": "A simple test: Counting the number of heads\nWe can use the test we discussed last class for a sample proportion:\n\\[\\begin{align}\nH_0: p&=1/2\\\\\nH_a: p&\\neq 1/2\n\\end{align}\\]\nwhere we assume that the flips \\(X_1,...,X_n\\) are iid \\(X_i \\stackrel{iid}{\\sim} \\mathrm{Binomial}(1, p)\\) with probability of heads \\(p\\)."
  },
  {
    "objectID": "slides/22_hypothesis-testing-II.html#a-simple-test-counting-the-number-of-heads-1",
    "href": "slides/22_hypothesis-testing-II.html#a-simple-test-counting-the-number-of-heads-1",
    "title": "MATH167R: Hypothesis Testing",
    "section": "A simple test: Counting the number of heads",
    "text": "A simple test: Counting the number of heads\nWhat are the test statistics for each of our sequences? One option is to use the total number of heads.\n\n\n# A tibble: 5 × 2\n  Sequence nHeads\n  &lt;chr&gt;     &lt;int&gt;\n1 A           100\n2 B           108\n3 C           114\n4 D           101\n5 E            98"
  },
  {
    "objectID": "slides/22_hypothesis-testing-II.html#a-simple-test-counting-the-number-of-heads-2",
    "href": "slides/22_hypothesis-testing-II.html#a-simple-test-counting-the-number-of-heads-2",
    "title": "MATH167R: Hypothesis Testing",
    "section": "A simple test: Counting the number of heads",
    "text": "A simple test: Counting the number of heads\nDo any of these indicate that certain sequences are fake? How could we get corresponding P-values?\nApproach one: Use the normal approximation: \\[\\widehat{p}\\sim N\\left(p, \\sqrt{\\frac{p(1-p)}{n}}\\right)\\]\n\nphats &lt;- flips_long |&gt;\n  group_by(Sequence) |&gt;\n  summarize(phat = mean(Flip == \"H\"))\n# two-sided p-values\n(1 - pnorm(abs(phats$phat - .5), sd = sqrt(.5 * .5 / 200))) * 2\n\n[1] 1.00000000 0.25789904 0.04771488 0.88753708 0.77729741\n\n\nThis suggests that sequence C has too many heads."
  },
  {
    "objectID": "slides/22_hypothesis-testing-II.html#a-simple-test-counting-the-number-of-heads-3",
    "href": "slides/22_hypothesis-testing-II.html#a-simple-test-counting-the-number-of-heads-3",
    "title": "MATH167R: Hypothesis Testing",
    "section": "A simple test: Counting the number of heads",
    "text": "A simple test: Counting the number of heads\nApproach two: Use simulations to estimate the distribution of number of heads under the null:"
  },
  {
    "objectID": "slides/22_hypothesis-testing-II.html#a-simple-test-counting-the-number-of-heads-4",
    "href": "slides/22_hypothesis-testing-II.html#a-simple-test-counting-the-number-of-heads-4",
    "title": "MATH167R: Hypothesis Testing",
    "section": "A simple test: Counting the number of heads",
    "text": "A simple test: Counting the number of heads\nApproach two: Use simulations to estimate the distribution of number of heads under the null:\n\nsim_totals &lt;- data.frame(x = rbinom(30000, 200, .5))\nflip_totals &lt;- flips_long |&gt;\n  group_by(Sequence) |&gt;\n  summarize(nHeads = sum(Flip == \"H\"))\nggplot() +\n  geom_histogram(data = sim_totals, aes(x = x)) +\n  geom_vline(data = flip_totals, aes(color = Sequence, xintercept = nHeads)) +\n  xlab(\"Number of heads\")"
  },
  {
    "objectID": "slides/22_hypothesis-testing-II.html#a-simple-test-counting-the-number-of-heads-5",
    "href": "slides/22_hypothesis-testing-II.html#a-simple-test-counting-the-number-of-heads-5",
    "title": "MATH167R: Hypothesis Testing",
    "section": "A simple test: Counting the number of heads",
    "text": "A simple test: Counting the number of heads\nApproach two: Use simulations to estimate the distribution of number of heads under the null:\n\np_vals &lt;- sapply(flip_totals$nHeads,\n                 function(x) mean(abs(sim_totals - 100) &gt;= (x - 100)))\np_vals\n\n[1] 1.00000000 0.29033333 0.05516667 0.94340000 1.00000000"
  },
  {
    "objectID": "slides/22_hypothesis-testing-II.html#a-slightly-different-test-streak-length",
    "href": "slides/22_hypothesis-testing-II.html#a-slightly-different-test-streak-length",
    "title": "MATH167R: Hypothesis Testing",
    "section": "A slightly different test: streak length",
    "text": "A slightly different test: streak length\nWe can also consider a different test statistic: longest streak.\n\nflip_streaks &lt;- flips_long |&gt;\n  group_by(Sequence) |&gt;\n  summarize(longest_streak = max(rle(Flip)$length))\nflip_streaks\n\n# A tibble: 5 × 2\n  Sequence longest_streak\n  &lt;chr&gt;             &lt;int&gt;\n1 A                     2\n2 B                    14\n3 C                     9\n4 D                     8\n5 E                     6"
  },
  {
    "objectID": "slides/22_hypothesis-testing-II.html#a-slightly-different-test-streak-length-1",
    "href": "slides/22_hypothesis-testing-II.html#a-slightly-different-test-streak-length-1",
    "title": "MATH167R: Hypothesis Testing",
    "section": "A slightly different test: streak length",
    "text": "A slightly different test: streak length\nWe can then simulate the null distribution of streak length.\n\nsim_streaks &lt;- \n  data.frame(\n    x = replicate(10000, \n                  max(rle(sample(c(\"H\", \"T\"), size = 200, replace = T))$length)\n    )\n  )\nggplot() +\n  geom_histogram(data = sim_streaks, aes(x = x), binwidth = 1) +\n  geom_vline(data = flip_streaks,\n             aes(color = Sequence, xintercept = longest_streak)) +\n  xlab(\"Longest streak\")"
  },
  {
    "objectID": "slides/22_hypothesis-testing-II.html#a-slightly-different-test-streak-length-2",
    "href": "slides/22_hypothesis-testing-II.html#a-slightly-different-test-streak-length-2",
    "title": "MATH167R: Hypothesis Testing",
    "section": "A slightly different test: streak length",
    "text": "A slightly different test: streak length"
  },
  {
    "objectID": "slides/22_hypothesis-testing-II.html#a-slightly-different-test-streak-length-3",
    "href": "slides/22_hypothesis-testing-II.html#a-slightly-different-test-streak-length-3",
    "title": "MATH167R: Hypothesis Testing",
    "section": "A slightly different test: streak length",
    "text": "A slightly different test: streak length\nNote that calculating the P-value is tricky here–a one-sided test may make the most sense.\n\np_vals &lt;- sapply(flip_streaks$longest_streak,\n                 function (x) mean(sim_streaks$x &gt; x))\np_vals\n\n[1] 1.0000 0.0054 0.1769 0.3216 0.8019\n\n\nThis suggests that the longest streaks are too long for sequence B. Note that we could try other test statistics. What about average streak length?"
  },
  {
    "objectID": "slides/22_hypothesis-testing-II.html#designing-your-own-hypothesis-test-2",
    "href": "slides/22_hypothesis-testing-II.html#designing-your-own-hypothesis-test-2",
    "title": "MATH167R: Hypothesis Testing",
    "section": "Designing your own hypothesis test",
    "text": "Designing your own hypothesis test\n\nCome up with your own test statistic.\nSimulate the null distribution of your test statistic.\nCan you identify which sequence is the real one?"
  },
  {
    "objectID": "slides/22_hypothesis-testing-II.html#p-hacking-designing-a-test-after-seeing-the-data",
    "href": "slides/22_hypothesis-testing-II.html#p-hacking-designing-a-test-after-seeing-the-data",
    "title": "MATH167R: Hypothesis Testing",
    "section": "P-Hacking: Designing a test after seeing the data",
    "text": "P-Hacking: Designing a test after seeing the data\nIn principle, we should decide which test to use before seeing the data. Why?\nI could use the following test statistic: number of times the exact sequence \\(D\\) is obtained. What is the P-value for each sequence?\n\nknitr::knit_exit()"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#warm-up",
    "href": "slides/08_advanced-visualization.html#warm-up",
    "title": "MATH167R: Data visualization",
    "section": "Warm-up",
    "text": "Warm-up\n\nWhat does the following code do?\n\nlibrary(palmerpenguins)\nlibrary(ggplot2)\ndata(penguins)\nggplot(penguins, \n       aes(x = flipper_length_mm, \n           y = body_mass_g, \n           color = species)) + \n  geom_point()"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#warm-up-1",
    "href": "slides/08_advanced-visualization.html#warm-up-1",
    "title": "MATH167R: Data visualization",
    "section": "Warm-up",
    "text": "Warm-up\n\nlibrary(palmerpenguins)\nlibrary(ggplot2)\ndata(penguins)\nggplot(penguins, \n       aes(x = flipper_length_mm, \n           y = body_mass_g, \n           color = species)) + \n  geom_point()"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#overview-of-today",
    "href": "slides/08_advanced-visualization.html#overview-of-today",
    "title": "MATH167R: Data visualization",
    "section": "Overview of today",
    "text": "Overview of today\n\nReviewing ggplot2\nAdvanced data visualization\nStyling R visualizations"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#review-grammar-of-graphics",
    "href": "slides/08_advanced-visualization.html#review-grammar-of-graphics",
    "title": "MATH167R: Data visualization",
    "section": "Review: grammar of graphics",
    "text": "Review: grammar of graphics\nThe three basic layers:\n\nData: a data frame with all of the variables of interest\nAesthetics: graphical dimensions like x, y, color, shape, and more.\nGeometries: the specific markings used to illustrate your variables and aesthetics."
  },
  {
    "objectID": "slides/08_advanced-visualization.html#review-cats-and-dogs",
    "href": "slides/08_advanced-visualization.html#review-cats-and-dogs",
    "title": "MATH167R: Data visualization",
    "section": "Review: Cats and Dogs",
    "text": "Review: Cats and Dogs\nSuppose we have the following data on animal weights. How can we compute the average weights of cats and dogs? [example from Andrew Heiss]\n\nhead(animals, n = 10)\n\n\n\n# A tibble: 10 × 2\n   animal weight\n   &lt;chr&gt;   &lt;dbl&gt;\n 1 Cat      18.1\n 2 Dog      37.9\n 3 Cat      24.2\n 4 Dog      58.8\n 5 Dog      51.7\n 6 Dog      38.5\n 7 Cat      22.2\n 8 Dog      27.8\n 9 Cat      17.4\n10 Cat      24.3"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#code-for-generating-data",
    "href": "slides/08_advanced-visualization.html#code-for-generating-data",
    "title": "MATH167R: Data visualization",
    "section": "Code for generating data",
    "text": "Code for generating data\n\nlibrary(tidyverse)\n# example from Andrew Heiss\nset.seed(12)\nanimals &lt;- tibble(animal = c(rep(c(\"Small cat\", \"Big cat\"), each = 250), rep(\"Dog\", 500))) |&gt; \n  mutate(weight = case_when(\n    animal == \"Small cat\" ~ rnorm(n(), 20, 5),\n    animal == \"Big cat\" ~ rnorm(n(), 60, 5),\n    animal == \"Dog\" ~ rnorm(n(), 40, 10)\n  )) |&gt; \n  mutate(animal = ifelse(str_detect(animal, \"cat\"), \"Cat\", \"Dog\"))"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#review-cats-and-dogs-1",
    "href": "slides/08_advanced-visualization.html#review-cats-and-dogs-1",
    "title": "MATH167R: Data visualization",
    "section": "Review: Cats and Dogs",
    "text": "Review: Cats and Dogs\n\nmean_wt &lt;- animals |&gt;\n  group_by(animal) |&gt;\n  summarize(mean_wt = mean(weight))\nmean_wt\n\n# A tibble: 2 × 2\n  animal mean_wt\n  &lt;chr&gt;    &lt;dbl&gt;\n1 Cat       40.2\n2 Dog       40.1\n\n\nHow can we turn this into a visual?"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#review-cats-and-dogs-2",
    "href": "slides/08_advanced-visualization.html#review-cats-and-dogs-2",
    "title": "MATH167R: Data visualization",
    "section": "Review: Cats and Dogs",
    "text": "Review: Cats and Dogs\nIn ggplot2, there are two geometries for bar plots: geom_col() and geom_bar().\n\nThe height of the bars of geom_col() represent numerical values in each group.\nThe height of the bars of geom_bar() represent the number of rows for each group."
  },
  {
    "objectID": "slides/08_advanced-visualization.html#review-cats-and-dogs-3",
    "href": "slides/08_advanced-visualization.html#review-cats-and-dogs-3",
    "title": "MATH167R: Data visualization",
    "section": "Review: Cats and Dogs",
    "text": "Review: Cats and Dogs\n\nggplot(data = mean_wt, \n       aes(x = animal, y = mean_wt, fill = animal)) +\n  geom_col() +\n  ylab(\"Mean weight (lb)\")"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#review-cats-and-dogs-4",
    "href": "slides/08_advanced-visualization.html#review-cats-and-dogs-4",
    "title": "MATH167R: Data visualization",
    "section": "Review: Cats and Dogs",
    "text": "Review: Cats and Dogs\n\n# construct named vector\nmean_wt_vec &lt;- mean_wt$mean_wt\nnames(mean_wt_vec) &lt;- mean_wt$animal\nbarplot(mean_wt_vec,\n        col = c(\"red\", \"blue\"),\n        ylab = \"Mean weight (lb)\")"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#if-possible-show-the-data",
    "href": "slides/08_advanced-visualization.html#if-possible-show-the-data",
    "title": "MATH167R: Data visualization",
    "section": "If possible, show the data",
    "text": "If possible, show the data\n\nggplot(animals, aes(x = animal, y = weight, color = animal)) +\n  geom_point(position = position_jitter(height = 0)) +\n  labs(x = NULL, y = \"Mean Weight (lb)\") +\n  guides(color = \"none\")"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#if-possible-show-the-data-1",
    "href": "slides/08_advanced-visualization.html#if-possible-show-the-data-1",
    "title": "MATH167R: Data visualization",
    "section": "If possible, show the data",
    "text": "If possible, show the data\n\nggplot(animals, aes(x = animal, \n                    y = weight, \n                    color = animal)) +\n  geom_boxplot() +\n  geom_point(position = position_jitter(height = 0), alpha = 0.5) +\n  labs(x = NULL, y = \"Mean weight (lb)\") +\n  guides(color = \"none\")"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#review-cats-and-dogs-5",
    "href": "slides/08_advanced-visualization.html#review-cats-and-dogs-5",
    "title": "MATH167R: Data visualization",
    "section": "Review: Cats and Dogs",
    "text": "Review: Cats and Dogs\nTakeaways:\n\nData has to be in the right format to work with ggplot2\nGeometries can be combined for more complex visualizations\nOnly showing summary statistics can be misleading and can hide information."
  },
  {
    "objectID": "slides/08_advanced-visualization.html#gapminder-data",
    "href": "slides/08_advanced-visualization.html#gapminder-data",
    "title": "MATH167R: Data visualization",
    "section": "Gapminder data",
    "text": "Gapminder data\n\nlink"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#gapminder-data-1",
    "href": "slides/08_advanced-visualization.html#gapminder-data-1",
    "title": "MATH167R: Data visualization",
    "section": "Gapminder data",
    "text": "Gapminder data\n\nWhat changes occur over time? What do you notice?"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#gapminder-data-2",
    "href": "slides/08_advanced-visualization.html#gapminder-data-2",
    "title": "MATH167R: Data visualization",
    "section": "Gapminder data",
    "text": "Gapminder data\n\nlibrary(gapminder)\ndata(gapminder)\nhead(gapminder)\n\n# A tibble: 6 × 6\n  country     continent  year lifeExp      pop gdpPercap\n  &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;\n1 Afghanistan Asia       1952    28.8  8425333      779.\n2 Afghanistan Asia       1957    30.3  9240934      821.\n3 Afghanistan Asia       1962    32.0 10267083      853.\n4 Afghanistan Asia       1967    34.0 11537966      836.\n5 Afghanistan Asia       1972    36.1 13079460      740.\n6 Afghanistan Asia       1977    38.4 14880372      786."
  },
  {
    "objectID": "slides/08_advanced-visualization.html#gapminder-data-3",
    "href": "slides/08_advanced-visualization.html#gapminder-data-3",
    "title": "MATH167R: Data visualization",
    "section": "Gapminder data",
    "text": "Gapminder data\n\nsummary(gapminder)\n\n        country        continent        year         lifeExp     \n Afghanistan:  12   Africa  :624   Min.   :1952   Min.   :23.60  \n Albania    :  12   Americas:300   1st Qu.:1966   1st Qu.:48.20  \n Algeria    :  12   Asia    :396   Median :1980   Median :60.71  \n Angola     :  12   Europe  :360   Mean   :1980   Mean   :59.47  \n Argentina  :  12   Oceania : 24   3rd Qu.:1993   3rd Qu.:70.85  \n Australia  :  12                  Max.   :2007   Max.   :82.60  \n (Other)    :1632                                                \n      pop              gdpPercap       \n Min.   :6.001e+04   Min.   :   241.2  \n 1st Qu.:2.794e+06   1st Qu.:  1202.1  \n Median :7.024e+06   Median :  3531.8  \n Mean   :2.960e+07   Mean   :  7215.3  \n 3rd Qu.:1.959e+07   3rd Qu.:  9325.5  \n Max.   :1.319e+09   Max.   :113523.1"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#gapminder-data-4",
    "href": "slides/08_advanced-visualization.html#gapminder-data-4",
    "title": "MATH167R: Data visualization",
    "section": "Gapminder data",
    "text": "Gapminder data\nLet’s work with the following data:\n\ngapminder_2007 &lt;- gapminder |&gt; filter(year == 2007)\n\nHow do we recreate the following plot?"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#gapminder-data-5",
    "href": "slides/08_advanced-visualization.html#gapminder-data-5",
    "title": "MATH167R: Data visualization",
    "section": "Gapminder data",
    "text": "Gapminder data\nWork with the people around you to recreate this plot:"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#gapminder-data-6",
    "href": "slides/08_advanced-visualization.html#gapminder-data-6",
    "title": "MATH167R: Data visualization",
    "section": "Gapminder data",
    "text": "Gapminder data\nHopefully, you produced something like this:\n\nggplot(data = gapminder_2007,\n       mapping = aes(x = gdpPercap,\n                     y = lifeExp,\n                     color = continent,\n                     size = pop)) +\n  geom_point()"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#playing-with-scales",
    "href": "slides/08_advanced-visualization.html#playing-with-scales",
    "title": "MATH167R: Data visualization",
    "section": "Playing with scales",
    "text": "Playing with scales\nScales are another layer we can add on top of our plot:\n\nggplot(data = gapminder_2007,\n       mapping = aes(x = gdpPercap,\n                     y = lifeExp,\n                     color = continent,\n                     size = pop)) +\n  geom_point() +\n  scale_x_log10()\n\nWhat do you expect the output to look like?"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#playing-with-scales-1",
    "href": "slides/08_advanced-visualization.html#playing-with-scales-1",
    "title": "MATH167R: Data visualization",
    "section": "Playing with scales",
    "text": "Playing with scales"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#playing-with-scales-2",
    "href": "slides/08_advanced-visualization.html#playing-with-scales-2",
    "title": "MATH167R: Data visualization",
    "section": "Playing with scales",
    "text": "Playing with scales\n\nggplot(data = gapminder_2007,\n       mapping = aes(x = gdpPercap,\n                     y = lifeExp,\n                     color = continent,\n                     size = pop)) +\n  geom_point() +\n  scale_x_log10() +\n  scale_color_viridis_d() # discrete viridis color scale"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#small-multiples",
    "href": "slides/08_advanced-visualization.html#small-multiples",
    "title": "MATH167R: Data visualization",
    "section": "Small multiples",
    "text": "Small multiples\n“At the heart of quantitative reasoning is a single question: Compared to what? Small multiple designs, multivariate and data bountiful, answer directly by visually enforcing comparisons of changes, of the differences among objects, of the scope of alternatives. For a wide range of problems in data presentation, small multiples are the best design solution.”\n\nEdward Tufte"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#small-multiples-1",
    "href": "slides/08_advanced-visualization.html#small-multiples-1",
    "title": "MATH167R: Data visualization",
    "section": "Small multiples",
    "text": "Small multiples\nWe can often make comparisons clearer by splitting a plot into many “small multiples” which have the same axes:"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#facets-for-small-multiples",
    "href": "slides/08_advanced-visualization.html#facets-for-small-multiples",
    "title": "MATH167R: Data visualization",
    "section": "Facets for small multiples",
    "text": "Facets for small multiples\nSmall multiples are implemented in ggplot2 via the facet_wrap() and facet_grid() functions:\n\nggplot(data = gapminder_2007,\n       mapping = aes(x = gdpPercap,\n                     y = lifeExp,\n                     color = continent,\n                     size = pop)) +\n  geom_point() +\n  scale_x_log10() +\n  facet_wrap(~continent)"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#gapminder-data-7",
    "href": "slides/08_advanced-visualization.html#gapminder-data-7",
    "title": "MATH167R: Data visualization",
    "section": "Gapminder data",
    "text": "Gapminder data\nWork with the people around you to recreate this plot:"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#themes",
    "href": "slides/08_advanced-visualization.html#themes",
    "title": "MATH167R: Data visualization",
    "section": "Themes",
    "text": "Themes\nggplot2 provides a default theme: gray background, basic discrete color scheme, etc."
  },
  {
    "objectID": "slides/08_advanced-visualization.html#other-themes",
    "href": "slides/08_advanced-visualization.html#other-themes",
    "title": "MATH167R: Data visualization",
    "section": "Other themes",
    "text": "Other themes\nHowever, ggplot2 also comes with additional themes that you can layer on top of your plots:\n\nggplot(penguins, \n       aes(x = flipper_length_mm, \n           y = body_mass_g, \n           color = species)) +\n  geom_point() +\n  theme_minimal()"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#other-themes-1",
    "href": "slides/08_advanced-visualization.html#other-themes-1",
    "title": "MATH167R: Data visualization",
    "section": "Other themes",
    "text": "Other themes\n\nggplot(penguins, \n       aes(x = flipper_length_mm, \n           y = body_mass_g, \n           color = species)) +\n  geom_point() +\n  theme_bw()"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#other-themes-2",
    "href": "slides/08_advanced-visualization.html#other-themes-2",
    "title": "MATH167R: Data visualization",
    "section": "Other themes",
    "text": "Other themes\n\nggplot(penguins, \n       aes(x = flipper_length_mm, \n           y = body_mass_g, \n           color = species)) +\n  geom_point() +\n  theme_dark()"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#other-themes-3",
    "href": "slides/08_advanced-visualization.html#other-themes-3",
    "title": "MATH167R: Data visualization",
    "section": "Other themes",
    "text": "Other themes\nOther themes can be obtained from the ggthemes package:\n\nlibrary(ggthemes)\nggplot(penguins, \n       aes(x = flipper_length_mm, \n           y = body_mass_g, \n           color = species)) +\n  geom_point() +\n  theme_economist_white()"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#other-themes-4",
    "href": "slides/08_advanced-visualization.html#other-themes-4",
    "title": "MATH167R: Data visualization",
    "section": "Other themes",
    "text": "Other themes\n\nggplot(penguins, \n       aes(x = flipper_length_mm, \n           y = body_mass_g, \n           color = species)) +\n  geom_point() +\n  theme_wsj()"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#other-themes-5",
    "href": "slides/08_advanced-visualization.html#other-themes-5",
    "title": "MATH167R: Data visualization",
    "section": "Other themes",
    "text": "Other themes\n\nggplot(penguins, \n       aes(x = flipper_length_mm, \n           y = body_mass_g, \n           color = species)) +\n  geom_point() +\n  theme_fivethirtyeight()"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#themes-1",
    "href": "slides/08_advanced-visualization.html#themes-1",
    "title": "MATH167R: Data visualization",
    "section": "Themes",
    "text": "Themes\nIf you want finer control over your plot appearance, you can dive into the theme() function:\n\nggplot(penguins, \n       aes(x = flipper_length_mm, \n           y = body_mass_g, \n           color = species)) +\n  geom_point() +\n  theme(legend.text = element_text(size = 30))"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#themes-2",
    "href": "slides/08_advanced-visualization.html#themes-2",
    "title": "MATH167R: Data visualization",
    "section": "Themes",
    "text": "Themes\nWithin the theme function, we can manipulate various theme elements:"
  },
  {
    "objectID": "slides/08_advanced-visualization.html#themes-3",
    "href": "slides/08_advanced-visualization.html#themes-3",
    "title": "MATH167R: Data visualization",
    "section": "Themes",
    "text": "Themes\nOther resources:\n\nClara Granell’s ggplot2 Theme System Cheatsheet\nAndrew Heiss’s Ways to deal with long labels\nChapter 8 of Kieran Healy’s Data Visualization\nHow to create BBC style graphics"
  },
  {
    "objectID": "slides/01_overview.html#course-information",
    "href": "slides/01_overview.html#course-information",
    "title": "MATH167R: Overview",
    "section": "Course information",
    "text": "Course information\n\n\n\n\n\n\n\nInstructor\nPeter Gao\n\n\n\n\nLectures\nWeekly on Monday and Wednesday, 12-1:15pm in MH235.\n\n\nOffice Hours\nM 3-4pm and W 10:30-11:30am in MH426\n\n\nEmail\npeter.gao [at sjsu]\nFeel free to send me a reminder after 48 hours have passed. Please include [MATH 167R] in your subject line."
  },
  {
    "objectID": "slides/01_overview.html#learning-objectives",
    "href": "slides/01_overview.html#learning-objectives",
    "title": "MATH167R: Overview",
    "section": "Learning objectives",
    "text": "Learning objectives\nIn this class we will discuss some basic computer science concepts, but we will emphasize tools for data analysis.\nAdvances in computation have enabled advances at every step of the data analysis pipeline:\n\nData collection, storage, and sharing\nExploratory data analysis and visualization\nStatistical inference and prediction\nSimulation \nCommunication and distribution of results"
  },
  {
    "objectID": "slides/01_overview.html#what-is-the-point-of-this-course",
    "href": "slides/01_overview.html#what-is-the-point-of-this-course",
    "title": "MATH167R: Overview",
    "section": "What is the point of this course?",
    "text": "What is the point of this course?\nWe will focus on four major applications of R for data science and statistics:\n\nStatistical programming\nData wrangling\nData visualization and storytelling\nCommunication of results"
  },
  {
    "objectID": "slides/01_overview.html#where-to-look",
    "href": "slides/01_overview.html#where-to-look",
    "title": "MATH167R: Overview",
    "section": "Where to look",
    "text": "Where to look\nCourse website: Course slides, assignment instructions.\nCanvas: Official syllabus, receiving grades, data.\nGradescope: Submitting assignments.\nIf you ever have questions about accessing materials, please contact me. If you need any kind of accommodations, please let me know as soon as possible."
  },
  {
    "objectID": "slides/01_overview.html#what-you-need",
    "href": "slides/01_overview.html#what-you-need",
    "title": "MATH167R: Overview",
    "section": "What you need",
    "text": "What you need\nAccess to a computer with R and RStudio: the computer lab in MacQuarrie Hall 221 contains computers with all of the software that will be used during the semester.\nAll of the coursework may be completed on a personal computer and the software is freely available to students."
  },
  {
    "objectID": "slides/01_overview.html#course-structure",
    "href": "slides/01_overview.html#course-structure",
    "title": "MATH167R: Overview",
    "section": "Course structure",
    "text": "Course structure\nYour final grade will be calculated as follows:\n\n10%: Check-ins\n40%: Labs\n20%: Final exam\n30%: Class project"
  },
  {
    "objectID": "slides/01_overview.html#assignments",
    "href": "slides/01_overview.html#assignments",
    "title": "MATH167R: Overview",
    "section": "Assignments",
    "text": "Assignments\n\nCheck-ins: Throughout the semester, you will be assigned short check-in assignments. These are designed to be completed during lab or shortly after and will be due at the start of the next class. At the end of the quarter, your lowest check-in grade will be dropped. They will be graded on the following two point scale:\n\n0: indicates incomplete or unacceptable work\n1: effort towards completing at least 75% of the assignment\n2: effort towards completing the entire assignment."
  },
  {
    "objectID": "slides/01_overview.html#assignments-1",
    "href": "slides/01_overview.html#assignments-1",
    "title": "MATH167R: Overview",
    "section": "Assignments",
    "text": "Assignments\n\nLabs: Throughout the semester, you will be assigned Labs. These are extended, more complicated assignments that you will likely not be able to complete during class. You will typically have two weeks for a lab assignment. At the end of the quarter, your lowest lab grade will be dropped."
  },
  {
    "objectID": "slides/01_overview.html#assignments-2",
    "href": "slides/01_overview.html#assignments-2",
    "title": "MATH167R: Overview",
    "section": "Assignments",
    "text": "Assignments\n\nFinal Exam: There will be one final exam during finals week. Practice questions will be provided in advance of the exam.\nClass Project: During the semester, you will complete a class project that requires you to apply the data manipulation, visualization, and analysis skills covered in this course to a real-world dataset of your choice."
  },
  {
    "objectID": "slides/01_overview.html#late-policy",
    "href": "slides/01_overview.html#late-policy",
    "title": "MATH167R: Overview",
    "section": "Late policy",
    "text": "Late policy\nIn general, the late policy is as follows:\n\nAny assignment that is received late but less than 24 hours late will receive a grade penalty of 25%.\nAny assignment that is received 24–48 hours late will receive a grade penalty of 50%.\nAssignments will not be accepted more than 48 hours late."
  },
  {
    "objectID": "slides/01_overview.html#late-policy-1",
    "href": "slides/01_overview.html#late-policy-1",
    "title": "MATH167R: Overview",
    "section": "Late policy",
    "text": "Late policy\nExtensions for academic purposes (ex. conference presentation or job interview) or extreme circumstances (ex. illness, emergency) will generally be granted. If you would like to request an extension, please do your best to email me at least 24 hours before an assignment is due, along with the reason."
  },
  {
    "objectID": "slides/01_overview.html#collaboration",
    "href": "slides/01_overview.html#collaboration",
    "title": "MATH167R: Overview",
    "section": "Collaboration",
    "text": "Collaboration\n\nYou may discuss problems, approaches, and solutions with your classmates.\nYou must credit anyone with whom you worked on each assignment.\nAll submitted work must be your own; you should not submit code or answers copied from any resource including your classmates.\nIf you have any questions, ask!"
  },
  {
    "objectID": "slides/01_overview.html#chatgpt-and-other-tools",
    "href": "slides/01_overview.html#chatgpt-and-other-tools",
    "title": "MATH167R: Overview",
    "section": "ChatGPT (and other tools)…",
    "text": "ChatGPT (and other tools)…\nStudents may use external online resources including discussion forums (ex. StackOverflow) large language model-based chatbots (ex. ChatGPT) as aids for learning and understanding course material.\nHowever, submitting code or answers for course assignments obtained using resources like StackOverflow or ChatGPT is not permitted.\nWhen external resources are consulted for an assignment, they must be cited clearly at the top of your submission."
  },
  {
    "objectID": "slides/01_overview.html#discussion",
    "href": "slides/01_overview.html#discussion",
    "title": "MATH167R: Overview",
    "section": "Discussion",
    "text": "Discussion\nCanvas discussion forum: post questions about assignments and answer questions from other students.\nPosts may not include substantial amounts of code that can be used for a solution to any problem, but may include code snippets.\n\nWorth up to 2% extra credit on your final grade!"
  },
  {
    "objectID": "slides/01_overview.html#discussion-1",
    "href": "slides/01_overview.html#discussion-1",
    "title": "MATH167R: Overview",
    "section": "Discussion",
    "text": "Discussion\n\n\nBad questions:\n\nHow do you do problem 2?\nHere’s my code and it’s broken. How do I fix it?\n\n\nGood questions:\n\nHere’s a snippet of code I used for problem 2: \ncode snippet \nIt returned the following error: \nerror message \nDoes anyone know why? I already tried…\nI don’t understand the concept from Slide 18 today. Could anyone elaborate on why…"
  },
  {
    "objectID": "slides/01_overview.html#office-hours-aka-drop-in-hours",
    "href": "slides/01_overview.html#office-hours-aka-drop-in-hours",
    "title": "MATH167R: Overview",
    "section": "Office Hours (aka drop-in hours)",
    "text": "Office Hours (aka drop-in hours)\n\n\n\n\n\n\n\nIn-person\nM 3-4pm and W 10:30-11:30am in MH426 or email for an appointment\n\n\nZoom\nBy appointment\n\n\n\nCome by:\n\nfor a snack\nto ask questions or work with other students\njust to chat!\n\nMy advice: make it a habit to drop by office hours, starting early in the semester when schedules are less busy."
  },
  {
    "objectID": "slides/01_overview.html#lecture-slides",
    "href": "slides/01_overview.html#lecture-slides",
    "title": "MATH167R: Overview",
    "section": "Lecture slides",
    "text": "Lecture slides\nSlides will usually be posted on the course website before class. I encourage you to return to the slides after class and make sure you understand the code used and the concepts covered.\nGenerally speaking, code will be contained in blocks that look like this:\n\n# example comment\nexample line of code"
  },
  {
    "objectID": "slides/01_overview.html#about-me",
    "href": "slides/01_overview.html#about-me",
    "title": "MATH167R: Overview",
    "section": "About me",
    "text": "About me\n\nGrew up in the suburbs of Philadelphia\nWent to the University of Chicago for college, University of Washington for graduate school\nSecond year assistant professor of statistics and data science at SJSU\nOther classes I teach include MATH 167R, MATH 250\nMy research focuses on developing statistical methods for answering questions in\n\nenvironmental science: Can we predict how quickly the Arctic ice cap is melting?\npublic health: How do we use limited data to measure local health?\n\ntalk to me about: getting involved in statistics research, ethics of AI, movies, hiking, knitting, …"
  },
  {
    "objectID": "slides/01_overview.html#getting-to-know-each-other",
    "href": "slides/01_overview.html#getting-to-know-each-other",
    "title": "MATH167R: Overview",
    "section": "Getting to know each other",
    "text": "Getting to know each other\nForm groups of 4-5 and discuss the following:\n\nIntroduce yourself (names, major/program)\nWhat are you excited/nervous/confused about with regards to this course? What questions do you have?\nHave you ever used R? Programmed?\nWhat is one area of interest you would like to use statistics/data science to study?"
  },
  {
    "objectID": "slides/01_overview.html#what-is-r",
    "href": "slides/01_overview.html#what-is-r",
    "title": "MATH167R: Overview",
    "section": "What is R?",
    "text": "What is R?\n\nR is a programming language designed for statistical analysis.\n\nopen-source\nfree\nlarge and active community of developers and users\ngreat analysis tools\ngreat visualization tools"
  },
  {
    "objectID": "slides/01_overview.html#why-r",
    "href": "slides/01_overview.html#why-r",
    "title": "MATH167R: Overview",
    "section": "Why R?",
    "text": "Why R?\nIn this class we will cover programming through the use of the R language, emphasizing statistical computing skills.\nAdvances in computation have enabled advances at every step of the data analysis pipeline:\n\nData collection, storage, and sharing\nExploratory data analysis and visualization\nStatistical inference and prediction\nCommunication and distribution of results\n\nR is a programming language tailored to these tasks."
  },
  {
    "objectID": "slides/01_overview.html#r-a-fancy-calculator",
    "href": "slides/01_overview.html#r-a-fancy-calculator",
    "title": "MATH167R: Overview",
    "section": "R: A fancy calculator",
    "text": "R: A fancy calculator\n\n# Addition\n6 + 3\n\n[1] 9\n\n\n\n\n# Subtraction\n6 - 3\n\n[1] 3\n\n\n\n\n\n# Multiplication\n6 * 3\n\n[1] 18\n\n\n\n\n\n# Division\n6 / 3\n\n[1] 2\n\n\nHere, the [1] indicates the first output value. We only have one output value here, but in the future we will have more."
  },
  {
    "objectID": "slides/01_overview.html#r-a-fancy-calculator-1",
    "href": "slides/01_overview.html#r-a-fancy-calculator-1",
    "title": "MATH167R: Overview",
    "section": "R: A fancy calculator",
    "text": "R: A fancy calculator\n\n# Exponentiation\n3 ^ 20\n\n[1] 3486784401\n\n\nR can usually handle bigger numbers than your handheld calculator, but even R has limits:\n\n\n# Bigger exponentiation\n3 ^ 1000\n\n[1] Inf"
  },
  {
    "objectID": "slides/01_overview.html#assignment",
    "href": "slides/01_overview.html#assignment",
    "title": "MATH167R: Overview",
    "section": "Assignment",
    "text": "Assignment\nR can also store values (like numbers) as objects, which can be referenced later:\n\nx &lt;- 7\nprint(x)\n\n[1] 7\n\ny &lt;- 3\nprint(x + y)\n\n[1] 10"
  },
  {
    "objectID": "slides/01_overview.html#a-tricky-calculator",
    "href": "slides/01_overview.html#a-tricky-calculator",
    "title": "MATH167R: Overview",
    "section": "A tricky calculator",
    "text": "A tricky calculator\nWhat do you expect the output to be?\n\nx &lt;- 7\ny &lt;- x + 1\nprint(y)\n\n\n\n\n[1] 8\n\n\n\n\nWhat about this code?\n\nx &lt;- 7\ny &lt;- x + 1\nx &lt;- 0\nprint(y)\n\n\n\n\n\n[1] 8"
  },
  {
    "objectID": "slides/01_overview.html#a-tricky-calculator-1",
    "href": "slides/01_overview.html#a-tricky-calculator-1",
    "title": "MATH167R: Overview",
    "section": "A tricky calculator",
    "text": "A tricky calculator\nWhen we assign y &lt;- x + 1, we essentially create a copy of x. As a result, when we reassign x &lt;- 0, y is not affected.\nThis isn’t necessarily “right” or “wrong”– this is just how R works! R is full of these little subtleties that you need to be able to grasp in order to write functional code."
  },
  {
    "objectID": "slides/01_overview.html#what-is-rstudio",
    "href": "slides/01_overview.html#what-is-rstudio",
    "title": "MATH167R: Overview",
    "section": "What is RStudio?",
    "text": "What is RStudio?\nRStudio is an integrated development environment (IDE) designed to make your life easier.\n\nOrganizes scripts, files, plots, code console, …\nHighlights syntax\nHelpful interactive graphical interface\nWill make an efficient, reproducible workflow much easier"
  },
  {
    "objectID": "slides/01_overview.html#a-tour-through-rstudio",
    "href": "slides/01_overview.html#a-tour-through-rstudio",
    "title": "MATH167R: Overview",
    "section": "A tour through RStudio",
    "text": "A tour through RStudio\nBy default…\n\nTop left: Editor pane. Browse and edit scripts and data with tabs\nTop right: List of objects in your Environment (recall ls()), code History\nBottom left: Console for running R code line-by-line (&gt; prompt)\nBottom right: Files, plots, packages, help files"
  },
  {
    "objectID": "slides/01_overview.html#more-than-a-fancy-calculator",
    "href": "slides/01_overview.html#more-than-a-fancy-calculator",
    "title": "MATH167R: Overview",
    "section": "More than a fancy calculator",
    "text": "More than a fancy calculator\nOf course, we wouldn’t have a whole course on R if this was all it could do."
  },
  {
    "objectID": "slides/01_overview.html#data-analysis",
    "href": "slides/01_overview.html#data-analysis",
    "title": "MATH167R: Overview",
    "section": "Data analysis",
    "text": "Data analysis\n\nlibrary(palmerpenguins)\ndata(penguins)\nlm(body_mass_g ~ flipper_length_mm, data = penguins)\n\n\nCall:\nlm(formula = body_mass_g ~ flipper_length_mm, data = penguins)\n\nCoefficients:\n      (Intercept)  flipper_length_mm  \n         -5780.83              49.69"
  },
  {
    "objectID": "slides/01_overview.html#visualization",
    "href": "slides/01_overview.html#visualization",
    "title": "MATH167R: Overview",
    "section": "Visualization",
    "text": "Visualization\n\nlibrary(ggplot2)\nggplot(penguins, aes(x = flipper_length_mm, y = body_mass_g)) + \n  geom_point() + geom_smooth(method = \"lm\")\n\n\nScatter plot showing the positive correlation between flipper length in millimeters and body mass in grams, with a blue line of best fit."
  },
  {
    "objectID": "slides/01_overview.html#communication",
    "href": "slides/01_overview.html#communication",
    "title": "MATH167R: Overview",
    "section": "Communication",
    "text": "Communication\nR Markdown files (see examples here)\n\nCombine code, output, and writing\nSelf-contained analyses\nCreates HTML, PDF, slides (like these!), webpages, …"
  },
  {
    "objectID": "slides/01_overview.html#installing-r-and-rstudio",
    "href": "slides/01_overview.html#installing-r-and-rstudio",
    "title": "MATH167R: Overview",
    "section": "Installing R and RStudio",
    "text": "Installing R and RStudio\n\nDownload and install R from this link\nDownload and install RStudio Desktop from this link."
  },
  {
    "objectID": "syllabus.html",
    "href": "syllabus.html",
    "title": "Syllabus",
    "section": "",
    "text": "Instructor\nPeter Gao\n\n\nLectures\nWeekly on Monday and Wednesday, 12-1:15pm in MH235.\n\n\nOffice Hours\nM 3-4pm and W 10:30-11:30am in MH426 or. email for an appointment\n\n\nEmail\npeter.gao [at sjsu]\nI will make every effort to respond to emails within a day, but please feel free to send me a reminder after 48 hours have passed. Please include [MATH 167R] in your subject line.",
    "crumbs": [
      "Course information",
      "Syllabus"
    ]
  },
  {
    "objectID": "syllabus.html#course-information",
    "href": "syllabus.html#course-information",
    "title": "Syllabus",
    "section": "",
    "text": "Instructor\nPeter Gao\n\n\nLectures\nWeekly on Monday and Wednesday, 12-1:15pm in MH235.\n\n\nOffice Hours\nM 3-4pm and W 10:30-11:30am in MH426 or. email for an appointment\n\n\nEmail\npeter.gao [at sjsu]\nI will make every effort to respond to emails within a day, but please feel free to send me a reminder after 48 hours have passed. Please include [MATH 167R] in your subject line.",
    "crumbs": [
      "Course information",
      "Syllabus"
    ]
  },
  {
    "objectID": "syllabus.html#learning-objectives",
    "href": "syllabus.html#learning-objectives",
    "title": "Syllabus",
    "section": "Learning objectives",
    "text": "Learning objectives\nIntroduction to the R programming language. Topics include data structures, reading and writing data, databases, data visualization, accessing packages, programming structures and functions.\nUpon successful completion of this course, students will be able to:\n\nUnderstand the structures of R objects\nImport data from a variety of sources.\nSave data in formats that can be used by other programs.\nCreate publication quality graphs.\nDownload and install packages.\nCreate reusable functions.\nPerform statistical analysis on R.\n\nThis course aims to help you build a foundation of computational skills for data analysis. Data encountered in real world applications are usually messy, breaking many of the assumptions we make in typical statistics courses. Throughout this course, we will practice using computers to help us understand, summarize, visualize, and model complex data in a reproducible way.",
    "crumbs": [
      "Course information",
      "Syllabus"
    ]
  },
  {
    "objectID": "syllabus.html#materials",
    "href": "syllabus.html#materials",
    "title": "Syllabus",
    "section": "Materials",
    "text": "Materials\nThe primary text for the course will be the lecture slides, which will be posted to the course website. The following textbooks may be useful resources.\n\nGrolemund, G. (2014). Hands-On Programming with R. Available here for free.\nWickham, H. and Grolemund, G. (2023). R for Data Science. Available here for free.\nLee, B.L. (2016). An Introduction to Computational Probability and Statistics with R (Draft).\nÇetinkaya-Rundel, M. and Hardin, J. (2021) Introduction to Modern Statistics. Available here for free.\n\nThe main way we will interact with R is through the software RStudio, both of which can be downloaded and installed for free. The students will be required to have access to a computer with R and RStudio. The computer lab in MacQuarrie Hall 221 contains computers with all of the software that will be used during the semester. All of the coursework may be completed on a personal computer and the software is freely available to students.",
    "crumbs": [
      "Course information",
      "Syllabus"
    ]
  },
  {
    "objectID": "syllabus.html#course-requirements-and-grading",
    "href": "syllabus.html#course-requirements-and-grading",
    "title": "Syllabus",
    "section": "Course requirements and grading",
    "text": "Course requirements and grading\n\nCheck-ins: On most Mondays, you will be assigned short check-in assignments. These are designed to be completed during lab or shortly after and will usually be due at the start of the next class. At the end of the quarter, your lowest check-in grade will be dropped. They will be graded on the following two point scale:\n\n0: indicates incomplete or unacceptable work\n1: represents demonstrated effort towards completing at least 75% of the assignment\n2: represents demonstrated effort towards completing the entire assignment.\n\nLabs: On most Wednesdays, you will be assigned Labs. These are extended, more complicated assignments that you will likely not be able to complete during class. They will typically be due the next Wednesday. At the end of the quarter, your lowest lab grade will be dropped.\nMidterm and Final Exams: There will be one in-person midterm during the semester and one final exam during finals week. Practice questions will be provided in advance of the exams. There will be no make-up midterm or final exams.\nClass Project: During the semester, you will complete a class project that requires you to apply the data manipulation, visualization, and analysis skills covered in this course to a real-world dataset of your choice.\nLate Work: In general, the late policy is as follows: Any assignment that is received late but less than 24 hours late will receive a grade penalty of 25%. Any assignment that is received 24 to 48 hours late will receive a grade penalty of 50%. Assignments will not be accepted more than 48 hours late.\n\n\nGrading scale\nYour final grade will be calculated as follows:\n\n10%: Check-ins\n40%: Labs\n20%: Final exam\n30%: Final project\n\n\n\n\nLetter Grade\nRaw Percentage\n\n\n\n\nA plus\n96 to 100%\n\n\nA\n93 to 95%\n\n\nA minus\n90 to 92%\n\n\nB plus\n86 to 89%\n\n\nB\n83 to 85%\n\n\nB minus\n80 to 82%\n\n\nC plus\n76 to 79%\n\n\nC\n73 to 75%\n\n\nC minus\n70 to 72%\n\n\nD plus\n66 to 69%\n\n\nD\n63 to 65%\n\n\nD minus\n60 to 62%\n\n\nF\n0 to 60%",
    "crumbs": [
      "Course information",
      "Syllabus"
    ]
  },
  {
    "objectID": "syllabus.html#course-schedule",
    "href": "syllabus.html#course-schedule",
    "title": "Syllabus",
    "section": "Course Schedule",
    "text": "Course Schedule\nThe updated course schedule is available on the course homepage here.",
    "crumbs": [
      "Course information",
      "Syllabus"
    ]
  },
  {
    "objectID": "syllabus.html#policies",
    "href": "syllabus.html#policies",
    "title": "Syllabus",
    "section": "Policies",
    "text": "Policies\n\nFeedback\nI encourage and appreciate your feedback throughout the quarter. You are welcome to provide feedback on any aspect of the course at any time via email or in person. If you would prefer to do so confidentially, you can do so through the form on the course Canvas page.\n\n\nCollaboration\nOn most assignments, collaboration is allowed and encouraged. You may discuss problems, approaches, and solutions with your classmates. Acceptable collaboration is limited to your classmates in this course and you must clearly include on any collaborative work the name(s) of anyone with whom you worked. Additionally, all submitted work must be your own; you should not submit code or answers copied from any resource including your classmates. Plagiarism and cheating is easy to detect and can lead to serious negative consequences for you. If you have any questions regarding this policy, please ask for clarification.\n\n\nOnline resources\nStudents are encouraged to use online resources including large language model-based chatbots (ex. ChatGPT) as aids for learning and understanding course material. However, the use of external resources like ChatGPT to generate code or answers for course labs, assignments, exams, and projects is not permitted.\n\n\nDiscussion\nYou are encouraged to participate on the discussion forum by posting questions about assignments and answering questions from other students. Posts may not include substantial amounts of code that can be used for a solution to any problem, but may include code snippets within reason. Participation, in the form of both questions and answers, can earn you up to 2% extra credit for your final grade. Posts will be evaluated based on how substantive and helpful they are to the class.\n\n\nUniversity policies\nPer University Policy S16-9, relevant university policy concerning all courses, such as student responsibilities, academic integrity, accommodations, dropping and adding, consent for recording of class, etc. and available student services (e.g. learning assistance, counseling, and other resources) are listed on Syllabus Information web page (link). Make sure to visit this page to review and be aware of these university policies and resources.",
    "crumbs": [
      "Course information",
      "Syllabus"
    ]
  },
  {
    "objectID": "syllabus.html#frequently-asked-questions",
    "href": "syllabus.html#frequently-asked-questions",
    "title": "Syllabus",
    "section": "Frequently Asked Questions",
    "text": "Frequently Asked Questions\nQ1. Why doesn’t my code work? Why don’t I “get” programming?\nA1. This is a natural part of learning to program. In fact, I believe that the ability to work through “bugs” and broken code is the single most important skill you can develop in this course. If you can learn how to be resourceful and solve your own coding problems, you will be able to learn any programming language on your own.\nQ2. OK, but my homework is due in a week and I need actual advice on how to fix this bug.\nA2. It sounds like you’re getting started early! Good. If you’re running into trouble, here are a few places you can ask for help:\n\nGoogle\nStackOverflow\nThe course discussion board\nYour classmates\n\nQ3. OK, but my homework is due tomorrow and I still can’t fix this bug.\nA3. Above all, try not to put yourself in this position. Start early and ask questions early. Give yourself time to solve your own problems. Of course, sometime you will get busy or life will get in the way and you won’t have as much time as you would like to work on an assignment. My second piece of advice is don’t go it alone. There have been numerous times where I have spent hours looking for a bug only to have a friend identify it in minutes. This does not just mean asking your friends who have already completed MATH 167 for help—some times all you need is a different perspective. Ask your classmates for help—in person or on the discussion board.",
    "crumbs": [
      "Course information",
      "Syllabus"
    ]
  },
  {
    "objectID": "checkins/03_checkin.html",
    "href": "checkins/03_checkin.html",
    "title": "Check-in 3",
    "section": "",
    "text": "Remember, follow the instructions below and use R Markdown to create an html document. You may find a template file by clicking “Code” in the top right corner of this page.\nUse the following code to download the annual consumer price index data from the World Bank:\n\nlibrary(openxlsx)\ncpi &lt;- read.xlsx(\"https://thedocs.worldbank.org/en/doc/1ad246272dbbc437c74323719506aa0c-0350012021/original/Inflation-data.xlsx\",\n                 sheet = 5)\ncpi &lt;- cpi[1:203,]\n\n\nCreate a line plot with Year on the x-axis and CPI on the y-axis, with different color lines for the US, Canada, and Mexico."
  },
  {
    "objectID": "checkins/05_checkin.html",
    "href": "checkins/05_checkin.html",
    "title": "Check-in 5",
    "section": "",
    "text": "Remember, follow the instructions below and use R Markdown to create an html document with your code and answers to the following questions. You may find a template file by clicking “Code” in the top right corner of this page.\n\n(Project Euler Problem 1) The natural numbers less than 10 that are divisible by 3 or 5 are 3, 5, 6, and 9. The sum of these numbers is 23. Write R code to compute the sum of all the numbers less than 1000 that are divisible by 3 or 5."
  },
  {
    "objectID": "checkins/09_checkin.html",
    "href": "checkins/09_checkin.html",
    "title": "Check-in 9",
    "section": "",
    "text": "Remember, you must submit both your .Rmd and the compiled .html in order to receive full credit! In addition, to receive full credit, your code output and plots must be correctly formatted.\n\nCollaborators\nINSERT NAMES OF ANY COLLABORATORS\n\n(Devore Section 7.2 #5) Assume that the helium porosity (in percentage) of coal samples taken from any particular seam is normally distributed with true standard deviation .75. Compute a 90% CI for the true average porosity of a certain seam if the average porosity for 20 specimens from the seam was 4.85.\nThe trees data set provides measurements for a sample of 31 felled black cherry trees. Based on this sample, create a 95% confidence interval for the population mean girth. You may use the command data(trees) to download this data."
  },
  {
    "objectID": "checkins/02_checkin.html",
    "href": "checkins/02_checkin.html",
    "title": "Check-in 2",
    "section": "",
    "text": "Remember, follow the instructions below and use R Markdown to create an html document. You may find a template file by clicking “Code” in the top right corner of this page."
  },
  {
    "objectID": "checkins/02_checkin.html#a.-flights-data",
    "href": "checkins/02_checkin.html#a.-flights-data",
    "title": "Check-in 2",
    "section": "A. Flights Data",
    "text": "A. Flights Data\n1. For this lab, we’ll be using the flights data. You can load this data using the following code:\n\nlibrary(nycflights13)\ndata(flights)\n\n2. Use the mutate() function to turn origin into a factor.\n\n# YOUR CODE HERE\n\n3. Compute the mean arr_delay for each origin airport. Which airport has the longest delays on average? You can drop missing rows.\n\n# YOUR CODE HERE\n\n\n4. Use the mutate() function to turn month into a factor.\n\n# YOUR CODE HERE\n\n\n5. Compute the mean arr_delay by month. What do you notice?\n\n# YOUR CODE HERE\n\n\n6. Compute the mean arr_delay by month AND origin. What do you notice?\n\n# YOUR CODE HERE"
  },
  {
    "objectID": "checkins/01_checkin.html",
    "href": "checkins/01_checkin.html",
    "title": "Check-in 1: R Markdown",
    "section": "",
    "text": "This is a code chunk that opens the mtcars dataset, which contains information about on 32 cars from a 1974 issue of the magazine Motor Trend and creates a scatter plot with horsepower hp on the x-axis and miles-per-gallon mpg on the y-axis. Try running this code and Rendering/Knitting your Rmd document. If you have done this correctly, RStudio should produce an html document.\n\n\ndata(mtcars)\nplot(mtcars$hp, mtcars$mpg)\n\n\n\n\nScatter plot showing a negative correlation between horsepower (x-axis) and miles per gallon (y-axis).\n\n\n\n\n\nUsing this scatter plot, describe the relationship between mpg and hp.\nCreate your own code chunk below this question containing the line of code print(\"Hello MATH167R!\"). Then Render/Knit your Rmd document. If you have done this correctly, RStudio should produce an html document."
  },
  {
    "objectID": "checkins/04_checkin.html",
    "href": "checkins/04_checkin.html",
    "title": "Check-in 4",
    "section": "",
    "text": "Remember, follow the instructions below and use R Markdown to create an html document with your code and answers to the following questions. You may find a template file by clicking “Code” in the top right corner of this page.\n\nThe hard-threshold function is defined as\n\n\\[f_\\lambda(x) =\\begin{cases}\nx & |x|\\geq \\lambda\\\\\n0 & |x|&lt;\\lambda\n\\end{cases}\\]\nWrite an R function that takes two arguments as input: a numeric input x and a threshold lambda. Your function should return the value of \\(f_\\lambda(x)\\) and work for vector input x of any length.\n\nFor \\(\\lambda=4\\), demonstrate your function on the vector c(-5, -3, 0, 3, 5).\n\n(Hint: the output should be the vector -5, 0, 0, 0, 5)\n\nFor \\(\\lambda=2\\), demonstrate your function on the vector c(-7, -5, -3, 0, 3, 5, 7)."
  }
]